<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.62" />
    <meta name="theme" content="VuePress Theme Hope" />
    <link rel="icon" href="/favicon.ico"><title>十五、Canvas 详细版 | 郁子IKUKO</title><meta name="description" content="感谢访问郁子IKUKO的个人VuePress站点">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-89c386c5.css" as="style"><link rel="stylesheet" href="/assets/style-89c386c5.css">
    <link rel="modulepreload" href="/assets/app-2b833c71.js"><link rel="modulepreload" href="/assets/15.html-c6826ace.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-c27b6911.js"><link rel="modulepreload" href="/assets/15.html-c89e81cb.js"><link rel="prefetch" href="/assets/aboutMe.html-b9eb5111.js" as="script"><link rel="prefetch" href="/assets/index.html-836bdde0.js" as="script"><link rel="prefetch" href="/assets/00.html-773e226a.js" as="script"><link rel="prefetch" href="/assets/01.html-47acc0a6.js" as="script"><link rel="prefetch" href="/assets/02.html-975fffa2.js" as="script"><link rel="prefetch" href="/assets/03.html-4fbb5e58.js" as="script"><link rel="prefetch" href="/assets/04.html-ab793048.js" as="script"><link rel="prefetch" href="/assets/05.html-60a661a7.js" as="script"><link rel="prefetch" href="/assets/06.html-1d8909e6.js" as="script"><link rel="prefetch" href="/assets/07.html-9f871dd1.js" as="script"><link rel="prefetch" href="/assets/08.html-dee1bdf5.js" as="script"><link rel="prefetch" href="/assets/09.html-258b664c.js" as="script"><link rel="prefetch" href="/assets/10.html-112851bd.js" as="script"><link rel="prefetch" href="/assets/11.html-e2fef7e1.js" as="script"><link rel="prefetch" href="/assets/12.html-3458af79.js" as="script"><link rel="prefetch" href="/assets/00.html-b7cc1a2b.js" as="script"><link rel="prefetch" href="/assets/00.html-a7eb8ffb.js" as="script"><link rel="prefetch" href="/assets/BuildFrames.html-75659998.js" as="script"><link rel="prefetch" href="/assets/Components.html-dcec2de0.js" as="script"><link rel="prefetch" href="/assets/Plugins.html-bd81d6cb.js" as="script"><link rel="prefetch" href="/assets/ProjectFrames.html-7f4d24e8.js" as="script"><link rel="prefetch" href="/assets/Tools.html-17dad07a.js" as="script"><link rel="prefetch" href="/assets/01.html-374c21cd.js" as="script"><link rel="prefetch" href="/assets/02.html-f5e9179b.js" as="script"><link rel="prefetch" href="/assets/01.html-f8a3dbd3.js" as="script"><link rel="prefetch" href="/assets/02.html-9c0d2274.js" as="script"><link rel="prefetch" href="/assets/03.html-e13f4821.js" as="script"><link rel="prefetch" href="/assets/04.html-55fc9acc.js" as="script"><link rel="prefetch" href="/assets/05.html-7757a265.js" as="script"><link rel="prefetch" href="/assets/06.html-19d2e1ff.js" as="script"><link rel="prefetch" href="/assets/07.html-9624ce82.js" as="script"><link rel="prefetch" href="/assets/08.html-2f18919e.js" as="script"><link rel="prefetch" href="/assets/09.html-303785f4.js" as="script"><link rel="prefetch" href="/assets/10.html-eb750852.js" as="script"><link rel="prefetch" href="/assets/11.html-d194b71d.js" as="script"><link rel="prefetch" href="/assets/12.html-73585858.js" as="script"><link rel="prefetch" href="/assets/13.html-5f681e16.js" as="script"><link rel="prefetch" href="/assets/14.html-fad6b9c2.js" as="script"><link rel="prefetch" href="/assets/15.html-fc389f8c.js" as="script"><link rel="prefetch" href="/assets/16.html-f24f69d6.js" as="script"><link rel="prefetch" href="/assets/17.html-3f6d50e2.js" as="script"><link rel="prefetch" href="/assets/18.html-57b9f165.js" as="script"><link rel="prefetch" href="/assets/19.html-1e90c833.js" as="script"><link rel="prefetch" href="/assets/20.html-a1d7df59.js" as="script"><link rel="prefetch" href="/assets/21.html-bf62c477.js" as="script"><link rel="prefetch" href="/assets/22.html-1b54066e.js" as="script"><link rel="prefetch" href="/assets/23.html-630f8948.js" as="script"><link rel="prefetch" href="/assets/24.html-0dc6353d.js" as="script"><link rel="prefetch" href="/assets/01.html-c78d59cd.js" as="script"><link rel="prefetch" href="/assets/02.html-cedc1288.js" as="script"><link rel="prefetch" href="/assets/03.html-6661142b.js" as="script"><link rel="prefetch" href="/assets/04.html-8d07fae8.js" as="script"><link rel="prefetch" href="/assets/01.html-330554e3.js" as="script"><link rel="prefetch" href="/assets/02.html-88624153.js" as="script"><link rel="prefetch" href="/assets/03.html-6318b95f.js" as="script"><link rel="prefetch" href="/assets/04.html-1e9e4461.js" as="script"><link rel="prefetch" href="/assets/05.html-12b2a269.js" as="script"><link rel="prefetch" href="/assets/06.html-ab68048e.js" as="script"><link rel="prefetch" href="/assets/07.html-2340c07f.js" as="script"><link rel="prefetch" href="/assets/01.html-7c0d6122.js" as="script"><link rel="prefetch" href="/assets/02.html-305c8fd5.js" as="script"><link rel="prefetch" href="/assets/03.html-b5e6417d.js" as="script"><link rel="prefetch" href="/assets/04.html-aac1fac2.js" as="script"><link rel="prefetch" href="/assets/05.html-3e3a55c8.js" as="script"><link rel="prefetch" href="/assets/01.html-e7492e39.js" as="script"><link rel="prefetch" href="/assets/02.html-03d58065.js" as="script"><link rel="prefetch" href="/assets/03.html-4e175537.js" as="script"><link rel="prefetch" href="/assets/04.html-f4a3887b.js" as="script"><link rel="prefetch" href="/assets/05.html-ca4f2ff8.js" as="script"><link rel="prefetch" href="/assets/06.html-654fd004.js" as="script"><link rel="prefetch" href="/assets/07.html-afe7ebe0.js" as="script"><link rel="prefetch" href="/assets/08.html-ca2964fe.js" as="script"><link rel="prefetch" href="/assets/09.html-fbc77a10.js" as="script"><link rel="prefetch" href="/assets/01.html-af1b9d31.js" as="script"><link rel="prefetch" href="/assets/02.html-88880a68.js" as="script"><link rel="prefetch" href="/assets/03.html-55765a85.js" as="script"><link rel="prefetch" href="/assets/04.html-f3e79d68.js" as="script"><link rel="prefetch" href="/assets/05.html-5a6245d6.js" as="script"><link rel="prefetch" href="/assets/06.html-a6da3f0e.js" as="script"><link rel="prefetch" href="/assets/07.html-54efc4ec.js" as="script"><link rel="prefetch" href="/assets/08.html-0ba4ba27.js" as="script"><link rel="prefetch" href="/assets/09.html-c2c56496.js" as="script"><link rel="prefetch" href="/assets/10.html-7f80c83f.js" as="script"><link rel="prefetch" href="/assets/11.html-b066bd00.js" as="script"><link rel="prefetch" href="/assets/12.html-ded9b710.js" as="script"><link rel="prefetch" href="/assets/13.html-64fd8776.js" as="script"><link rel="prefetch" href="/assets/14.html-8157deb5.js" as="script"><link rel="prefetch" href="/assets/15.html-8bb54e71.js" as="script"><link rel="prefetch" href="/assets/16.html-16836920.js" as="script"><link rel="prefetch" href="/assets/17.html-536dcdf3.js" as="script"><link rel="prefetch" href="/assets/18.html-f8490665.js" as="script"><link rel="prefetch" href="/assets/19.html-2b8f17de.js" as="script"><link rel="prefetch" href="/assets/20.html-3fad3085.js" as="script"><link rel="prefetch" href="/assets/21.html-7e14fe99.js" as="script"><link rel="prefetch" href="/assets/22.html-fb2159e9.js" as="script"><link rel="prefetch" href="/assets/23.html-0cbae0f1.js" as="script"><link rel="prefetch" href="/assets/24.html-6b50f401.js" as="script"><link rel="prefetch" href="/assets/25.html-3631eeb5.js" as="script"><link rel="prefetch" href="/assets/01.html-bd15e5a0.js" as="script"><link rel="prefetch" href="/assets/02.html-4204a68c.js" as="script"><link rel="prefetch" href="/assets/03.html-a02b2672.js" as="script"><link rel="prefetch" href="/assets/04.html-08303f41.js" as="script"><link rel="prefetch" href="/assets/05.html-a75a9419.js" as="script"><link rel="prefetch" href="/assets/01.html-4be5ba86.js" as="script"><link rel="prefetch" href="/assets/02.html-942ec100.js" as="script"><link rel="prefetch" href="/assets/03.html-9dfd73bf.js" as="script"><link rel="prefetch" href="/assets/04.html-5a6be22b.js" as="script"><link rel="prefetch" href="/assets/05.html-15bace98.js" as="script"><link rel="prefetch" href="/assets/06.html-b490c9f9.js" as="script"><link rel="prefetch" href="/assets/07.html-7354a50d.js" as="script"><link rel="prefetch" href="/assets/08.html-04b9fe91.js" as="script"><link rel="prefetch" href="/assets/09.html-adf10ebf.js" as="script"><link rel="prefetch" href="/assets/10.html-35d1a055.js" as="script"><link rel="prefetch" href="/assets/11.html-9772e438.js" as="script"><link rel="prefetch" href="/assets/12.html-70253312.js" as="script"><link rel="prefetch" href="/assets/13.html-ce6b2a25.js" as="script"><link rel="prefetch" href="/assets/14.html-115a3ab3.js" as="script"><link rel="prefetch" href="/assets/15.html-4d1431d6.js" as="script"><link rel="prefetch" href="/assets/16.html-7028fac8.js" as="script"><link rel="prefetch" href="/assets/17.html-0c15016f.js" as="script"><link rel="prefetch" href="/assets/18.html-357ccc4a.js" as="script"><link rel="prefetch" href="/assets/19.html-b20cfded.js" as="script"><link rel="prefetch" href="/assets/20.html-598dcdc2.js" as="script"><link rel="prefetch" href="/assets/21.html-aa5d1de4.js" as="script"><link rel="prefetch" href="/assets/22.html-4c71dda5.js" as="script"><link rel="prefetch" href="/assets/23.html-ef17fa1d.js" as="script"><link rel="prefetch" href="/assets/24.html-68aa099f.js" as="script"><link rel="prefetch" href="/assets/25.html-3ccb36b5.js" as="script"><link rel="prefetch" href="/assets/26.html-c936d0e5.js" as="script"><link rel="prefetch" href="/assets/27.html-d01c62b3.js" as="script"><link rel="prefetch" href="/assets/28.html-c7d4affd.js" as="script"><link rel="prefetch" href="/assets/29.html-2f60a0b8.js" as="script"><link rel="prefetch" href="/assets/30.html-9e069dc1.js" as="script"><link rel="prefetch" href="/assets/31.html-2a685c4e.js" as="script"><link rel="prefetch" href="/assets/32.html-14213afe.js" as="script"><link rel="prefetch" href="/assets/33.html-46af7ddf.js" as="script"><link rel="prefetch" href="/assets/34.html-d0fdc037.js" as="script"><link rel="prefetch" href="/assets/35.html-75661e65.js" as="script"><link rel="prefetch" href="/assets/36.html-ee1eec45.js" as="script"><link rel="prefetch" href="/assets/37.html-16c7843b.js" as="script"><link rel="prefetch" href="/assets/38.html-02761f64.js" as="script"><link rel="prefetch" href="/assets/39.html-3c172a5b.js" as="script"><link rel="prefetch" href="/assets/40.html-f544f44c.js" as="script"><link rel="prefetch" href="/assets/41.html-316f495f.js" as="script"><link rel="prefetch" href="/assets/01.html-1407344c.js" as="script"><link rel="prefetch" href="/assets/02.html-29f1e540.js" as="script"><link rel="prefetch" href="/assets/03.html-dc099d6b.js" as="script"><link rel="prefetch" href="/assets/04.html-b3aecc2b.js" as="script"><link rel="prefetch" href="/assets/05.html-03ecdbf1.js" as="script"><link rel="prefetch" href="/assets/06.html-0557b5be.js" as="script"><link rel="prefetch" href="/assets/07.html-33e21463.js" as="script"><link rel="prefetch" href="/assets/08.html-fed99730.js" as="script"><link rel="prefetch" href="/assets/09.html-a086cd54.js" as="script"><link rel="prefetch" href="/assets/10.html-9bbb91ca.js" as="script"><link rel="prefetch" href="/assets/11.html-ef12556c.js" as="script"><link rel="prefetch" href="/assets/12.html-88303391.js" as="script"><link rel="prefetch" href="/assets/001.html-3fe94843.js" as="script"><link rel="prefetch" href="/assets/01.html-51971785.js" as="script"><link rel="prefetch" href="/assets/02.html-f07ac899.js" as="script"><link rel="prefetch" href="/assets/03.html-16a58131.js" as="script"><link rel="prefetch" href="/assets/04.html-d298b41f.js" as="script"><link rel="prefetch" href="/assets/05.html-fba298a2.js" as="script"><link rel="prefetch" href="/assets/06.html-2f40e5ac.js" as="script"><link rel="prefetch" href="/assets/07.html-c9cb275d.js" as="script"><link rel="prefetch" href="/assets/08.html-bcd4eed0.js" as="script"><link rel="prefetch" href="/assets/09.html-06d3645b.js" as="script"><link rel="prefetch" href="/assets/10.html-77b3cbc7.js" as="script"><link rel="prefetch" href="/assets/11.html-feb42164.js" as="script"><link rel="prefetch" href="/assets/12.html-43dcb854.js" as="script"><link rel="prefetch" href="/assets/13.html-32e5012f.js" as="script"><link rel="prefetch" href="/assets/14.html-9866c45d.js" as="script"><link rel="prefetch" href="/assets/01.html-bc1a7f73.js" as="script"><link rel="prefetch" href="/assets/02.html-ce97e082.js" as="script"><link rel="prefetch" href="/assets/03.html-f7d7859a.js" as="script"><link rel="prefetch" href="/assets/04.html-0c998e0d.js" as="script"><link rel="prefetch" href="/assets/01.html-62cec1ac.js" as="script"><link rel="prefetch" href="/assets/02.html-1d3a7b0d.js" as="script"><link rel="prefetch" href="/assets/03.html-446dc676.js" as="script"><link rel="prefetch" href="/assets/04.html-e0e70fd1.js" as="script"><link rel="prefetch" href="/assets/05.html-70858b43.js" as="script"><link rel="prefetch" href="/assets/06.html-f5d982d0.js" as="script"><link rel="prefetch" href="/assets/01.html-2352a2cc.js" as="script"><link rel="prefetch" href="/assets/02.html-7ba767d6.js" as="script"><link rel="prefetch" href="/assets/03.html-4de9ec45.js" as="script"><link rel="prefetch" href="/assets/04.html-062a8316.js" as="script"><link rel="prefetch" href="/assets/05.html-43a7369d.js" as="script"><link rel="prefetch" href="/assets/06.html-dcd20992.js" as="script"><link rel="prefetch" href="/assets/07.html-a2db67a9.js" as="script"><link rel="prefetch" href="/assets/08.html-1d7e0c4e.js" as="script"><link rel="prefetch" href="/assets/09.html-bcb1dd27.js" as="script"><link rel="prefetch" href="/assets/10.html-16272841.js" as="script"><link rel="prefetch" href="/assets/11.html-5e24db10.js" as="script"><link rel="prefetch" href="/assets/12.html-ea861d22.js" as="script"><link rel="prefetch" href="/assets/13.html-f1510d4d.js" as="script"><link rel="prefetch" href="/assets/14.html-74674071.js" as="script"><link rel="prefetch" href="/assets/15.html-1e5f589c.js" as="script"><link rel="prefetch" href="/assets/16.html-501aca5f.js" as="script"><link rel="prefetch" href="/assets/404.html-f04ced3e.js" as="script"><link rel="prefetch" href="/assets/index.html-486ec3b2.js" as="script"><link rel="prefetch" href="/assets/index.html-1447883c.js" as="script"><link rel="prefetch" href="/assets/index.html-9f9b2bde.js" as="script"><link rel="prefetch" href="/assets/index.html-c17bbc25.js" as="script"><link rel="prefetch" href="/assets/index.html-3ebeff2f.js" as="script"><link rel="prefetch" href="/assets/index.html-53309277.js" as="script"><link rel="prefetch" href="/assets/index.html-db01bc95.js" as="script"><link rel="prefetch" href="/assets/index.html-7ab6628d.js" as="script"><link rel="prefetch" href="/assets/index.html-172d8032.js" as="script"><link rel="prefetch" href="/assets/index.html-d36ccd46.js" as="script"><link rel="prefetch" href="/assets/index.html-77d26d84.js" as="script"><link rel="prefetch" href="/assets/index.html-0a8a3156.js" as="script"><link rel="prefetch" href="/assets/index.html-f9fcdd03.js" as="script"><link rel="prefetch" href="/assets/index.html-fcffe727.js" as="script"><link rel="prefetch" href="/assets/index.html-0e4dd527.js" as="script"><link rel="prefetch" href="/assets/index.html-eaeaf55e.js" as="script"><link rel="prefetch" href="/assets/index.html-d0c667d0.js" as="script"><link rel="prefetch" href="/assets/index.html-10fcf46d.js" as="script"><link rel="prefetch" href="/assets/index.html-e609b71c.js" as="script"><link rel="prefetch" href="/assets/index.html-04a11369.js" as="script"><link rel="prefetch" href="/assets/index.html-d1922e1a.js" as="script"><link rel="prefetch" href="/assets/index.html-c43655ce.js" as="script"><link rel="prefetch" href="/assets/index.html-b67245ca.js" as="script"><link rel="prefetch" href="/assets/index.html-f68d10cb.js" as="script"><link rel="prefetch" href="/assets/index.html-cfb7f412.js" as="script"><link rel="prefetch" href="/assets/index.html-69c2e1ec.js" as="script"><link rel="prefetch" href="/assets/index.html-cff1613f.js" as="script"><link rel="prefetch" href="/assets/index.html-dec8813f.js" as="script"><link rel="prefetch" href="/assets/index.html-745ce1e2.js" as="script"><link rel="prefetch" href="/assets/index.html-e42f371f.js" as="script"><link rel="prefetch" href="/assets/index.html-69d25315.js" as="script"><link rel="prefetch" href="/assets/index.html-66f8ec3f.js" as="script"><link rel="prefetch" href="/assets/index.html-41cfbae3.js" as="script"><link rel="prefetch" href="/assets/index.html-6d03a066.js" as="script"><link rel="prefetch" href="/assets/index.html-4d9a82e4.js" as="script"><link rel="prefetch" href="/assets/index.html-c585c970.js" as="script"><link rel="prefetch" href="/assets/index.html-1807d46c.js" as="script"><link rel="prefetch" href="/assets/index.html-b0ab55f8.js" as="script"><link rel="prefetch" href="/assets/index.html-ef5155e6.js" as="script"><link rel="prefetch" href="/assets/index.html-cf4d1f7c.js" as="script"><link rel="prefetch" href="/assets/index.html-d999584f.js" as="script"><link rel="prefetch" href="/assets/index.html-d6477813.js" as="script"><link rel="prefetch" href="/assets/index.html-b1f56885.js" as="script"><link rel="prefetch" href="/assets/index.html-8a42e456.js" as="script"><link rel="prefetch" href="/assets/index.html-6271d100.js" as="script"><link rel="prefetch" href="/assets/index.html-f87c981b.js" as="script"><link rel="prefetch" href="/assets/index.html-d6be6312.js" as="script"><link rel="prefetch" href="/assets/index.html-fbb51782.js" as="script"><link rel="prefetch" href="/assets/index.html-4fe9d7ec.js" as="script"><link rel="prefetch" href="/assets/index.html-d4dd90c5.js" as="script"><link rel="prefetch" href="/assets/index.html-7d9abe40.js" as="script"><link rel="prefetch" href="/assets/index.html-8549e6d6.js" as="script"><link rel="prefetch" href="/assets/index.html-ddc9db08.js" as="script"><link rel="prefetch" href="/assets/index.html-866458d4.js" as="script"><link rel="prefetch" href="/assets/index.html-4139471e.js" as="script"><link rel="prefetch" href="/assets/index.html-86cb0b5c.js" as="script"><link rel="prefetch" href="/assets/index.html-8e7427e2.js" as="script"><link rel="prefetch" href="/assets/index.html-89f511ee.js" as="script"><link rel="prefetch" href="/assets/index.html-f3f60bc8.js" as="script"><link rel="prefetch" href="/assets/index.html-1c318006.js" as="script"><link rel="prefetch" href="/assets/index.html-e4541426.js" as="script"><link rel="prefetch" href="/assets/index.html-b44e200b.js" as="script"><link rel="prefetch" href="/assets/index.html-914a0bf0.js" as="script"><link rel="prefetch" href="/assets/index.html-854e0cc7.js" as="script"><link rel="prefetch" href="/assets/index.html-9588fe6e.js" as="script"><link rel="prefetch" href="/assets/index.html-bf4a2d22.js" as="script"><link rel="prefetch" href="/assets/index.html-e1272503.js" as="script"><link rel="prefetch" href="/assets/index.html-0b17dc56.js" as="script"><link rel="prefetch" href="/assets/index.html-be88dee5.js" as="script"><link rel="prefetch" href="/assets/index.html-94a8e1d7.js" as="script"><link rel="prefetch" href="/assets/index.html-cfde99b9.js" as="script"><link rel="prefetch" href="/assets/index.html-378c2473.js" as="script"><link rel="prefetch" href="/assets/index.html-027a95cc.js" as="script"><link rel="prefetch" href="/assets/index.html-42feb1d0.js" as="script"><link rel="prefetch" href="/assets/index.html-6f0904ff.js" as="script"><link rel="prefetch" href="/assets/index.html-dec65fa0.js" as="script"><link rel="prefetch" href="/assets/index.html-f5270fa2.js" as="script"><link rel="prefetch" href="/assets/index.html-dd2fae20.js" as="script"><link rel="prefetch" href="/assets/index.html-60df0079.js" as="script"><link rel="prefetch" href="/assets/index.html-1c4c34d6.js" as="script"><link rel="prefetch" href="/assets/index.html-7d761878.js" as="script"><link rel="prefetch" href="/assets/index.html-d7339742.js" as="script"><link rel="prefetch" href="/assets/index.html-ea7a6632.js" as="script"><link rel="prefetch" href="/assets/index.html-92cd749b.js" as="script"><link rel="prefetch" href="/assets/index.html-346a3160.js" as="script"><link rel="prefetch" href="/assets/index.html-308efcdc.js" as="script"><link rel="prefetch" href="/assets/index.html-c753ec2d.js" as="script"><link rel="prefetch" href="/assets/index.html-d9745392.js" as="script"><link rel="prefetch" href="/assets/index.html-e058b54e.js" as="script"><link rel="prefetch" href="/assets/index.html-a6f64289.js" as="script"><link rel="prefetch" href="/assets/index.html-eee55acd.js" as="script"><link rel="prefetch" href="/assets/index.html-7e00beca.js" as="script"><link rel="prefetch" href="/assets/index.html-b8637964.js" as="script"><link rel="prefetch" href="/assets/index.html-2fbdddc6.js" as="script"><link rel="prefetch" href="/assets/index.html-0337e30e.js" as="script"><link rel="prefetch" href="/assets/index.html-57eea149.js" as="script"><link rel="prefetch" href="/assets/index.html-d027558d.js" as="script"><link rel="prefetch" href="/assets/index.html-2ad27254.js" as="script"><link rel="prefetch" href="/assets/index.html-601250f8.js" as="script"><link rel="prefetch" href="/assets/index.html-28fe159e.js" as="script"><link rel="prefetch" href="/assets/index.html-ba49a850.js" as="script"><link rel="prefetch" href="/assets/index.html-814e0476.js" as="script"><link rel="prefetch" href="/assets/index.html-46eae5b7.js" as="script"><link rel="prefetch" href="/assets/index.html-85f1c473.js" as="script"><link rel="prefetch" href="/assets/aboutMe.html-b3622ac3.js" as="script"><link rel="prefetch" href="/assets/index.html-1b2eeab9.js" as="script"><link rel="prefetch" href="/assets/00.html-89d2b20b.js" as="script"><link rel="prefetch" href="/assets/01.html-ed39f755.js" as="script"><link rel="prefetch" href="/assets/02.html-332ce572.js" as="script"><link rel="prefetch" href="/assets/03.html-cc8df735.js" as="script"><link rel="prefetch" href="/assets/04.html-ea34c234.js" as="script"><link rel="prefetch" href="/assets/05.html-e63f0cac.js" as="script"><link rel="prefetch" href="/assets/06.html-9c0669cc.js" as="script"><link rel="prefetch" href="/assets/07.html-cc20927f.js" as="script"><link rel="prefetch" href="/assets/08.html-af1e4d45.js" as="script"><link rel="prefetch" href="/assets/09.html-cd924ebf.js" as="script"><link rel="prefetch" href="/assets/10.html-b60ca304.js" as="script"><link rel="prefetch" href="/assets/11.html-e4c49157.js" as="script"><link rel="prefetch" href="/assets/12.html-9dae6b41.js" as="script"><link rel="prefetch" href="/assets/00.html-d84d0570.js" as="script"><link rel="prefetch" href="/assets/00.html-edb8f310.js" as="script"><link rel="prefetch" href="/assets/BuildFrames.html-075e0bca.js" as="script"><link rel="prefetch" href="/assets/Components.html-7c07be7f.js" as="script"><link rel="prefetch" href="/assets/Plugins.html-661d6cdd.js" as="script"><link rel="prefetch" href="/assets/ProjectFrames.html-999c1c77.js" as="script"><link rel="prefetch" href="/assets/Tools.html-f527efe7.js" as="script"><link rel="prefetch" href="/assets/01.html-42cc9591.js" as="script"><link rel="prefetch" href="/assets/02.html-531b3bbd.js" as="script"><link rel="prefetch" href="/assets/01.html-56e0209c.js" as="script"><link rel="prefetch" href="/assets/02.html-c652a91e.js" as="script"><link rel="prefetch" href="/assets/03.html-ad101721.js" as="script"><link rel="prefetch" href="/assets/04.html-1c5d9088.js" as="script"><link rel="prefetch" href="/assets/05.html-247f3157.js" as="script"><link rel="prefetch" href="/assets/06.html-77731e77.js" as="script"><link rel="prefetch" href="/assets/07.html-81da606b.js" as="script"><link rel="prefetch" href="/assets/08.html-855299bc.js" as="script"><link rel="prefetch" href="/assets/09.html-ecb56d90.js" as="script"><link rel="prefetch" href="/assets/10.html-777e6366.js" as="script"><link rel="prefetch" href="/assets/11.html-4581f725.js" as="script"><link rel="prefetch" href="/assets/12.html-63ff131b.js" as="script"><link rel="prefetch" href="/assets/13.html-b3edb215.js" as="script"><link rel="prefetch" href="/assets/14.html-b4a1df61.js" as="script"><link rel="prefetch" href="/assets/15.html-223688ae.js" as="script"><link rel="prefetch" href="/assets/16.html-cad42410.js" as="script"><link rel="prefetch" href="/assets/17.html-2187a616.js" as="script"><link rel="prefetch" href="/assets/18.html-289e0bdc.js" as="script"><link rel="prefetch" href="/assets/19.html-a067e3b6.js" as="script"><link rel="prefetch" href="/assets/20.html-c34b7a24.js" as="script"><link rel="prefetch" href="/assets/21.html-3d995b4d.js" as="script"><link rel="prefetch" href="/assets/22.html-0567e443.js" as="script"><link rel="prefetch" href="/assets/23.html-a76a0d97.js" as="script"><link rel="prefetch" href="/assets/24.html-8c994ac9.js" as="script"><link rel="prefetch" href="/assets/01.html-e1314cc8.js" as="script"><link rel="prefetch" href="/assets/02.html-fabbd8df.js" as="script"><link rel="prefetch" href="/assets/03.html-caafa383.js" as="script"><link rel="prefetch" href="/assets/04.html-c0a17dbf.js" as="script"><link rel="prefetch" href="/assets/01.html-c85cc5d6.js" as="script"><link rel="prefetch" href="/assets/02.html-e49c3d50.js" as="script"><link rel="prefetch" href="/assets/03.html-d7750af9.js" as="script"><link rel="prefetch" href="/assets/04.html-cefb4e79.js" as="script"><link rel="prefetch" href="/assets/05.html-8568b377.js" as="script"><link rel="prefetch" href="/assets/06.html-8aa76588.js" as="script"><link rel="prefetch" href="/assets/07.html-cbfcaf7d.js" as="script"><link rel="prefetch" href="/assets/01.html-ade7f182.js" as="script"><link rel="prefetch" href="/assets/02.html-276e67f9.js" as="script"><link rel="prefetch" href="/assets/03.html-d2a1749a.js" as="script"><link rel="prefetch" href="/assets/04.html-6476aee9.js" as="script"><link rel="prefetch" href="/assets/05.html-206e4b35.js" as="script"><link rel="prefetch" href="/assets/01.html-82ac768c.js" as="script"><link rel="prefetch" href="/assets/02.html-55941413.js" as="script"><link rel="prefetch" href="/assets/03.html-7ac0185b.js" as="script"><link rel="prefetch" href="/assets/04.html-1903b2b5.js" as="script"><link rel="prefetch" href="/assets/05.html-7bf57a7b.js" as="script"><link rel="prefetch" href="/assets/06.html-d7b16fe1.js" as="script"><link rel="prefetch" href="/assets/07.html-b53bd147.js" as="script"><link rel="prefetch" href="/assets/08.html-d7602c26.js" as="script"><link rel="prefetch" href="/assets/09.html-43de157a.js" as="script"><link rel="prefetch" href="/assets/01.html-984ee67a.js" as="script"><link rel="prefetch" href="/assets/02.html-ef97a687.js" as="script"><link rel="prefetch" href="/assets/03.html-8556e6d2.js" as="script"><link rel="prefetch" href="/assets/04.html-26d6b8b0.js" as="script"><link rel="prefetch" href="/assets/05.html-18fd77de.js" as="script"><link rel="prefetch" href="/assets/06.html-c6f78b02.js" as="script"><link rel="prefetch" href="/assets/07.html-159018b6.js" as="script"><link rel="prefetch" href="/assets/08.html-49a489eb.js" as="script"><link rel="prefetch" href="/assets/09.html-de8e4219.js" as="script"><link rel="prefetch" href="/assets/10.html-5b824574.js" as="script"><link rel="prefetch" href="/assets/11.html-6c44d689.js" as="script"><link rel="prefetch" href="/assets/12.html-eb30d505.js" as="script"><link rel="prefetch" href="/assets/13.html-ce6039d2.js" as="script"><link rel="prefetch" href="/assets/14.html-b889eb87.js" as="script"><link rel="prefetch" href="/assets/15.html-301f86f9.js" as="script"><link rel="prefetch" href="/assets/16.html-450b0d97.js" as="script"><link rel="prefetch" href="/assets/17.html-45cc912a.js" as="script"><link rel="prefetch" href="/assets/18.html-39dfd1f9.js" as="script"><link rel="prefetch" href="/assets/19.html-2d4b8941.js" as="script"><link rel="prefetch" href="/assets/20.html-050c6b4a.js" as="script"><link rel="prefetch" href="/assets/21.html-a90a7efa.js" as="script"><link rel="prefetch" href="/assets/22.html-a9a7d1d4.js" as="script"><link rel="prefetch" href="/assets/23.html-be45568c.js" as="script"><link rel="prefetch" href="/assets/24.html-24405ce4.js" as="script"><link rel="prefetch" href="/assets/25.html-74c975f9.js" as="script"><link rel="prefetch" href="/assets/01.html-9c484bdc.js" as="script"><link rel="prefetch" href="/assets/02.html-99e7aa19.js" as="script"><link rel="prefetch" href="/assets/03.html-e5f87a90.js" as="script"><link rel="prefetch" href="/assets/04.html-c2838d54.js" as="script"><link rel="prefetch" href="/assets/05.html-718662db.js" as="script"><link rel="prefetch" href="/assets/01.html-d03a312f.js" as="script"><link rel="prefetch" href="/assets/02.html-d8acba10.js" as="script"><link rel="prefetch" href="/assets/03.html-e54e79b1.js" as="script"><link rel="prefetch" href="/assets/04.html-ca8c0e09.js" as="script"><link rel="prefetch" href="/assets/05.html-96d2e1b6.js" as="script"><link rel="prefetch" href="/assets/06.html-b312a4e2.js" as="script"><link rel="prefetch" href="/assets/07.html-7453ad7c.js" as="script"><link rel="prefetch" href="/assets/08.html-e59966e0.js" as="script"><link rel="prefetch" href="/assets/09.html-13d6acfc.js" as="script"><link rel="prefetch" href="/assets/10.html-44240d17.js" as="script"><link rel="prefetch" href="/assets/11.html-c25367ad.js" as="script"><link rel="prefetch" href="/assets/12.html-2e97a199.js" as="script"><link rel="prefetch" href="/assets/13.html-fc504ec1.js" as="script"><link rel="prefetch" href="/assets/14.html-8e8300ed.js" as="script"><link rel="prefetch" href="/assets/15.html-6f1fac7a.js" as="script"><link rel="prefetch" href="/assets/16.html-f2e54872.js" as="script"><link rel="prefetch" href="/assets/17.html-abe89100.js" as="script"><link rel="prefetch" href="/assets/18.html-4323b0ce.js" as="script"><link rel="prefetch" href="/assets/19.html-20104c62.js" as="script"><link rel="prefetch" href="/assets/20.html-12483783.js" as="script"><link rel="prefetch" href="/assets/21.html-73ecab94.js" as="script"><link rel="prefetch" href="/assets/22.html-6745f044.js" as="script"><link rel="prefetch" href="/assets/23.html-37987706.js" as="script"><link rel="prefetch" href="/assets/24.html-a312dc52.js" as="script"><link rel="prefetch" href="/assets/25.html-de04be1f.js" as="script"><link rel="prefetch" href="/assets/26.html-7f81e8c7.js" as="script"><link rel="prefetch" href="/assets/27.html-b345dbff.js" as="script"><link rel="prefetch" href="/assets/28.html-457adcbf.js" as="script"><link rel="prefetch" href="/assets/29.html-5ffa3a3f.js" as="script"><link rel="prefetch" href="/assets/30.html-231f2623.js" as="script"><link rel="prefetch" href="/assets/31.html-319999dc.js" as="script"><link rel="prefetch" href="/assets/32.html-e763bf50.js" as="script"><link rel="prefetch" href="/assets/33.html-0dae36ab.js" as="script"><link rel="prefetch" href="/assets/34.html-c8ebe4a0.js" as="script"><link rel="prefetch" href="/assets/35.html-98423be1.js" as="script"><link rel="prefetch" href="/assets/36.html-fdf9d765.js" as="script"><link rel="prefetch" href="/assets/37.html-68c687d4.js" as="script"><link rel="prefetch" href="/assets/38.html-37bd8fbc.js" as="script"><link rel="prefetch" href="/assets/39.html-29c1c812.js" as="script"><link rel="prefetch" href="/assets/40.html-fc688fc1.js" as="script"><link rel="prefetch" href="/assets/41.html-9dd727a9.js" as="script"><link rel="prefetch" href="/assets/01.html-2ff89948.js" as="script"><link rel="prefetch" href="/assets/02.html-b78bc23a.js" as="script"><link rel="prefetch" href="/assets/03.html-e8cfe816.js" as="script"><link rel="prefetch" href="/assets/04.html-e115f516.js" as="script"><link rel="prefetch" href="/assets/05.html-9ea2653c.js" as="script"><link rel="prefetch" href="/assets/06.html-12939f18.js" as="script"><link rel="prefetch" href="/assets/07.html-168be8c2.js" as="script"><link rel="prefetch" href="/assets/08.html-d19cb69e.js" as="script"><link rel="prefetch" href="/assets/09.html-cf1a9732.js" as="script"><link rel="prefetch" href="/assets/10.html-93cd26a7.js" as="script"><link rel="prefetch" href="/assets/11.html-ce5aaa07.js" as="script"><link rel="prefetch" href="/assets/12.html-6fccd3de.js" as="script"><link rel="prefetch" href="/assets/001.html-0e534f76.js" as="script"><link rel="prefetch" href="/assets/01.html-a21970bd.js" as="script"><link rel="prefetch" href="/assets/02.html-73df8b6c.js" as="script"><link rel="prefetch" href="/assets/03.html-81815582.js" as="script"><link rel="prefetch" href="/assets/04.html-302e0697.js" as="script"><link rel="prefetch" href="/assets/05.html-48b0bd01.js" as="script"><link rel="prefetch" href="/assets/06.html-dc42e6bc.js" as="script"><link rel="prefetch" href="/assets/07.html-3da28256.js" as="script"><link rel="prefetch" href="/assets/08.html-dfd0fefc.js" as="script"><link rel="prefetch" href="/assets/09.html-44c04a45.js" as="script"><link rel="prefetch" href="/assets/10.html-2af0e66c.js" as="script"><link rel="prefetch" href="/assets/11.html-6935ac98.js" as="script"><link rel="prefetch" href="/assets/12.html-91525b5a.js" as="script"><link rel="prefetch" href="/assets/13.html-82365238.js" as="script"><link rel="prefetch" href="/assets/14.html-633ff972.js" as="script"><link rel="prefetch" href="/assets/01.html-02c90410.js" as="script"><link rel="prefetch" href="/assets/02.html-8b08b8e7.js" as="script"><link rel="prefetch" href="/assets/03.html-016f4e08.js" as="script"><link rel="prefetch" href="/assets/04.html-b6b3c492.js" as="script"><link rel="prefetch" href="/assets/01.html-2e781cda.js" as="script"><link rel="prefetch" href="/assets/02.html-a9aa89d3.js" as="script"><link rel="prefetch" href="/assets/03.html-81cf2af3.js" as="script"><link rel="prefetch" href="/assets/04.html-69747a50.js" as="script"><link rel="prefetch" href="/assets/05.html-71c51695.js" as="script"><link rel="prefetch" href="/assets/06.html-5d289518.js" as="script"><link rel="prefetch" href="/assets/01.html-c345137d.js" as="script"><link rel="prefetch" href="/assets/02.html-9a50c231.js" as="script"><link rel="prefetch" href="/assets/03.html-d323542b.js" as="script"><link rel="prefetch" href="/assets/04.html-6835545b.js" as="script"><link rel="prefetch" href="/assets/05.html-38ef91c6.js" as="script"><link rel="prefetch" href="/assets/06.html-8373a4a7.js" as="script"><link rel="prefetch" href="/assets/07.html-05a0de69.js" as="script"><link rel="prefetch" href="/assets/08.html-643b5036.js" as="script"><link rel="prefetch" href="/assets/09.html-af5c541f.js" as="script"><link rel="prefetch" href="/assets/10.html-a2d29ff1.js" as="script"><link rel="prefetch" href="/assets/11.html-3c9d661c.js" as="script"><link rel="prefetch" href="/assets/12.html-22760c8a.js" as="script"><link rel="prefetch" href="/assets/13.html-7c1262c6.js" as="script"><link rel="prefetch" href="/assets/14.html-dac641f2.js" as="script"><link rel="prefetch" href="/assets/15.html-2344d707.js" as="script"><link rel="prefetch" href="/assets/16.html-bcfeafbf.js" as="script"><link rel="prefetch" href="/assets/404.html-d6349cb9.js" as="script"><link rel="prefetch" href="/assets/index.html-fc25bc51.js" as="script"><link rel="prefetch" href="/assets/index.html-653a7121.js" as="script"><link rel="prefetch" href="/assets/index.html-477d82ce.js" as="script"><link rel="prefetch" href="/assets/index.html-31b051f5.js" as="script"><link rel="prefetch" href="/assets/index.html-0425dd0a.js" as="script"><link rel="prefetch" href="/assets/index.html-ca25728c.js" as="script"><link rel="prefetch" href="/assets/index.html-acd6d8d5.js" as="script"><link rel="prefetch" href="/assets/index.html-81bfc398.js" as="script"><link rel="prefetch" href="/assets/index.html-c0c4ea5d.js" as="script"><link rel="prefetch" href="/assets/index.html-f30141ff.js" as="script"><link rel="prefetch" href="/assets/index.html-77ebc3a5.js" as="script"><link rel="prefetch" href="/assets/index.html-bfe82f51.js" as="script"><link rel="prefetch" href="/assets/index.html-bbe01b4e.js" as="script"><link rel="prefetch" href="/assets/index.html-eba24f83.js" as="script"><link rel="prefetch" href="/assets/index.html-f2b10dfe.js" as="script"><link rel="prefetch" href="/assets/index.html-2b73a8eb.js" as="script"><link rel="prefetch" href="/assets/index.html-72f54566.js" as="script"><link rel="prefetch" href="/assets/index.html-81a18ddc.js" as="script"><link rel="prefetch" href="/assets/index.html-456b78ad.js" as="script"><link rel="prefetch" href="/assets/index.html-dfa57773.js" as="script"><link rel="prefetch" href="/assets/index.html-407f90b5.js" as="script"><link rel="prefetch" href="/assets/index.html-c403f546.js" as="script"><link rel="prefetch" href="/assets/index.html-f9cfb89a.js" as="script"><link rel="prefetch" href="/assets/index.html-7ec81302.js" as="script"><link rel="prefetch" href="/assets/index.html-c74c3174.js" as="script"><link rel="prefetch" href="/assets/index.html-bdf4d64d.js" as="script"><link rel="prefetch" href="/assets/index.html-5749a14e.js" as="script"><link rel="prefetch" href="/assets/index.html-19fd625b.js" as="script"><link rel="prefetch" href="/assets/index.html-414603c5.js" as="script"><link rel="prefetch" href="/assets/index.html-c2c77daf.js" as="script"><link rel="prefetch" href="/assets/index.html-9e21d93d.js" as="script"><link rel="prefetch" href="/assets/index.html-85c02daa.js" as="script"><link rel="prefetch" href="/assets/index.html-b856f07e.js" as="script"><link rel="prefetch" href="/assets/index.html-24a5e330.js" as="script"><link rel="prefetch" href="/assets/index.html-3b21825d.js" as="script"><link rel="prefetch" href="/assets/index.html-936924e9.js" as="script"><link rel="prefetch" href="/assets/index.html-d8a2c356.js" as="script"><link rel="prefetch" href="/assets/index.html-13457eda.js" as="script"><link rel="prefetch" href="/assets/index.html-8d3694e3.js" as="script"><link rel="prefetch" href="/assets/index.html-f0a9b67a.js" as="script"><link rel="prefetch" href="/assets/index.html-31c4fa24.js" as="script"><link rel="prefetch" href="/assets/index.html-1431c7bb.js" as="script"><link rel="prefetch" href="/assets/index.html-b3649934.js" as="script"><link rel="prefetch" href="/assets/index.html-073286a7.js" as="script"><link rel="prefetch" href="/assets/index.html-32fdf048.js" as="script"><link rel="prefetch" href="/assets/index.html-96c984bf.js" as="script"><link rel="prefetch" href="/assets/index.html-e4ee98a5.js" as="script"><link rel="prefetch" href="/assets/index.html-d81315a4.js" as="script"><link rel="prefetch" href="/assets/index.html-69aae91e.js" as="script"><link rel="prefetch" href="/assets/index.html-86990a8a.js" as="script"><link rel="prefetch" href="/assets/index.html-51d86d4d.js" as="script"><link rel="prefetch" href="/assets/index.html-2ba59e95.js" as="script"><link rel="prefetch" href="/assets/index.html-5f6cacea.js" as="script"><link rel="prefetch" href="/assets/index.html-d9343e4e.js" as="script"><link rel="prefetch" href="/assets/index.html-0c02f4b6.js" as="script"><link rel="prefetch" href="/assets/index.html-897d650a.js" as="script"><link rel="prefetch" href="/assets/index.html-92e63024.js" as="script"><link rel="prefetch" href="/assets/index.html-9227976f.js" as="script"><link rel="prefetch" href="/assets/index.html-9ad18383.js" as="script"><link rel="prefetch" href="/assets/index.html-2fcfdb7e.js" as="script"><link rel="prefetch" href="/assets/index.html-f0187865.js" as="script"><link rel="prefetch" href="/assets/index.html-a43d9297.js" as="script"><link rel="prefetch" href="/assets/index.html-f184169d.js" as="script"><link rel="prefetch" href="/assets/index.html-e48dc06c.js" as="script"><link rel="prefetch" href="/assets/index.html-29610a18.js" as="script"><link rel="prefetch" href="/assets/index.html-9bef7f25.js" as="script"><link rel="prefetch" href="/assets/index.html-44eb4820.js" as="script"><link rel="prefetch" href="/assets/index.html-2d23c36c.js" as="script"><link rel="prefetch" href="/assets/index.html-cc196954.js" as="script"><link rel="prefetch" href="/assets/index.html-c53846d7.js" as="script"><link rel="prefetch" href="/assets/index.html-225a9f56.js" as="script"><link rel="prefetch" href="/assets/index.html-2ec5c14c.js" as="script"><link rel="prefetch" href="/assets/index.html-7907895c.js" as="script"><link rel="prefetch" href="/assets/index.html-cf3ef6f0.js" as="script"><link rel="prefetch" href="/assets/index.html-afbc02a3.js" as="script"><link rel="prefetch" href="/assets/index.html-28cdefb0.js" as="script"><link rel="prefetch" href="/assets/index.html-f934afc9.js" as="script"><link rel="prefetch" href="/assets/index.html-ed3bf36e.js" as="script"><link rel="prefetch" href="/assets/index.html-a490848c.js" as="script"><link rel="prefetch" href="/assets/index.html-3625c557.js" as="script"><link rel="prefetch" href="/assets/index.html-9cda0fc6.js" as="script"><link rel="prefetch" href="/assets/index.html-a03d4c55.js" as="script"><link rel="prefetch" href="/assets/index.html-07b56309.js" as="script"><link rel="prefetch" href="/assets/index.html-d5a0b563.js" as="script"><link rel="prefetch" href="/assets/index.html-4de5d889.js" as="script"><link rel="prefetch" href="/assets/index.html-d5066ad5.js" as="script"><link rel="prefetch" href="/assets/index.html-2530275a.js" as="script"><link rel="prefetch" href="/assets/index.html-eee895f9.js" as="script"><link rel="prefetch" href="/assets/index.html-2a4fad58.js" as="script"><link rel="prefetch" href="/assets/index.html-f4e4a0fa.js" as="script"><link rel="prefetch" href="/assets/index.html-bee7ecae.js" as="script"><link rel="prefetch" href="/assets/index.html-1d670576.js" as="script"><link rel="prefetch" href="/assets/index.html-f35c4490.js" as="script"><link rel="prefetch" href="/assets/index.html-f98583fa.js" as="script"><link rel="prefetch" href="/assets/index.html-5cb4288f.js" as="script"><link rel="prefetch" href="/assets/index.html-240363d8.js" as="script"><link rel="prefetch" href="/assets/index.html-ead2709e.js" as="script"><link rel="prefetch" href="/assets/index.html-1369f76a.js" as="script"><link rel="prefetch" href="/assets/index.html-5a102f72.js" as="script"><link rel="prefetch" href="/assets/index.html-5d2ad371.js" as="script"><link rel="prefetch" href="/assets/index.html-bb288722.js" as="script"><link rel="prefetch" href="/assets/index.html-ed6e01ea.js" as="script"><link rel="prefetch" href="/assets/index.html-7cd4c686.js" as="script"><link rel="prefetch" href="/assets/index.html-d1c6a5f2.js" as="script"><link rel="prefetch" href="/assets/giscus-52604b1e.js" as="script"><link rel="prefetch" href="/assets/mermaid.core-d8467d8c.js" as="script"><link rel="prefetch" href="/assets/highlight.esm-75b11b9d.js" as="script"><link rel="prefetch" href="/assets/markdown.esm-0191f9da.js" as="script"><link rel="prefetch" href="/assets/math.esm-70a288c8.js" as="script"><link rel="prefetch" href="/assets/notes.esm-a106bb2c.js" as="script"><link rel="prefetch" href="/assets/reveal.esm-ec5549c1.js" as="script"><link rel="prefetch" href="/assets/search.esm-7e6792e2.js" as="script"><link rel="prefetch" href="/assets/zoom.esm-b83b91d0.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-2450701e.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">跳至主要內容</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header class="navbar" id="navbar"><div class="navbar-start"><button type="button" class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a href="/" class="brand"><img class="logo" src="/logo.png" alt="郁子IKUKO"><!----><span class="site-name hide-in-pad">郁子IKUKO</span></a><!--]--><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><!--[--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="博客主页"><span class="font-icon icon iconfont icon-home" style=""></span>博客主页<!----></a></div><div class="nav-item hide-in-mobile"><a href="/websites/00.html" class="nav-link" aria-label="网站合集"><span class="font-icon icon iconfont icon-websites" style=""></span>网站合集<!----></a></div><div class="nav-item hide-in-mobile"><a href="/notes/00.html" class="nav-link" aria-label="学习笔记"><span class="font-icon icon iconfont icon-notes" style=""></span>学习笔记<!----></a></div><div class="nav-item hide-in-mobile"><a href="/articles/00.html" class="nav-link" aria-label="原创随笔"><span class="font-icon icon iconfont icon-articles" style=""></span>原创随笔<!----></a></div></nav><!--]--><!--[--><!----><!--]--></div><div class="navbar-end"><!--[--><!----><!--]--><!--[--><!----><div class="nav-item"><a class="repo-link" href="https://gitee.com/ikuko/vite2-vue3-element-plus.git" target="_blank" rel="noopener noreferrer" aria-label="Gitee"><svg xmlns="http://www.w3.org/2000/svg" class="icon gitee-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="gitee icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm242.97-533.34H482.39a23.7 23.7 0 0 0-23.7 23.7l-.03 59.28c0 13.08 10.59 23.7 23.7 23.7h165.96a23.7 23.7 0 0 1 23.7 23.7v11.85a71.1 71.1 0 0 1-71.1 71.1H375.71a23.7 23.7 0 0 1-23.7-23.7V423.11a71.1 71.1 0 0 1 71.1-71.1h331.8a23.7 23.7 0 0 0 23.7-23.7l.06-59.25a23.73 23.73 0 0 0-23.7-23.73H423.11a177.78 177.78 0 0 0-177.78 177.75v331.83c0 13.08 10.62 23.7 23.7 23.7h349.62a159.99 159.99 0 0 0 159.99-159.99V482.33a23.7 23.7 0 0 0-23.7-23.7z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" class="outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form><!--]--><!--[--><!----><!--]--><button type="button" class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside class="sidebar" id="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><section class="sidebar-group"><p class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-notes" style=""></span><a href="/notes/00.html" class="nav-link title" aria-label="学习笔记"><!---->学习笔记<!----></a><!----></p><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-sakura" style=""></span><a href="/notes/HTML_CSS_JS/01.html" class="nav-link title" aria-label="HTML/CSS/JS"><!---->HTML/CSS/JS<!----></a><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-sakura" style=""></span><a href="/notes/ECMAScript6-11/01.html" class="nav-link title" aria-label="ECMAScript 6-11"><!---->ECMAScript 6-11<!----></a><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-sakura" style=""></span><a href="/notes/TypeScript/01.html" class="nav-link title" aria-label="TypeScript"><!---->TypeScript<!----></a><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-sakura" style=""></span><a href="/notes/Vue2/01.html" class="nav-link title" aria-label="Vue 2.x"><!---->Vue 2.x<!----></a><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-sakura" style=""></span><a href="/notes/Vue3/01.html" class="nav-link title" aria-label="Vue 3.x"><!---->Vue 3.x<!----></a><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-sakura" style=""></span><a href="/notes/React16/01.html" class="nav-link title" aria-label="React 16.8"><!---->React 16.8<!----></a><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-sakura" style=""></span><a href="/notes/React18/01.html" class="nav-link title" aria-label="React 18"><!---->React 18<!----></a><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-sakura" style=""></span><a href="/notes/NextJS/01.html" class="nav-link title" aria-label="NextJS 12"><!---->NextJS 12<!----></a><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-sakura" style=""></span><a href="/notes/Nginx/01.html" class="nav-link title" aria-label="Nginx(2019)"><!---->Nginx(2019)<!----></a><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-sakura" style=""></span><a href="/notes/Algorithm/01.html" class="nav-link title" aria-label="数据结构和算法"><!---->数据结构和算法<!----></a><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable exact active" type="button"><span class="font-icon icon iconfont icon-sakura" style=""></span><a href="/notes/DuYi/01Basic/01.html" class="nav-link title" aria-label="渡一教育-语言基础"><!---->渡一教育-语言基础<!----></a><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/notes/DuYi/01Basic/01.html" class="nav-link sidebar-link sidebar-page" aria-label="一、2023 前端开发 HTML+CSS 宝典"><!---->一、2023 前端开发 HTML+CSS 宝典<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/DuYi/01Basic/02.html" class="nav-link sidebar-link sidebar-page" aria-label="二、2023新版HTML+CSS零基础入学"><!---->二、2023新版HTML+CSS零基础入学<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/DuYi/01Basic/03.html" class="nav-link sidebar-link sidebar-page" aria-label="三、Web前端开发JavaScript高薪课堂"><!---->三、Web前端开发JavaScript高薪课堂<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/DuYi/01Basic/04.html" class="nav-link sidebar-link sidebar-page" aria-label="四、HTML+CSS 收官"><!---->四、HTML+CSS 收官<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/DuYi/01Basic/05.html" class="nav-link sidebar-link sidebar-page" aria-label="五、HTML+CSS 项目实战"><!---->五、HTML+CSS 项目实战<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/DuYi/01Basic/06.html" class="nav-link sidebar-link sidebar-page" aria-label="六、JS收官"><!---->六、JS收官<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/DuYi/01Basic/07.html" class="nav-link sidebar-link sidebar-page" aria-label="七、JS项目实战"><!---->七、JS项目实战<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/DuYi/01Basic/08.html" class="nav-link sidebar-link sidebar-page" aria-label="八、HTML+CSS 语言提升（H5+CSS3）"><!---->八、HTML+CSS 语言提升（H5+CSS3）<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/DuYi/01Basic/09.html" class="nav-link sidebar-link sidebar-page" aria-label="九、JavaScript 语言提升（ES6+）"><!---->九、JavaScript 语言提升（ES6+）<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/DuYi/01Basic/10.html" class="nav-link sidebar-link sidebar-page" aria-label="十、程序思维训练"><!---->十、程序思维训练<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/DuYi/01Basic/11.html" class="nav-link sidebar-link sidebar-page" aria-label="十一、网络"><!---->十一、网络<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/DuYi/01Basic/12.html" class="nav-link sidebar-link sidebar-page" aria-label="十二、Git"><!---->十二、Git<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/DuYi/01Basic/13.html" class="nav-link sidebar-link sidebar-page" aria-label="十三、第三方库"><!---->十三、第三方库<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/notes/DuYi/01Basic/14.html" class="nav-link sidebar-link sidebar-page" aria-label="十四、HTML5 详细版"><!---->十四、HTML5 详细版<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/notes/DuYi/01Basic/15.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="十五、Canvas 详细版"><!---->十五、Canvas 详细版<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#一-概述" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（一）概述"><!---->（一）概述<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_1-canvas绘制的图形是位图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.Canvas绘制的图形是位图"><!---->1.Canvas绘制的图形是位图<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_2-canvas绘制的内容不属于dom元素" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.Canvas绘制的内容不属于dom元素"><!---->2.Canvas绘制的内容不属于dom元素<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_3-canvas应用领域" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.Canvas应用领域"><!---->3.Canvas应用领域<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#二-画布与画笔" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（二）画布与画笔"><!---->（二）画布与画笔<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_1-创建画布和画笔" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.创建画布和画笔"><!---->1.创建画布和画笔<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_2-提供canvas标签的方式" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.提供canvas标签的方式"><!---->2.提供canvas标签的方式<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_3-canvas标签的版本检查" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.canvas标签的版本检查"><!---->3.canvas标签的版本检查<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_4-画布区域特点" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4.画布区域特点"><!---->4.画布区域特点<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#三-绘制图形" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（三）绘制图形"><!---->（三）绘制图形<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_1-绘制矩形" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.绘制矩形"><!---->1.绘制矩形<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_2-beginpath方法" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.beginPath方法"><!---->2.beginPath方法<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_3-绘制圆角矩形" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.绘制圆角矩形"><!---->3.绘制圆角矩形<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_4-绘制直线-折线" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4.绘制直线&amp;折线"><!---->4.绘制直线&amp;折线<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_5-线条api" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5.线条API"><!---->5.线条API<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_6-清除画布" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6.清除画布"><!---->6.清除画布<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_7-虚线小动画" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="7.虚线小动画"><!---->7.虚线小动画<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_8-closepath方法" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="8.closePath方法"><!---->8.closePath方法<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_9-绘制圆弧" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="9.绘制圆弧"><!---->9.绘制圆弧<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_10-绘制椭圆" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="10.绘制椭圆"><!---->10.绘制椭圆<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_11-绘制曲线" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="11.绘制曲线"><!---->11.绘制曲线<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_12-绘制文本" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="12.绘制文本"><!---->12.绘制文本<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#四-使用图像" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（四）使用图像"><!---->（四）使用图像<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_1-基本使用" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.基本使用"><!---->1.基本使用<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_2-图像与动画" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.图像与动画"><!---->2.图像与动画<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_3-视频图像" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.视频图像"><!---->3.视频图像<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_4-canvas图像" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4.Canvas图像"><!---->4.Canvas图像<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_5-图像像素处理" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5.图像像素处理"><!---->5.图像像素处理<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_6-图像填充" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6.图像填充"><!---->6.图像填充<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#五-图像裁剪" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（五）图像裁剪"><!---->（五）图像裁剪<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_1-ctx-clip" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.ctx.clip()"><!---->1.ctx.clip()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_2-ctx-clip-rule" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.ctx.clip(rule)"><!---->2.ctx.clip(rule)<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#六-图像合成" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（六）图像合成"><!---->（六）图像合成<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_1-路径-形状-合成" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.路径（形状）合成"><!---->1.路径（形状）合成<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_2-颜色合成" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.颜色合成"><!---->2.颜色合成<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_3-刮刮乐效果" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.刮刮乐效果"><!---->3.刮刮乐效果<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#七-颜色渐变" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（七）颜色渐变"><!---->（七）颜色渐变<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_1-线性渐变" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.线性渐变"><!---->1.线性渐变<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_2-径向渐变" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.径向渐变"><!---->2.径向渐变<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_3-锥形渐变" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.锥形渐变"><!---->3.锥形渐变<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#八-图形阴影" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（八）图形阴影"><!---->（八）图形阴影<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_1-设置模糊程度" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.设置模糊程度"><!---->1.设置模糊程度<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_2-设置阴影颜色" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.设置阴影颜色"><!---->2.设置阴影颜色<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_3-设置阴影的偏移量" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.设置阴影的偏移量"><!---->3.设置阴影的偏移量<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#九-滤镜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（九）滤镜"><!---->（九）滤镜<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_1-设置模糊" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.设置模糊"><!---->1.设置模糊<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_2-设置亮度" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.设置亮度"><!---->2.设置亮度<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_3-设置对比度" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.设置对比度"><!---->3.设置对比度<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_4-设置饱和度" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4.设置饱和度"><!---->4.设置饱和度<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_5-设置灰度" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5.设置灰度"><!---->5.设置灰度<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_6-设置怀旧风格" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6.设置怀旧风格"><!---->6.设置怀旧风格<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_7-设置反色" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="7.设置反色"><!---->7.设置反色<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_8-设置阴影" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="8.设置阴影"><!---->8.设置阴影<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_9-设置色调" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="9.设置色调"><!---->9.设置色调<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_10-使用多个滤镜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="10.使用多个滤镜"><!---->10.使用多个滤镜<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_11-引用svg滤镜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="11.引用svg滤镜"><!---->11.引用svg滤镜<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#十-图像变换" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（十）图像变换"><!---->（十）图像变换<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_1-图形移动" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.图形移动"><!---->1.图形移动<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_2-图形放缩" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.图形放缩"><!---->2.图形放缩<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_3-图像旋转" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.图像旋转"><!---->3.图像旋转<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_4-矩阵变换" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4.矩阵变换"><!---->4.矩阵变换<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#十一-状态存储与重置" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（十一）状态存储与重置"><!---->（十一）状态存储与重置<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_1-绘制状态-上下文" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.绘制状态/上下文"><!---->1.绘制状态/上下文<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_2-存储" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.存储"><!---->2.存储<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_3-重置" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.重置"><!---->3.重置<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#十二-实战案例" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（十二）实战案例"><!---->（十二）实战案例<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_1-动态时钟" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.动态时钟"><!---->1.动态时钟<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_2-粒子烟花" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.粒子烟花"><!---->2.粒子烟花<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_3-贪吃蛇" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.贪吃蛇"><!---->3.贪吃蛇<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_4-画图板" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4.画图板"><!---->4.画图板<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a href="/notes/DuYi/01Basic/001.html" class="nav-link sidebar-link sidebar-page" aria-label="【待定】、CSS3 详细版"><!---->【待定】、CSS3 详细版<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-sakura" style=""></span><a href="/notes/DuYi/02Central/01.html" class="nav-link title" aria-label="渡一教育-中枢课"><!---->渡一教育-中枢课<!----></a><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-sakura" style=""></span><a href="/notes/DuYi/03Strengthen/01.html" class="nav-link title" aria-label="渡一教育-强化课"><!---->渡一教育-强化课<!----></a><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-sakura" style=""></span><a href="/notes/DuYi/04Interview/01.html" class="nav-link title" aria-label="渡一教育-笔面试题甄选"><!---->渡一教育-笔面试题甄选<!----></a><span class="arrow end"></span></button><!----></section></li></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->十五、Canvas 详细版</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="/aboutMe" target="_blank" rel="noopener noreferrer">郁子</a></span><span property="author" content="郁子"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2025-01-08T00:00:00.000Z"></span><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 35 分钟</span><meta property="timeRequired" content="PT35M"></span><span class="page-word-info" aria-label="字数🔠" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="word icon"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>约 10511 字</span><meta property="wordCount" content="10511"></span><span class="page-category-info" aria-label="分类🌈" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item category8 clickable" role="navigation">笔记</span><span class="page-category-item category2 clickable" role="navigation">渡一教育</span><span class="page-category-item category8 clickable" role="navigation">语言基础</span><!--]--><meta property="articleSection" content="笔记,渡一教育,语言基础"></span><span class="page-tag-info" aria-label="标签🏷" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item tag8 clickable" role="navigation">董明晨</span><span class="page-tag-item tag8 clickable" role="navigation">HTML5</span><!--]--><meta property="keywords" content="董明晨,HTML5"></span><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#一-概述" class="router-link-active router-link-exact-active toc-link level2">（一）概述</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_1-canvas绘制的图形是位图" class="router-link-active router-link-exact-active toc-link level3">1.Canvas绘制的图形是位图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_2-canvas绘制的内容不属于dom元素" class="router-link-active router-link-exact-active toc-link level3">2.Canvas绘制的内容不属于dom元素</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_3-canvas应用领域" class="router-link-active router-link-exact-active toc-link level3">3.Canvas应用领域</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#二-画布与画笔" class="router-link-active router-link-exact-active toc-link level2">（二）画布与画笔</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_1-创建画布和画笔" class="router-link-active router-link-exact-active toc-link level3">1.创建画布和画笔</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_2-提供canvas标签的方式" class="router-link-active router-link-exact-active toc-link level3">2.提供canvas标签的方式</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_3-canvas标签的版本检查" class="router-link-active router-link-exact-active toc-link level3">3.canvas标签的版本检查</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_4-画布区域特点" class="router-link-active router-link-exact-active toc-link level3">4.画布区域特点</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#三-绘制图形" class="router-link-active router-link-exact-active toc-link level2">（三）绘制图形</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_1-绘制矩形" class="router-link-active router-link-exact-active toc-link level3">1.绘制矩形</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_2-beginpath方法" class="router-link-active router-link-exact-active toc-link level3">2.beginPath方法</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_3-绘制圆角矩形" class="router-link-active router-link-exact-active toc-link level3">3.绘制圆角矩形</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_4-绘制直线-折线" class="router-link-active router-link-exact-active toc-link level3">4.绘制直线&amp;折线</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_5-线条api" class="router-link-active router-link-exact-active toc-link level3">5.线条API</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_6-清除画布" class="router-link-active router-link-exact-active toc-link level3">6.清除画布</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_7-虚线小动画" class="router-link-active router-link-exact-active toc-link level3">7.虚线小动画</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_8-closepath方法" class="router-link-active router-link-exact-active toc-link level3">8.closePath方法</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_9-绘制圆弧" class="router-link-active router-link-exact-active toc-link level3">9.绘制圆弧</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_10-绘制椭圆" class="router-link-active router-link-exact-active toc-link level3">10.绘制椭圆</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_11-绘制曲线" class="router-link-active router-link-exact-active toc-link level3">11.绘制曲线</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_12-绘制文本" class="router-link-active router-link-exact-active toc-link level3">12.绘制文本</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#四-使用图像" class="router-link-active router-link-exact-active toc-link level2">（四）使用图像</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_1-基本使用" class="router-link-active router-link-exact-active toc-link level3">1.基本使用</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_2-图像与动画" class="router-link-active router-link-exact-active toc-link level3">2.图像与动画</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_3-视频图像" class="router-link-active router-link-exact-active toc-link level3">3.视频图像</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_4-canvas图像" class="router-link-active router-link-exact-active toc-link level3">4.Canvas图像</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_5-图像像素处理" class="router-link-active router-link-exact-active toc-link level3">5.图像像素处理</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_6-图像填充" class="router-link-active router-link-exact-active toc-link level3">6.图像填充</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#五-图像裁剪" class="router-link-active router-link-exact-active toc-link level2">（五）图像裁剪</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_1-ctx-clip" class="router-link-active router-link-exact-active toc-link level3">1.ctx.clip()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_2-ctx-clip-rule" class="router-link-active router-link-exact-active toc-link level3">2.ctx.clip(rule)</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#六-图像合成" class="router-link-active router-link-exact-active toc-link level2">（六）图像合成</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_1-路径-形状-合成" class="router-link-active router-link-exact-active toc-link level3">1.路径（形状）合成</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_2-颜色合成" class="router-link-active router-link-exact-active toc-link level3">2.颜色合成</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_3-刮刮乐效果" class="router-link-active router-link-exact-active toc-link level3">3.刮刮乐效果</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#七-颜色渐变" class="router-link-active router-link-exact-active toc-link level2">（七）颜色渐变</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_1-线性渐变" class="router-link-active router-link-exact-active toc-link level3">1.线性渐变</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_2-径向渐变" class="router-link-active router-link-exact-active toc-link level3">2.径向渐变</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_3-锥形渐变" class="router-link-active router-link-exact-active toc-link level3">3.锥形渐变</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#八-图形阴影" class="router-link-active router-link-exact-active toc-link level2">（八）图形阴影</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_1-设置模糊程度" class="router-link-active router-link-exact-active toc-link level3">1.设置模糊程度</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_2-设置阴影颜色" class="router-link-active router-link-exact-active toc-link level3">2.设置阴影颜色</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_3-设置阴影的偏移量" class="router-link-active router-link-exact-active toc-link level3">3.设置阴影的偏移量</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#九-滤镜" class="router-link-active router-link-exact-active toc-link level2">（九）滤镜</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_1-设置模糊" class="router-link-active router-link-exact-active toc-link level3">1.设置模糊</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_2-设置亮度" class="router-link-active router-link-exact-active toc-link level3">2.设置亮度</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_3-设置对比度" class="router-link-active router-link-exact-active toc-link level3">3.设置对比度</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_4-设置饱和度" class="router-link-active router-link-exact-active toc-link level3">4.设置饱和度</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_5-设置灰度" class="router-link-active router-link-exact-active toc-link level3">5.设置灰度</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_6-设置怀旧风格" class="router-link-active router-link-exact-active toc-link level3">6.设置怀旧风格</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_7-设置反色" class="router-link-active router-link-exact-active toc-link level3">7.设置反色</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_8-设置阴影" class="router-link-active router-link-exact-active toc-link level3">8.设置阴影</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_9-设置色调" class="router-link-active router-link-exact-active toc-link level3">9.设置色调</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_10-使用多个滤镜" class="router-link-active router-link-exact-active toc-link level3">10.使用多个滤镜</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_11-引用svg滤镜" class="router-link-active router-link-exact-active toc-link level3">11.引用svg滤镜</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#十-图像变换" class="router-link-active router-link-exact-active toc-link level2">（十）图像变换</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_1-图形移动" class="router-link-active router-link-exact-active toc-link level3">1.图形移动</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_2-图形放缩" class="router-link-active router-link-exact-active toc-link level3">2.图形放缩</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_3-图像旋转" class="router-link-active router-link-exact-active toc-link level3">3.图像旋转</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_4-矩阵变换" class="router-link-active router-link-exact-active toc-link level3">4.矩阵变换</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#十一-状态存储与重置" class="router-link-active router-link-exact-active toc-link level2">（十一）状态存储与重置</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_1-绘制状态-上下文" class="router-link-active router-link-exact-active toc-link level3">1.绘制状态/上下文</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_2-存储" class="router-link-active router-link-exact-active toc-link level3">2.存储</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_3-重置" class="router-link-active router-link-exact-active toc-link level3">3.重置</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#十二-实战案例" class="router-link-active router-link-exact-active toc-link level2">（十二）实战案例</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_1-动态时钟" class="router-link-active router-link-exact-active toc-link level3">1.动态时钟</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_2-粒子烟花" class="router-link-active router-link-exact-active toc-link level3">2.粒子烟花</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_3-贪吃蛇" class="router-link-active router-link-exact-active toc-link level3">3.贪吃蛇</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/notes/DuYi/01Basic/15.html#_4-画图板" class="router-link-active router-link-exact-active toc-link level3">4.画图板</a></li><!----><!--]--></ul></li><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h2 id="一-概述" tabindex="-1"><a class="header-anchor" href="#一-概述" aria-hidden="true">#</a> （一）概述</h2><ul><li>Canvas 是 HTML5 的一个新标签，相当于一个画布，可以用来绘制丰富的图形，最终渲染在浏览器上</li><li>Canvas 标签本身不具备绘制图形的能力，配合 JavaScript 提供的 CanvasAPI，才能绘制图形，文本和图像，以及实现动画和交互</li><li>支持 2d 绘图，也支持 3d 绘图（WebGL）</li></ul><h3 id="_1-canvas绘制的图形是位图" tabindex="-1"><a class="header-anchor" href="#_1-canvas绘制的图形是位图" aria-hidden="true">#</a> 1.Canvas绘制的图形是位图</h3><ul><li>放缩会导致图像失真，所以需要注意放缩比例的控制</li><li>可以操作每一个点位的像素，进而实现高度自定义的图形绘制和动画效果</li><li>相当于 <code>&lt;img&gt;</code> 引入的图片，可以右键另存</li></ul><h3 id="_2-canvas绘制的内容不属于dom元素" tabindex="-1"><a class="header-anchor" href="#_2-canvas绘制的内容不属于dom元素" aria-hidden="true">#</a> 2.Canvas绘制的内容不属于dom元素</h3><ul><li>通常比dom元素绘制的方式有更高的渲染能力</li><li>但也存在一些问题 <ul><li>无法在浏览器查看器中查找</li><li>无法支持鼠标监听（但可以通过其他方式实现类似的效果）</li></ul></li></ul><h3 id="_3-canvas应用领域" tabindex="-1"><a class="header-anchor" href="#_3-canvas应用领域" aria-hidden="true">#</a> 3.Canvas应用领域</h3><ul><li>可视化图表</li><li>h5游戏制作</li><li>banner广告</li></ul><h2 id="二-画布与画笔" tabindex="-1"><a class="header-anchor" href="#二-画布与画笔" aria-hidden="true">#</a> （二）画布与画笔</h2><h3 id="_1-创建画布和画笔" tabindex="-1"><a class="header-anchor" href="#_1-创建画布和画笔" aria-hidden="true">#</a> 1.创建画布和画笔</h3><ul><li>提供HTML标签 <code>&lt;canvas&gt;</code></li><li>创建JS画布：Canvas对象 <code>HTMLCanvasElement</code></li><li>创建JS画笔：Context对象 <code>CanvasRenderingContext2D</code></li></ul><h3 id="_2-提供canvas标签的方式" tabindex="-1"><a class="header-anchor" href="#_2-提供canvas标签的方式" aria-hidden="true">#</a> 2.提供canvas标签的方式</h3><h4 id="_1-方式一-直接定义canvas标签" tabindex="-1"><a class="header-anchor" href="#_1-方式一-直接定义canvas标签" aria-hidden="true">#</a> 1）方式一：直接定义canvas标签</h4><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">const</span> canvas1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#c1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> context1 <span class="token operator">=</span> canvas1<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-方式二-js创建canvas标签" tabindex="-1"><a class="header-anchor" href="#_2-方式二-js创建canvas标签" aria-hidden="true">#</a> 2）方式二：JS创建canvas标签</h4><ul><li>推荐，vscode有更友好的提示</li><li>使用JS方式创建canvas时，canvas对象(HTMLCanvasElement)和context对象(CanvasRenderingContext2D)都是具体的类型，vscode编码开发时，提示更加友好</li></ul><p><img src="/assets/Canvas01-99859085.png" alt=""></p><h3 id="_3-canvas标签的版本检查" tabindex="-1"><a class="header-anchor" href="#_3-canvas标签的版本检查" aria-hidden="true">#</a> 3.canvas标签的版本检查</h3><ul><li>绝大多数的浏览器都支持canvas，但少数老版本的浏览器支持不佳（IE9-）</li></ul><h4 id="_1-使用文本-图片替换canvas" tabindex="-1"><a class="header-anchor" href="#_1-使用文本-图片替换canvas" aria-hidden="true">#</a> 1）使用文本/图片替换canvas</h4><ul><li>浏览器不支持canvas，会显示标签中的文本或图片内容</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>您的浏览器版本过低，不支持canvas，请升级浏览器或更换浏览器<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_2-脚本检测" tabindex="-1"><a class="header-anchor" href="#_2-脚本检测" aria-hidden="true">#</a> 2）脚本检测</h4><ul><li>浏览器不支持canvas时，canvas对象没有getContext函数</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>canvas2<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;您的浏览器版本过低，不支持canvas，请升级浏览器或更换浏览器&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token comment">// coding...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-画布区域特点" tabindex="-1"><a class="header-anchor" href="#_4-画布区域特点" aria-hidden="true">#</a> 4.画布区域特点</h3><ul><li>canvas是一个 <mark>行内元素</mark></li><li>canvas可以使用 <code>width</code> 和 <code>height</code> 设置区域宽高 <ul><li>默认宽高：300*150</li></ul></li><li>canvas可以使用 <code>style</code> 样式设置宽高 <ul><li>与 <code>width</code> 和 <code>height</code> 设置的效果有所不同</li></ul></li></ul><h4 id="_1-坐标系" tabindex="-1"><a class="header-anchor" href="#_1-坐标系" aria-hidden="true">#</a> 1）坐标系</h4><ul><li>每一个画布中都有一个坐标系统，画布的左上角为默认的 <code>(0, 0)</code> 原点</li></ul><h4 id="_2-画布区域" tabindex="-1"><a class="header-anchor" href="#_2-画布区域" aria-hidden="true">#</a> 2）画布区域</h4><ul><li>可见的坐标系区域，使用 <code>width</code> 和 <code>height</code> 属性控制的区域</li><li>这个区域有多大，其包含的坐标系就有多大 <ul><li>画布/坐标系本身可以很大</li><li>但是页面上可见区域只会根据属性值展示</li><li>超出设定范围的坐标系中的图形将不可见</li></ul></li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token comment">&lt;!-- 定义400*400的坐标系 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-放置区域" tabindex="-1"><a class="header-anchor" href="#_3-放置区域" aria-hidden="true">#</a> 3）放置区域</h4><ul><li>使用 <code>style</code> 样式控制的区域大小，可理解为 <mark>比例尺</mark></li><li>画布区域中绘制的图形，最终会在放置区域中展示</li><li>默认情况下，放置区域与画布区域相同</li><li>放置区域如果比画布区域大/小，画布中的图形就会按比例放大/缩小（图像可能失真）</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">canvas</span> <span class="token punctuation">{</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span>
    <span class="token property">margin-left</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">#c2</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">#c3</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token punctuation">{</span>
    <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#c1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token punctuation">{</span>
    <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#c2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token punctuation">{</span>
    <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#c3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/Canvas02-221b91d0.png" alt=""></p><h2 id="三-绘制图形" tabindex="-1"><a class="header-anchor" href="#三-绘制图形" aria-hidden="true">#</a> （三）绘制图形</h2><h3 id="_1-绘制矩形" tabindex="-1"><a class="header-anchor" href="#_1-绘制矩形" aria-hidden="true">#</a> 1.绘制矩形</h3><ul><li>可以绘制两种矩形，有三种方式 <ul><li>填充的矩形（实心矩形）</li><li>描边的矩形（空心矩形）</li></ul></li></ul><h4 id="_1-填充矩形" tabindex="-1"><a class="header-anchor" href="#_1-填充矩形" aria-hidden="true">#</a> 1）填充矩形</h4><ul><li>ctx.fillRect(x, y, width, height)</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZYAAAGVCAYAAADdbNc4AAAGGUlEQVR4nO3YsW3FMBAFQdFQR+q/BNV0jpR9ODAWoC3MRAxftjiumZkDACLncRzHfd+7dwDwEufzuK5r5w4A/qnnOHk68rVzDADvIywApIQFgJSwAJASFgBSwgJASlgASAkLAClhASAlLACkhAWAlLAAkBIWAFLCAkBKWABICQsAKWEBICUsAKSEBYCUsACQEhYAUsICQEpYAEgJCwApYQEgJSwApIQFgJSwAJASFgBSwgJASlgASAkLAClhASAlLACkhAWAlLAAkBIWAFLCAkBKWABICQsAKWEBICUsAKSEBYCUsACQEhYAUsICQEpYAEgJCwApYQEgJSwApIQFgJSwAJASFgBSwgJASlgASAkLAClhASAlLACkhAWAlLAAkBIWAFLCAkBKWABICQsAKWEBICUsAKSEBYCUsACQEhYAUsICQEpYAEgJCwApYQEgJSwApIQFgJSwAJASFgBSwgJASlgASAkLAClhASAlLACkhAWAlLAAkBIWAFLCAkBKWABICQsAKWEBICUsAKSEBYCUsACQEhYAUsICQEpYAEgJCwApYQEgJSwApIQFgNS5ewCfrbV2T4A/a2Z2T+AHLhYAUsICQEpYAEgJCwApYQEgJSwApIQFgJSwAJASFgBSwgJASlgASAkLAClhASAlLACkhAWAlLAAkBIWAFLCAkBKWABICQsAKWEBICUsAKSEBYCUsACQEhYAUsICQEpYAEgJCwApYQEgJSwApIQFgJSwAJASFgBSwgJASlgASAkLAClhASAlLACkhAWAlLAAkBIWAFLCAkBKWABICQsAKWEBICUsAKSEBYCUsACQEhYAUsICQEpYAEgJCwApYQEgJSwApIQFgJSwAJASFgBSwgJASlgASAkLAClhASAlLACkhAWAlLAAkBIWAFLCAkBKWABICQsAKWEBICUsAKSEBYCUsACQEhYAUsICQEpYAEgJCwApYQEgJSwApIQFgJSwAJASFgBSwgJASlgASAkLAClhASAlLACkhAWAlLAAkBIWAFLCAkBKWABICQsAKWEBICUsAKSEBYCUsACQEhYAUsICQEpYAEiduwfw2czsngDwKy4WAFLCAkBKWABICQsAKWEBICUsAKSEBYCUsACQEhYAUsICQEpYAEgJCwApYQEgJSwApIQFgJSwAJASFgBSwgJASlgASAkLAClhASAlLACkhAWAlLAAkBIWAFLCAkBKWABICQsAKWEBICUsAKSEBYCUsACQEhYAUsICQEpYAEgJCwApYQEgJSwApIQFgJSwAJASFgBSwgJASlgASAkLAClhASAlLACkhAWAlLAAkBIWAFLCAkBKWABICQsAKWEBICUsAKSEBYCUsACQEhYAUsICQEpYAEgJCwApYQEgJSwApIQFgJSwAJASFgBSwgJASlgASAkLAClhASAlLACkhAWAlLAAkBIWAFLCAkBKWABICQsAKWEBICUsAKSEBYCUsACQEhYAUsICQEpYAEgJCwApYQEgJSwApIQFgJSwAJASFgBSwgJASlgASAkLAClhASAlLACkhAWAlLAAkBIWAFLCAkBKWABICQsAKWEBICUsAKSEBYCUsACQEhYAUsICQEpYAEgJCwApYQEgJSwApIQFgJSwAJASFgBSwgJASlgASAkLAClhASAlLACkhAWAlLAAkBIWAFLCAkBKWABICQsAKWEBICUsAKSEBYCUsACQEhYAUsICQEpYAEgJCwApYQEgJSwApIQFgJSwAJASFgBSwgJASlgASAkLAClhASAlLACkhAWAlLAAkBIWAFLCAkBKWABICQsAKWEBICUsAKSEBYCUsACQEhYAUsICQEpYAEgJCwApYQEgJSwApIQFgJSwAJASFgBSwgJASlgASAkLAClhASAlLACkhAWAlLAAkBIWAFLCAkBKWABICQsAKWEBICUsAKSEBYCUsACQEhYAUsICQEpYAEgJCwApYQEgJSwApIQFgJSwAJASFgBSwgJASlgASAkLAClhASAlLACkhAWAlLAAkBIWAFLCAkBKWABICQsAKWEBICUsAKSEBYDUmpm573v3DgBeYs3M7B4BwHv4CgMg9Q3bjB2IEbcT9AAAAABJRU5ErkJggg==" alt=""></p><h4 id="_2-描边矩形" tabindex="-1"><a class="header-anchor" href="#_2-描边矩形" aria-hidden="true">#</a> 2）描边矩形</h4><ul><li>ctx.strokeRect(x, y, width, height)</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZgAAAGSCAYAAADeoNczAAAGhUlEQVR4nO3ZUW7aQBRAUU+VHbFBsz9Y0/SrUdRAgyEXl+icLzTYo2ckcxEec865fHA+n5dlWZbD4bAAwFZ/OvJr5zkA+KEEBoCEwACQEBgAEgIDQEJgAEgIDAAJgQEgITAAJAQGgITAAJAQGAASAgNAQmAASAgMAAmBASAhMAAkBAaAhMAAkBAYABICA0BCYABICAwACYEBICEwACQEBoCEwACQEBgAEgIDQEJgAEgIDAAJgQEgITAAJAQGgITAAJAQGAASAgNAQmAASAgMAAmBASAhMAAkBAaAhMAAkBAYABICA0BCYABICAwACYEBICEwACQEBoCEwACQEBgAEgIDQEJgAEgIDAAJgQEgITAAJAQGgITAAJAQGAASAgNAQmAASAgMAAmBASAhMAAkBAaAhMAAkBAYABICA0BCYABICAwACYEBICEwACQEBoCEwACQEBgAEgIDQEJgAEgIDAAJgQEgITAAJAQGgITAAJAQGAASAgNAQmAASAgMAAmBASAhMAAkBAaAhMAAkBAYABICA0BCYABICAwACYEBIPG29wB8bV3Xu84bY/zz/TnnXft+tf+t+z56/pY9H93/730f/ez4fvfeJ3QE5gervwQf3b+Yr7pmQYHtBOaF+IUGn7kv/l+ewQCQEBgAEgIDQEJgAEgIDAAJgQEgITAAJAQGgITAAJAQGAASAgNAQmAASAgMAAmBASAhMAAkBAaAhMAAkBAYABICA0BCYABICAwACYEBICEwACQEBoCEwACQEBgAEgIDQEJgAEgIDAAJgQEgITAAJAQGgITAAJAQGAASAgNAQmAASAgMAAmBASAhMAAkBAaAhMAAkBAYABICA0BCYABICAwACYEBICEwACQEBoCEwACQEBgAEgIDQEJgAEgIDAAJgQEgITAAJAQGgITAAJAQGAASAgO8vDHG3iNwgcAAL2/OufcIXCAwACQEBoCEwACQEBgAEgIDQEJgAEgIDAAJgQEgITAAJAQGgITAAJAQGAASAgNAQmAASAgMAAmBASAhMAAkBAaAhMAAkBAYABICA0BCYABICAwACYEBICEwACQEBoCEwACQEBgAEgIDQEJgAEgIDAAJgQEgITAAJAQGgITAAJAQGAASAgNA4m3vAbjd8XhclmVZ5pzva2OM99eX1u899hnrW8+559hH1j+uXZsfuE5gXsic8+YvvUvrW459xvrWc559rdeCKDRwG4F5Aeu67j0CwGaewQCQEBgAEgIDQEJgAEgIDAAJgQEgITAAJAQGgITAAJAQGAASAgNAQmAASAgMAAmBASAhMAAkBAaAhMAAkBAYABICA0BCYABICAwACYEBICEwACQEBoCEwACQEBgAEgIDQEJgAEgIDAAJgQEgITAAJAQGgITAAJAQGAASAgNAQmAASAgMAAmBASAhMAAkBAaAhMAAkBAYABICA0BCYABICAwACYEBICEwACQEBoCEwACQEBgAEgIDQEJgAEgIDAAJgQEgITAAJAQGgITAAJAQGAASAgNAQmAASAgMAAmBASAhMAAkBAaAhMAAkBAYABICA0BCYABICAwACYEBICEwACQEBoCEwACQEBgAEgIDQEJgAEgIDAAJgQEgITAAJAQGgITAAJAQGAASAgNAQmAASAgMAAmBASAhMAAkBAaAhMAAkBAYABICA0BCYABICAwACYEBICEwACQEBoCEwACQEBgAEgIDQEJgAEgIDAAJgQEgITAAJAQGgITAAJAQGAASAgNAQmAASAgMAAmBASAhMAAkBAaAhMAAkBAYABICA0BCYABICAwACYEBICEwACQEBoCEwACQEBgAEgIDQEJgAEgIDAAJgQEgITAAJAQGgITAAJAQGAASAgNAQmAASAgMAAmBASAhMAAkBAaAhMAAkBAYABICA0BCYABICAwACYEBICEwACQEBoCEwACQEBgAEgIDQEJgAEgIDAAJgQEgITAAJAQGgITAAJAQGAASAgNAQmAASAgMAAmBASAhMAAkBAaAhMAAkBAYABICA0BCYABICAwACYEBICEwACQEBoCEwACQEBgAEgIDQEJgAEgIDAAJgQEgITAAJAQGgITAAJAQGAASAgNAQmAASAgMAAmBASAhMAAkBAaAhMAAkBAYABICA0BCYABICAwACYEBICEwACQEBoCEwACQEBgAEgIDQEJgAEgIDAAJgQEgMU6n09x7CAB+njHnFBgAvp2/yABICAwAid/gWqaxAc0n3gAAAABJRU5ErkJggg==" alt=""></p><h4 id="_3-矩形路径" tabindex="-1"><a class="header-anchor" href="#_3-矩形路径" aria-hidden="true">#</a> 3）矩形路径</h4><ul><li>ctx.rect(x, y, width, height)</li><li>只是提供了一个规划，默认在页面上没有效果</li><li>需要配合 <code>ctx.stroke()</code>、<code>ctx.fill()</code> 来描边或填充</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>使用 <code>ctx.fillStyle</code> 属性设置填充的颜色</li><li>使用 <code>ctx.strokeStyle</code> 属性设置描边颜色</li><li>使用 <code>ctx.lineWidth</code> 属性设置描边粗细</li></ul><div class="hint-container warning"><p class="hint-container-title">注意</p><p>一定要在绘制图形之前设置</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;rgba(255, 0, 0, 0.8)&quot;</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">&quot;#00f&quot;</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 代码至此，已经绘画完毕了</span>

<span class="token comment">// ctx.fillStyle = &#39;red&#39;; // 无效果</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p><img src="data:image/png;base64,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" alt=""></p><h3 id="_2-beginpath方法" tabindex="-1"><a class="header-anchor" href="#_2-beginpath方法" aria-hidden="true">#</a> 2.beginPath方法</h3><ul><li><code>stroke()</code> 或 <code>fill()</code> 默认会对之前所有绘制的路径进行统一处理</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;#f00&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">&quot;#0f0&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/Canvas06-4a2ee739.png" alt=""></p><ul><li>当需要只对刚刚绘制的图形路径进行处理时，可以使用 <code>ctx.beginPath()</code> 方法</li><li>为不同部分的路径设置开关/分组，此时只对紧邻这组路径进行绘制</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">&quot;#00f&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;#f00&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">&quot;#0f0&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="data:image/png;base64,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" alt=""></p><div class="hint-container info"><p class="hint-container-title">相关信息</p><ul><li>一组路径可以有多个图形（线，弧，曲线，矩形等）</li><li>使用 <code>fillRect()</code>、 <code>strokeRect()</code> 不会有影响</li></ul></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;#f00&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="data:image/png;base64,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" alt=""></p><h3 id="_3-绘制圆角矩形" tabindex="-1"><a class="header-anchor" href="#_3-绘制圆角矩形" aria-hidden="true">#</a> 3.绘制圆角矩形</h3><ul><li><code>ctx.roundRect(x, y, width, height, r)</code></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">roundRect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/Canvas09-b516dfe4.png" alt=""></p><h4 id="_1-r-有多种写法-可以实现四个圆角单独设置" tabindex="-1"><a class="header-anchor" href="#_1-r-有多种写法-可以实现四个圆角单独设置" aria-hidden="true">#</a> 1）r 有多种写法，可以实现四个圆角单独设置</h4><ul><li>r: 10 | [10]</li><li>r: [10, 20] <code>[top-left-and-bottom-right, top-right-and-bottom-left]</code></li><li>r: [10, 20, 30] <code>[top-left, top-right-and-bottom-left, bottom-right]</code></li><li>r: [10, 20, 30, 40]</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">roundRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">roundRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">roundRect</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">roundRect</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/Canvas10-fa0c46dd.png" alt=""></p><h3 id="_4-绘制直线-折线" tabindex="-1"><a class="header-anchor" href="#_4-绘制直线-折线" aria-hidden="true">#</a> 4.绘制直线&amp;折线</h3><h4 id="_1-概念" tabindex="-1"><a class="header-anchor" href="#_1-概念" aria-hidden="true">#</a> 1）概念</h4><ul><li>直线：两点之间的连线</li><li>折线：多条直线连接</li></ul><h4 id="_2-绘制" tabindex="-1"><a class="header-anchor" href="#_2-绘制" aria-hidden="true">#</a> 2）绘制</h4><ul><li>使用 <code>ctx.moveTo(x, y)</code> 将画笔放置到指定的坐标位置（起始点）</li><li>使用 <code>ctx.lineTo(x, y)</code> 从 <mark>上一个点</mark> 绘制直线路径到指定的点 <ul><li>上一个点可以是moveTo指定的点</li><li>也可以是上一次lineTo指定的点</li><li>即：可以多个lineTo连续使用，形成折线</li></ul></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">&quot;#00f&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="data:image/png;base64,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" alt=""></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZ4AAAGaCAYAAAA/7SUZAAAIjklEQVR4nO3Y23HbSAJAUWjLGTkMOSglY0dghaEIFAz3Y8ezsh4USQEXjz6nikUS6CYb/OCtxt3pdDpNABD5z9oLAGAswgNASngASAkPAKlvT09Pa68BgIP6/v37m2Pf3js4TdP0J0gfnQeAcz7a2LjVBkBKeABICQ8AKeEBICU8AKSEB4CU8ACQEh4AUsIDQEp4AEgJDwAp4QEgJTwApIQHgJTwAJASHgBSwgNASngASAkPACnhASAlPACkhAeAlPAAkBIeAFLCA0BKeABICQ8AKeEBICU8AKSEB4CU8ACQEh4AUsIDQEp4AEgJDwAp4QEgJTwApIQHgJTwAJASHgBSwgNASngASAkPACnhASAlPACkhAeAlPAAkBIeAFLf1l5A5eHh4d/Xd3d30+l0+uv9NE1vjr18/9G812Neu2TMpd93ybxL1z1Nn18v5z0/P08/f/5cexmwO0PueF7/wZ5Op3ePXTLv2u+6Ztwtn3/pus/N+xOmu7u7s4/XYz96vmbsublzffat1/Dy8fz8PP369Wt6fHx883sD5w2544GveHx8nB4eHqbfv39P9/f3ay8HdmfIHQ/c6vHxcfrx44fowBcID1xIdGAewgMXEB2Yj/DAJ0QH5iU8cIbowPyEBz4gOrAM4YF3iA4sR3jgFdGBZQkPvCA6sDzhgX+IDjSEBybRgZLwMDzRgZbwMDTRgZ7wMCzRgXUID0MSHViP8DAc0YF1CQ9DER1Yn/AwDNGBbRAehiA6sB3Cw+GJDmyL8HBoogPbIzwclujANgkPhyQ6sF3Cw+GIDmyb8HAoogPbJzwchujAPggPhyA6sB/Cw+6JDuyL8LBrogP7IzzslujAPgkPuyQ6sF/Cw+6IDuyb8LArogP7JzzshujAMQgPuyA6cBzCw+aJDhyL8LBpogPHIzxslujAMQkPmyQ6cFzCw+aIDhyb8LApogPHJzxshujAGISHTRAdGIfwsDrRgbEID6sSHRiP8LAa0YExCQ+rEB0Yl/CQEx0Ym/CQEh1AeMiIDjBNwkNEdIA/hIfFiQ7wkvCwKNEBXhMeFiM6wHuEh0WIDvAR4WF2ogOcIzzMSnSAzwgPsxEd4BLCwyxEB7iU8PBlogNcQ3j4EtEBriU83Ex0gFsIDzcRHeBWwsPVRAf4CuHhKqIDfJXwcDHRAeYgPFxEdIC5CA+fEh1gTsLDWaIDzE14+JDoAEsQHt4lOsBShIc3RAdYkvDwF9EBliY8/Et0gILwME2T6AAd4UF0gJTwDE50gJrwDEx0gDUIz6BEB1iL8AxIdIA1Cc9gRAdYm/AMRHSALRCeQYgOsBXCMwDRAbZEeA5OdICtEZ4DEx1gi4TnoEQH2CrhOSDRAbZMeA5GdICtE54DER1gD4TnIEQH2AvhOQDRAfZEeHZOdIC9EZ4dEx1gj4Rnp0QH2Cvh2SHRAfZMeHZGdIC9E54dER3gCIRnJ0QHOArh2QHRAY5EeDZOdICjEZ4NEx3giIRno0QHOCrh2SDRAY5MeDZGdICjE54NER1gBMKzEaIDjEJ4NkB0gJEIz8pEBxiN8KxIdIARCc9KRAcYlfCsQHSAkQlPTHSA0QlPSHQAhCcjOgD/IzwB0QH4P+FZmOgA/E14FiQ6AG8Jz0JEB+B9wrMA0QH4mPDMTHQAzhOeGYkOwOeEZyaiA3AZ4ZmB6ABcTni+SHQAriM8XyA6ANcTnhuJDsBthOcGogNwO+G5kugAfI3wXEF0AL5OeC4kOgDzEJ4LiA7AfITnE6IDMC/hOUN0AOYnPB8QHYBlCM87RAdgOcLziugALEt4XhAdgOUJzz9EB6AhPJPoAJSGD4/oALSGDo/oAPSGDY/oAKxjyPCIDsB6hguP6ACsa6jwiA7A+oYJj+gAbMMQ4REdgO0YIjz39/eiA7ARQ4RnmibRAdiIYcIDwDYIDwAp4QEgJTwApIQHgJTwAJASHgBSwgNASngASAkPACnhASAlPACkhAeAlPAAkBIeAFLCA0BKeABICQ8AKeEBICU8AKSEB4CU8ACQEh4AUsIDQEp4AEgJDwAp4QEgJTwApIQHgJTwAJASHgBSwgNASngASAkPACnhASAlPACkhAeAlPAAkBIeAFLCA0BKeABICQ8AKeEBICU8AKSEB4CU8ACQEh4AUsIDQEp4AEgJDwAp4QEgJTwApIQHgJTwAJASHgBSwgNASngASAkPACnhASAlPACkhAeAlPAAkBIeAFLCA0BKeABICQ8AKeEBICU8AKSEB4CU8ACQEh4AUsIDQEp4AEgJDwAp4QEgJTwApIQHgJTwAJASHgBSwgNASngASAkPACnhASAlPACkhAeAlPAAkBIeAFLCA0BKeABICQ8AKeEBICU8AKSEB4CU8ACQEh4AUsIDQEp4AEgJDwAp4QEgJTwApIQHgJTwAJASHgBSwgNASngASAkPACnhASAlPACkhAeAlPAAkBIeAFLCA0BKeABICQ8AKeEBICU8AKSEB4CU8ACQEh4AUsIDQEp4AEgJDwAp4QEgJTwApIQHgJTwAJASHgBSwgNASngASAkPACnhASAlPACkhAeAlPAAkBIeAFLCA0BKeABICQ8AKeEBICU8AKSEB4CU8ACQEh4AUsIDQEp4AEgJDwAp4QEgJTwApIQHgJTwAJASHgBSwgNASngASAkPACnhASAlPACkhAeAlPAAkBIeAFLCA0BKeABICQ8AKeEBICU8AKSEB4CU8ACQEh4AUsIDQEp4AEgJDwAp4QEgJTwApIQHgJTwAJASHgBSwgNASngASAkPACnhASAlPACkhAeAlPAAkBIeAFLCA0BKeABICQ8AKeEBICU8AKSEB4CU8ACQEh4AUsIDQEp4AEgJDwAp4QEgJTwApIQHgJTwAJD69vT0dHbAZ+cB4Bp3p9PptPYiABiHW20ApIQHgNR/AS5S/wqUshwZAAAAAElFTkSuQmCC" alt=""></p><h3 id="_5-线条api" tabindex="-1"><a class="header-anchor" href="#_5-线条api" aria-hidden="true">#</a> 5.线条API</h3><h4 id="_1-ctx-linewidth-属性" tabindex="-1"><a class="header-anchor" href="#_1-ctx-linewidth-属性" aria-hidden="true">#</a> 1）ctx.lineWidth 属性</h4><ul><li>设置线条粗细</li></ul><h4 id="_2-ctx-linecap-属性" tabindex="-1"><a class="header-anchor" href="#_2-ctx-linecap-属性" aria-hidden="true">#</a> 2）ctx.lineCap 属性</h4><ul><li>设置线条端点的样式（连接点、线帽）</li></ul><table><thead><tr><th>属性值</th><th>含义</th><th>说明</th></tr></thead><tbody><tr><td>butt</td><td>平的</td><td>默认，没有任何额外的效果</td></tr><tr><td>round</td><td>圆形</td><td>端点处增加了半圆，视觉效果上直线变长了</td></tr><tr><td>square</td><td>方形</td><td>端点处增加了矩形，视觉效果上直线变长了</td></tr></tbody></table><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">&quot;#00f&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>lineCap <span class="token operator">=</span> <span class="token string">&quot;butt&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>lineCap <span class="token operator">=</span> <span class="token string">&quot;round&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>lineCap <span class="token operator">=</span> <span class="token string">&quot;square&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUcAAAB+CAYAAAC3S9O6AAAE/klEQVR4nO3dv25TZxzH4a+TJpIXJMLCkKIuVQekVpXSpkWNQmemZu0VMDS3ULgDlIWl19DeQQulQg14zcSCIAMLEWJJRUROBzf8/amJI5zjEz/P4iTy8JOi96Nj+7x+e4PBoAkAb+k1TSOOAO+YaXsAgEkkjgCFj9oeAGjHzseftj3CexYeP2h7hFdcOQIUXDnClJuEq7VJvIp15QhQEEeAgjgCFMQRoNDJD2Sapsne3l6SZG5uLr1er+WJ4PSa1vXWyTg+e/YsN2/eTJJcvXo1Z8+ebXkiOL2mdb11Mo5N0+TFixevfgbGZ1rXm/ccAQriCFAQR4CCOAIUxBGgII4ABXEEKIgjQEEcAQriCFAQR4CCOAIUxBGgII4AhU5+ZVmSvHw5m7t3L+Wff/rp99ueBrrnp/8er1///+ft7vZz//5KLl26O/aZJkmn4/jXXyv5/ff5tkeBTvppcfh47dphz+xnfn4ly8ub4x5ponhZDVAQR4CCOAIUxBGgII4ABXEEKIgjQEEcAQriCFDo7A6Z2dmX+e67O/nqq0vp2z8Io/tl+HDYDpnd3d3cv383s7Mvxz/TBOl0HFdW7mR9/cssLIgjjGrnvzj+/PMhz9vZzcbGnfEPNGG8rAYoiCNAQRwBCuIIUBBHgII4AhTEEaAgjgAFcQQodGqHzPPnydZWMhj08+efq2mantMH4ZhGOX1wc/Nyer0m5871s7SUXLyYnDkz9hFb1Wuapml7iKN48iT544/k11+TwSB59Gg/+/sufOG4ni5+miQ5t/3gSM+fmdnPhQszWVpK1taS779Pzp//MLPsfDycZeHx0WY5CZ24cnz+fBjGGzeSe/cO/iqMcJL292fy8GHy8GHy6NHwb1eunN4ryE4UZmtreMX4OoxAm+7dG67Jra22JxmfzsRxMGh7CuBNg4E4tu7Jk2R7u+0pgDdtbw/X5mnViTgCnLROxPH8+WRxse0pgDctLn64T6snUSfiePFisrTU9hTAmw7udzytOhPHtbXk66/bngRIhmtxbe10x7ET9zmeOTO84TRxEzi0pboJ/LTe45h0JI7J8L2NK1eSTz5JBoPd/Pbb32maXpaXl50+CMcxwumDm5ub6fWa/PDDN1la6k/F9sHOxDEZ/jO+/Tb57LPdPH16O0myvv650wfhGEY7ffBWkuTHH7+YmvXmdSlAQRwBCuIIUBBHgII4AhTEEaAgjgAFcQQoiCNAoRM7ZG7dSm7ffv37wWloSZw+CMc06umDyfvrbXU1uXx5PPO1rROnD16/fvj+T2A0o54+WLl27fDth0cxiacPelkNUBBHgII4AhTEEaAgjgAFcQQoiCNAQRwBCuIIUOjE9sHV1bd3yBychpbE6YNwXCOePpi8v95WV8c1XPs6sX3wXTs7O9nY2EiSrK+vZ2FhoeWJoHuOumXvJNab7YMAHSGOAAVxBCiII0BBHAEK4ghQEEeAgjgCFMQRoCCOAAVxBCiII0BBHAEK4ghQ6MT3Ob6r1+tlfn7+1c/A+Ezreuvk9zk2TZO9vb0kydzc3FT9w+BDOep3KJ7EepvE73Ps/JUjMF7Tut685whQEEeAQidfVgMfzsH7fbzNlSNAoZOfVgOMmytHgII4AhTEEaAgjgAFcQQoiCNAQRwBCuIIUBBHgII4AhTEEaAgjgAFcQQoiCNAQRwBCuIIUBBHgII4AhTEEaDwL7rhQkVc4enwAAAAAElFTkSuQmCC" alt=""></p><h4 id="_3-ctx-linejoin-属性" tabindex="-1"><a class="header-anchor" href="#_3-ctx-linejoin-属性" aria-hidden="true">#</a> 3）ctx.lineJoin 属性</h4><ul><li>设置折线连接处的样式</li></ul><table><thead><tr><th>属性值</th><th>含义</th><th>说明</th></tr></thead><tbody><tr><td>miter</td><td>尖角</td><td>默认，尖的</td></tr><tr><td>round</td><td>圆角</td><td>圆的</td></tr><tr><td>bevel</td><td>斜角</td><td>平的</td></tr></tbody></table><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>lineJoin <span class="token operator">=</span> <span class="token string">&quot;miter&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">&quot;#00f&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>lineJoin <span class="token operator">=</span> <span class="token string">&quot;round&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">&quot;#00f&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>lineJoin <span class="token operator">=</span> <span class="token string">&quot;bevel&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">&quot;#00f&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/Canvas14-71b34f38.png" alt=""></p><h4 id="_4-ctx-miterlimit-属性" tabindex="-1"><a class="header-anchor" href="#_4-ctx-miterlimit-属性" aria-hidden="true">#</a> 4）ctx.miterLimit 属性</h4><ul><li>限制折线形成的尖角长短 <ul><li>当线条比较粗、折线夹角比较小时，lineJoin设置的miter效果形成的尖会比较长</li><li>可以利用该属性来控制尖角的长短</li></ul></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;canvas&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&#39;2d&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>lineJoin <span class="token operator">=</span> <span class="token string">&quot;miter&quot;</span>；
  ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">&#39;#00f&#39;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>miterLimit <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>miterLimit <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">180</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">210</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="data:image/png;base64,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" alt=""></p><h4 id="_5-ctx-setlinedash-array-方法" tabindex="-1"><a class="header-anchor" href="#_5-ctx-setlinedash-array-方法" aria-hidden="true">#</a> 5）ctx.setLineDash(array) 方法</h4><ul><li>设置虚线</li><li><code>array</code> 中可以放置多个数值，分别表示 <mark>线段的长度</mark> 和 <mark>线段间留白的长度</mark></li><li>[10]：线段长度（10）、留白长度（10）</li><li>[20, 10]：线段长度（20）、留白长度（10）</li><li>[10, 20, 30]：按照数组的数列，无限的延续下去 <ul><li>线段10 留白20 线段30 留白10 线段20 留白30 线段10 留白20 ......</li><li>相当于 [10, 20, 30, 10, 20, 30, 10, 20, 30, 10, 20, 30, ......]</li></ul></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">&quot;#00f&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">setLineDash</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">setLineDash</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">setLineDash</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/Canvas16-c2c8d7c6.png" alt=""></p><h4 id="_6-ctx-linedashoffset-属性" tabindex="-1"><a class="header-anchor" href="#_6-ctx-linedashoffset-属性" aria-hidden="true">#</a> 6）ctx.lineDashOffset 属性</h4><ul><li>设置虚线起始位置的偏移 <ul><li>正数值，向左偏移</li><li>负数值，向右偏移</li></ul></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">190</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">&quot;#00f&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">setLineDash</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">40</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">setLineDash</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">40</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>lineDashOffset <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">setLineDash</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">40</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>lineDashOffset <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/Canvas17-f1fde2fe.png" alt=""></p><h3 id="_6-清除画布" tabindex="-1"><a class="header-anchor" href="#_6-清除画布" aria-hidden="true">#</a> 6.清除画布</h3><ul><li>大多数情况下，当canvas配合js动画实现动画效果时 <ul><li>默认每一次都是在之前的基础上进行绘制</li><li>所以应该清除上一次的绘画效果，重新绘制</li></ul></li></ul><h4 id="_1-清除画布中的指定矩形区域" tabindex="-1"><a class="header-anchor" href="#_1-清除画布中的指定矩形区域" aria-hidden="true">#</a> 1）清除画布中的指定矩形区域</h4><ul><li><code>ctx.clearRect(x, y, width, height)</code></li><li>如果 width 和 height 等于画布宽高，就相当于清除整个画布，否则清除画布的一部分</li></ul><div class="hint-container warning"><p class="hint-container-title">注意</p><ul><li>清除画布的本质是将指定的矩形区域，<mark>设置透明度为0，之前的路径依然存在</mark></li><li>绘制新路径时需要配合 <code>beginPath()</code>，否则 <code>stroke()</code> 或 <code>fill()</code> 时之前的清除效果会重现</li></ul></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 绘制横线</span>
  ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 清除画布</span>
  ctx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 绘制竖线</span>
  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>如果没有 <code>beginPath()</code>，绘制竖线的时候，之前的横线也会出现</li><li>如果有 <code>beginPath()</code>，只会绘制竖线，之前的横线不会重新绘制，实现 <mark>永久擦除</mark> 效果</li></ul><p><img src="/assets/Canvas18-452ae066.png" alt=""></p><h3 id="_7-虚线小动画" tabindex="-1"><a class="header-anchor" href="#_7-虚线小动画" aria-hidden="true">#</a> 7.虚线小动画</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">&quot;#00f&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">setLineDash</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>lineDashOffset <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    ctx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">145</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>lineDashOffset <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">.</span>lineDashOffset <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      ctx<span class="token punctuation">.</span>lineDashOffset <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>move<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>move<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">&quot;#00f&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">setLineDash</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    ctx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>lineDashOffset <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>move<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>move<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><iframe src="/Canvas01.html" width="100%" height="250"></iframe><p><img src="/assets/Canvas30-dceb1fc7.gif" alt=""></p><h3 id="_8-closepath方法" tabindex="-1"><a class="header-anchor" href="#_8-closepath方法" aria-hidden="true">#</a> 8.closePath方法</h3><ul><li>多个连续线条围合的区域，可以使用 <code>fill()</code> 进行填充</li><li>如果需要首尾节点自动闭合，可以使用 <code>ctx.closePath()</code> 方法</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;#fac&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ctx.lineTo(100, 100); // 手动闭合</span>
  ctx<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/Canvas19-4ca8fca4.png" alt=""></p><h3 id="_9-绘制圆弧" tabindex="-1"><a class="header-anchor" href="#_9-绘制圆弧" aria-hidden="true">#</a> 9.绘制圆弧</h3><h4 id="_1-arc-x-y-r-startangle-endangle-dir" tabindex="-1"><a class="header-anchor" href="#_1-arc-x-y-r-startangle-endangle-dir" aria-hidden="true">#</a> 1）arc(x, y, r, startAngle, endAngle[, dir])</h4><ul><li>x，y：圆点坐标</li><li>r：半径</li><li>startAngle：起始点的角度 <ul><li>默认 <mark>圆点所在的x轴右侧半径长度的位置</mark> 为绘制的起始点，即：0度点/3点钟方向</li><li>角度方向是 <mark>顺时针</mark></li></ul></li><li>endAngle：结束点的角度</li><li>dir：绘制方向 <ul><li>false 顺时针，默认</li><li>true 逆时针</li><li>可缺省</li></ul></li></ul><div class="hint-container danger"><p class="hint-container-title">警告</p><ul><li>设计圆弧时，用的是角度</li><li>传递参数时，传递的是弧度</li><li>1弧度：弧长等于半径的圆弧所对应的角度（r）</li><li><code>1(角度) = Math.PI / 180(弧度)</code></li><li><code>360(角度) = Math.PI * 2</code></li></ul></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/Canvas20-c3981f49.png" alt=""></p><h4 id="_2-arcto-x1-y1-x2-y2-r" tabindex="-1"><a class="header-anchor" href="#_2-arcto-x1-y1-x2-y2-r" aria-hidden="true">#</a> 2）arcTo(x1, y1, x2, y2, r)</h4><ul><li>是由3个控制点实现圆弧的绘制 <ul><li>第一个点：moveTo 或上一次图形结束的点，<mark>不需要通过参数设置</mark></li><li>第二个点：<code>(x1, y1)</code></li><li>第三个点：<code>(x2, y2)</code></li></ul></li><li>按照 1 -&gt; 2 -&gt; 3 的顺序进行连线，两条线会形成一个夹角</li><li>根据r绘制圆弧，保证与两个线条相切 <ul><li>半径越大，圆弧与两条线围合的区域（左下角）越大</li></ul></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">&quot;#00f&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">arcTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/Canvas21-b5dd34f3.png" alt=""></p><h3 id="_10-绘制椭圆" tabindex="-1"><a class="header-anchor" href="#_10-绘制椭圆" aria-hidden="true">#</a> 10.绘制椭圆</h3><h4 id="_1-ctx-ellipse-x-y-rx-ry-rotate-startangle-endangle-dir" tabindex="-1"><a class="header-anchor" href="#_1-ctx-ellipse-x-y-rx-ry-rotate-startangle-endangle-dir" aria-hidden="true">#</a> 1）ctx.ellipse(x, y, rx, ry, rotate, startAngle, endAngle[, dir])</h4><ul><li>x, y：圆点坐标</li><li>rx, ry：x轴半径和y轴半径</li><li>rotate：x轴旋转角度（<mark>顺时针</mark>方向）</li><li>startAngle：起始点角度默认0度（三点钟方向）</li><li>endAngle：终点角度</li><li>dir：绘制方向 <ul><li>false 顺时针</li><li>true 逆时针</li></ul></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">&quot;#00f&quot;</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">ellipse</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">ellipse</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">ellipse</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/Canvas22-2ca8e485.png" alt=""></p><h3 id="_11-绘制曲线" tabindex="-1"><a class="header-anchor" href="#_11-绘制曲线" aria-hidden="true">#</a> 11.绘制曲线</h3><h4 id="_1-概念-1" tabindex="-1"><a class="header-anchor" href="#_1-概念-1" aria-hidden="true">#</a> 1）概念</h4><ul><li>canvas提供了一种绘制曲线的方式：贝塞尔曲线 <ul><li>二次贝塞尔曲线</li><li>三次贝塞尔曲线</li></ul></li></ul><h4 id="_2-原理" tabindex="-1"><a class="header-anchor" href="#_2-原理" aria-hidden="true">#</a> 2）原理</h4><ul><li>有一个起点和终点</li><li>在两点中间，有多个控制点 <ul><li>有一个控制点，称为二次贝塞尔曲线</li><li>有两个控制点，称为三次贝塞尔曲线</li><li>控制点越多，曲线越精细</li><li>控制点位置不受起终点影响</li></ul></li><li>起点 -&gt; 经过控制点 -&gt; 终点依次连线（第一批线段）</li><li>提供一个参数t，在 <code>[0, 1]</code> 范围内变化</li><li>每一个t都存在以下情况： <ul><li>在任意线段中，从起点到终点，存在一个中间点，使得 <code>前部分线段 / 整条线段 = t</code></li><li>对每条线段的这些点，再一次连接（第二批线段，比第一批少一条）</li><li>在第二批线段中，依然存在符合比例t的那些点</li><li>重复之前连线、找点的操作</li><li>直到找到最后一个点，就是这段贝塞尔曲线在当前比例t时曲线上的点</li></ul></li><li>当t在0-1范围变化时，每次都会有一个这样的点，这些点连接后就形成了贝塞尔曲线</li></ul><p><img src="/assets/Canvas23-c11fc845.png" alt=""></p><p><img src="/assets/Canvas24-d6c0c944.gif" alt=""></p><p><img src="/assets/Canvas25-6d262056.gif" alt=""></p><h4 id="_3-绘制二次贝塞尔曲线" tabindex="-1"><a class="header-anchor" href="#_3-绘制二次贝塞尔曲线" aria-hidden="true">#</a> 3）绘制二次贝塞尔曲线</h4><ul><li>ctx.quadraticCurveTo(cx1, cy1, ex, ey)</li><li>cx1, cy1：控制点坐标</li><li>ex, ey：终点坐标</li><li>起点的坐标是moveTo设置，或者是上一次绘图的结尾点</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;#f00&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">quadraticCurveTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container info"><p class="hint-container-title">相关信息</p><p>移动控制点，可以改变曲线的形状</p></div><p><img src="/assets/Canvas26-f5e9936e.png" alt=""></p><h4 id="_4-绘制三次贝塞尔曲线" tabindex="-1"><a class="header-anchor" href="#_4-绘制三次贝塞尔曲线" aria-hidden="true">#</a> 4）绘制三次贝塞尔曲线</h4><ul><li>bezierCurveTo(cx1, cy1, cx2, cy2, ex, ey)</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;#f00&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">bezierCurveTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_12-绘制文本" tabindex="-1"><a class="header-anchor" href="#_12-绘制文本" aria-hidden="true">#</a> 12.绘制文本</h3><h4 id="_1-ctx-filltext-textstr-x-y-maxwidth" tabindex="-1"><a class="header-anchor" href="#_1-ctx-filltext-textstr-x-y-maxwidth" aria-hidden="true">#</a> 1）ctx.fillText(textStr, x, y[, maxWidth])</h4><ul><li>绘制填充文本</li><li>textStr：文本内容</li><li>x, y：文本位置（坐标）</li><li>maxWidth：可选，设置文本最大宽度 <ul><li>如果 <code>文本宽度 &gt; 最大宽度</code> 就会放缩，压缩在 <code>maxWidth</code> 范围内</li></ul></li></ul><h4 id="_2-ctx-stroketext" tabindex="-1"><a class="header-anchor" href="#_2-ctx-stroketext" aria-hidden="true">#</a> 2）ctx.strokeText()</h4><ul><li>绘制描边文本（镂空）</li></ul><h4 id="_3-ctx-font" tabindex="-1"><a class="header-anchor" href="#_3-ctx-font" aria-hidden="true">#</a> 3）ctx.font</h4><ul><li>设置文本样式（粗体、斜体、大小、字体）</li></ul><div class="hint-container danger"><p class="hint-container-title">警告</p><p>必须设置字体，否则其他样式无效</p></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">&quot;bold italic 40px sans-serif&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">&quot;DMC&quot;</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">&quot;bold italic 80px sans-serif&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">strokeText</span><span class="token punctuation">(</span><span class="token string">&quot;DMC&quot;</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/Canvas27-53ad1a43.png" alt=""></p><h4 id="_4-ctx-textalign" tabindex="-1"><a class="header-anchor" href="#_4-ctx-textalign" aria-hidden="true">#</a> 4）ctx.textAlign</h4><ul><li>设置基于锚点水平位置</li><li>left</li><li>center</li><li>right</li></ul><h4 id="_5-ctx-textbaseline" tabindex="-1"><a class="header-anchor" href="#_5-ctx-textbaseline" aria-hidden="true">#</a> 5）ctx.textBaseline</h4><ul><li>设置基于锚点的垂直位置</li><li>bottom</li><li>middle</li><li>top</li></ul><h4 id="_6-ctx-measuretext-text" tabindex="-1"><a class="header-anchor" href="#_6-ctx-measuretext-text" aria-hidden="true">#</a> 6）ctx.measureText(text)</h4><ul><li>对文本相关盒子尺寸进行预估</li><li>返回一个对象，包含文本宽度、字符间距、边距等属性值</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span>textAlign <span class="token operator">=</span> <span class="token string">&quot;center&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">&quot;80px sans-serif&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>textBaseline <span class="token operator">=</span> <span class="token string">&quot;middle&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">strokeText</span><span class="token punctuation">(</span><span class="token string">&quot;DMC&quot;</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> obj <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">measureText</span><span class="token punctuation">(</span><span class="token string">&quot;DMC&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;#f00&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/Canvas28-16cf6f79.png" alt=""></p><h2 id="四-使用图像" tabindex="-1"><a class="header-anchor" href="#四-使用图像" aria-hidden="true">#</a> （四）使用图像</h2><ul><li>在canvas中引入其他图片</li></ul><h3 id="_1-基本使用" tabindex="-1"><a class="header-anchor" href="#_1-基本使用" aria-hidden="true">#</a> 1.基本使用</h3><h4 id="_1-图片源" tabindex="-1"><a class="header-anchor" href="#_1-图片源" aria-hidden="true">#</a> 1）图片源</h4><ul><li>Image对象，对应img标签 <ul><li>可以是图片的路径</li><li>也可以是图片的base64</li></ul></li><li>video对象</li><li>canvas对象</li></ul><h4 id="_2-ctx-drawimage-imgsource-x-y" tabindex="-1"><a class="header-anchor" href="#_2-ctx-drawimage-imgsource-x-y" aria-hidden="true">#</a> 2）ctx.drawImage(imgSource, x, y)</h4><ul><li>引入图片</li><li>x, y：在canvas画布中放置的起始坐标位置</li><li>会按照图像原大小展示，超出画布可视区域部分将不可见</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/assets/Canvas31-50b34fb1.png" alt=""></p><h4 id="_3-ctx-drawimage-imgsource-x-y-width-height" tabindex="-1"><a class="header-anchor" href="#_3-ctx-drawimage-imgsource-x-y-width-height" aria-hidden="true">#</a> 3）ctx.drawImage(imgSource, x, y, width, height)</h4><ul><li>width, height：图像展示的大小（缩放处理）</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">220</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/assets/Canvas32-ba482cd1.png" alt=""></p><h4 id="_4-ctx-drawimage-imgsource-x1-y1-w1-h1-x2-y2-w2-h2" tabindex="-1"><a class="header-anchor" href="#_4-ctx-drawimage-imgsource-x1-y1-w1-h1-x2-y2-w2-h2" aria-hidden="true">#</a> 4）ctx.drawImage(imgSource, x1, y1, w1, h1, x2, y2, w2, h2)</h4><ul><li>x1, y1, w1, h1：图像的截图区域，此时基于图像的坐标系</li><li>x2, y2, w2, h2：画布展示区域</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token number">44</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> img<span class="token punctuation">.</span>height<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">400</span> <span class="token operator">-</span> img<span class="token punctuation">.</span>height<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> img<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/assets/Canvas33-1174b673.png" alt=""></p><div class="hint-container danger"><p class="hint-container-title">警告</p><p>使用图片源时，要确保图片加载完成，建议在 <code>img.onload</code> 事件中使用图片源</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;../img/01.png&quot;</span><span class="token punctuation">;</span>
img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><h3 id="_2-图像与动画" tabindex="-1"><a class="header-anchor" href="#_2-图像与动画" aria-hidden="true">#</a> 2.图像与动画</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;../imgs/02.png&quot;</span><span class="token punctuation">;</span>
  img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      ctx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> i <span class="token operator">*</span> <span class="token number">94</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">94</span><span class="token punctuation">,</span> img<span class="token punctuation">.</span>height<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">94</span><span class="token punctuation">,</span> img<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
      i<span class="token operator">++</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function">setInterval</span><span class="token punctuation">(</span>show<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;../imgs/02.png&quot;</span><span class="token punctuation">;</span>
  img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      ctx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> i <span class="token operator">*</span> <span class="token number">94</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">94</span><span class="token punctuation">,</span> img<span class="token punctuation">.</span>height<span class="token punctuation">,</span> j <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">94</span><span class="token punctuation">,</span> img<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
      i<span class="token operator">++</span><span class="token punctuation">;</span>
      j<span class="token operator">++</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">*</span> <span class="token number">10</span> <span class="token operator">&gt;=</span> canvas<span class="token punctuation">.</span>width<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function">setInterval</span><span class="token punctuation">(</span>show<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><iframe src="/Canvas02.html" width="100%" height="250"></iframe><p><img src="/assets/Canvas39-16d5918e.gif" alt=""></p><h3 id="_3-视频图像" tabindex="-1"><a class="header-anchor" href="#_3-视频图像" aria-hidden="true">#</a> 3.视频图像</h3><ul><li>在视频播放中，抓取当前帧作为图像，引入canvas</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>../img/01.mp4<span class="token punctuation">&quot;</span></span> <span class="token attr-name">controls</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span> <span class="token attr-name">muted</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> video <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;video&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    video<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;play&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ctx.filter = &quot;blur(5px)&quot;;</span>
    <span class="token comment">// ctx.filter = &#39;invert(0.8)&#39;;</span>
    <span class="token comment">// ctx.clip();</span>

    <span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      ctx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>video<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>draw<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/Canvas34-fd4b28cb.png" alt=""></p><h3 id="_4-canvas图像" tabindex="-1"><a class="header-anchor" href="#_4-canvas图像" aria-hidden="true">#</a> 4.Canvas图像</h3><h4 id="_1-canvas引入" tabindex="-1"><a class="header-anchor" href="#_1-canvas引入" aria-hidden="true">#</a> 1）Canvas引入</h4><ul><li>canvas本身也是一个图像</li><li>可以作为图像源，引入另一个canvas画布</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> canvas1<span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  canvas1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas1<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
  canvas1<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas1<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas1<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 同心圆</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">20</span> <span class="token operator">*</span> i<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>canvas1<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/Canvas35-a8499613.png" alt=""></p><h4 id="_2-canvas下载" tabindex="-1"><a class="header-anchor" href="#_2-canvas下载" aria-hidden="true">#</a> 2）Canvas下载</h4><ul><li>右键另存</li><li>编程式下载</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;button&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> url <span class="token operator">=</span> canvas1<span class="token punctuation">.</span><span class="token function">toDataURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> a <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    a<span class="token punctuation">.</span>href <span class="token operator">=</span> url<span class="token punctuation">;</span>
    a<span class="token punctuation">.</span>download <span class="token operator">=</span> <span class="token string">&quot;canvas画布&quot;</span><span class="token punctuation">;</span>
    a<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container info"><p class="hint-container-title">相关信息</p><ul><li><code>toDataURL()</code> 默认生成 <code>png</code> 格式</li><li>可以通过传参指定图片格式 <code>toDataURL(&#39;image/jpeg&#39;)</code></li></ul></div><ul><li>如果canvas中的图像来自于其他路径的图像源（img、video） <ul><li>可能存在同源问题，画布会被污染</li></ul></li><li>解决方案 <ul><li>设置同源策略 <code>img.crossOrigin = &#39;anonymous&#39;;</code></li><li>服务器启动代码，不能使用浏览器直接打开文件</li></ul></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> canvas3<span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas3 <span class="token operator">=</span> canvas<span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  img<span class="token punctuation">.</span>crossOrigin <span class="token operator">=</span> <span class="token string">&quot;anonymous&quot;</span><span class="token punctuation">;</span>
  img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;../imgs/01.png&quot;</span><span class="token punctuation">;</span>
  img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;button&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> url <span class="token operator">=</span> canvas3<span class="token punctuation">.</span><span class="token function">toDataURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> a <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    a<span class="token punctuation">.</span>href <span class="token operator">=</span> url<span class="token punctuation">;</span>
    a<span class="token punctuation">.</span>download <span class="token operator">=</span> <span class="token string">&quot;canvas画布&quot;</span><span class="token punctuation">;</span>
    a<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-图像像素处理" tabindex="-1"><a class="header-anchor" href="#_5-图像像素处理" aria-hidden="true">#</a> 5.图像像素处理</h3><ul><li>JS中提供了ImageData对象</li><li>包含了某一个区域内的像素值 <ul><li>imageData.width：横向有多少个像素</li><li>imageData.height：纵向有多少个像素</li><li>imageData.data：array，包含区域内所有的像素值（rgba值） <ul><li>array 是一个 <mark>一维数组</mark>，每4个位置表示一个像素值</li><li>[r1,g1,b1,a1,r2,g2,b2,a2,r3,g3,b3,a3,...]</li></ul></li></ul></li><li><code>(x, y)</code> 像素的值为 <code>(imageData.width * 4) * y + x * 4 + 0/1/2/3</code><ul><li>imageData.width _ 4 _ y：横向像素总的值 * 多少行</li><li>x * 4：找到 (x, y) 对应的 r, g, b, a 在 data 数组中的位置</li><li>0/1/2/3：找到对应的 r/g/b/a 颜色通道值</li></ul></li></ul><p><img src="/assets/Canvas36-fe527a62.png" alt=""></p><h4 id="_1-ctx-getimagedata-x-y-width-height" tabindex="-1"><a class="header-anchor" href="#_1-ctx-getimagedata-x-y-width-height" aria-hidden="true">#</a> 1）ctx.getImageData(x, y, width, height)</h4><ul><li>获得画布中指定区域的ImageData对象（像素值）</li><li>获得ImageData对象后，就可以通过其获得每一个像素的值，也可以设置每一个像素的值</li><li>设置之后默认不会生效，还需要重新设置画布的ImageData</li></ul><h4 id="_2-ctx-putimagedata-imagedata-x-y" tabindex="-1"><a class="header-anchor" href="#_2-ctx-putimagedata-imagedata-x-y" aria-hidden="true">#</a> 2）ctx.putImageData(imageData, x, y)</h4><ul><li>重新设置画布指定区域的像素值（灰度设置、反色设置等）</li><li><code>(x, y)</code> 是重新设置后图像所在位置，可以设置错位效果</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;../img/01.png&quot;</span><span class="token punctuation">;</span>
  img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> imageData <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">getImageData</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> imageData<span class="token punctuation">.</span>data<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> r <span class="token operator">=</span> imageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> g <span class="token operator">=</span> imageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> b <span class="token operator">=</span> imageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> a <span class="token operator">=</span> imageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

      <span class="token comment">// 灰度</span>
      <span class="token keyword">const</span> avg <span class="token operator">=</span> <span class="token punctuation">(</span>r <span class="token operator">+</span> g <span class="token operator">+</span> b<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">;</span>
      imageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> avg<span class="token punctuation">;</span>
      imageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> avg<span class="token punctuation">;</span>
      imageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> avg<span class="token punctuation">;</span>

      <span class="token comment">// 仅对红色通道设置灰度</span>
      <span class="token comment">// imageData.data[i] = r;</span>
      <span class="token comment">// imageData.data[i + 1] = r;</span>
      <span class="token comment">// imageData.data[i + 2] = r;</span>

      <span class="token comment">// 相反色</span>
      <span class="token comment">// imageData.data[i] = 255 - r;</span>
      <span class="token comment">// imageData.data[i + 1] = 255 - g;</span>
      <span class="token comment">// imageData.data[i + 2] = 255 - b;</span>

      <span class="token comment">// 仅对红绿差距明显的位置，减少红色增加绿色（对应值互换）</span>
      <span class="token comment">// if (r - g &gt; 30) {</span>
      <span class="token comment">//   imageData.data[i] = g;</span>
      <span class="token comment">//   imageData.data[i + 1] = r;</span>
      <span class="token comment">// }</span>
    <span class="token punctuation">}</span>

    ctx<span class="token punctuation">.</span><span class="token function">putImageData</span><span class="token punctuation">(</span>imageData<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/Canvas37-3895889f.png" alt=""></p><div class="hint-container info"><p class="hint-container-title">相关信息</p><ul><li>可以使用外部图像，但要通过ImageData对其进一步处理时，会存在跨域问题</li><li>使用服务器模式启动即可</li><li>如果还是无效，可以设置 <code>img.cross-origin = &quot;anonymous&quot;</code></li></ul></div><h3 id="_6-图像填充" tabindex="-1"><a class="header-anchor" href="#_6-图像填充" aria-hidden="true">#</a> 6.图像填充</h3><ul><li>可以将引入图像作为填充背景、描边背景</li><li>图像源可以有多种：img、canvas、video、......</li></ul><h4 id="_1-ctx-createpattern-imgsource-repetition" tabindex="-1"><a class="header-anchor" href="#_1-ctx-createpattern-imgsource-repetition" aria-hidden="true">#</a> 1）ctx.createPattern(imgSource, repetition)</h4><ul><li>创建一个图案对象，CanvasPattern对象 <ul><li>imgSource：图像源</li><li>repetition：重复机制 <ul><li>repeat</li><li>repeat-x</li><li>repeat-y</li><li>no-repeat</li><li>类型为 <code>String | null</code> ，不能不传（undefined）</li></ul></li></ul></li></ul><h4 id="_2-设置背景" tabindex="-1"><a class="header-anchor" href="#_2-设置背景" aria-hidden="true">#</a> 2）设置背景</h4><ul><li>填充背景：<code>ctx.fillStyle = pattern;</code></li><li>描边背景：<code>ctx.strokeStyle = pattern;</code></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> bgCanvas<span class="token punctuation">;</span>

<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  bgCanvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  bgCanvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>
  bgCanvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>bgCanvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> bgCanvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 绘制一个菱形</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;../img/03.png&quot;</span><span class="token punctuation">;</span>
  img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> pattern <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createPattern</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token string">&quot;repeat&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> pattern2 <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createPattern</span><span class="token punctuation">(</span>bgCanvas<span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> pattern2<span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> pattern<span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">330</span><span class="token punctuation">,</span> <span class="token number">330</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/Canvas38-894ce2d6.png" alt=""></p><div class="hint-container info"><p class="hint-container-title">相关信息</p><ul><li>图案平铺的样式都是基于 <mark>画布坐标系的原点</mark> 开始计算的，不是基于绘制的路径坐标系位置</li><li>所以在横向平铺、纵向平铺和不平铺的情况下，有可能画布中央的图形无法显示完整图形效果（可能有裁剪）</li></ul></div><h2 id="五-图像裁剪" tabindex="-1"><a class="header-anchor" href="#五-图像裁剪" aria-hidden="true">#</a> （五）图像裁剪</h2><h3 id="_1-ctx-clip" tabindex="-1"><a class="header-anchor" href="#_1-ctx-clip" aria-hidden="true">#</a> 1.ctx.clip()</h3><ul><li>将clip前给出的路径设置为裁剪路径</li><li>之后绘制的图形只会在裁剪路径中展示</li><li>对之前绘制的图形没有影响</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;../img/04.png&quot;</span><span class="token punctuation">;</span>
  img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 设置裁剪路径</span>
    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">clip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 裁剪的图形</span>
    ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token number">200</span> <span class="token operator">-</span> img<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">200</span> <span class="token operator">-</span> img<span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/Canvas40-8fe0e23b.png" alt=""></p><h3 id="_2-ctx-clip-rule" tabindex="-1"><a class="header-anchor" href="#_2-ctx-clip-rule" aria-hidden="true">#</a> 2.ctx.clip(rule)</h3><ul><li>nonzero：默认值，非零环绕路径</li><li>evenodd：奇偶环绕路径</li></ul><div class="hint-container info"><p class="hint-container-title">相关信息</p><p>在绘制裁剪路径的时候，有些路径区域可能会被重复绘制（包含、相交）</p></div><h4 id="_1-非零环绕" tabindex="-1"><a class="header-anchor" href="#_1-非零环绕" aria-hidden="true">#</a> 1）非零环绕</h4><ul><li>顺时针绘制经过路径区域，数量 + 1</li><li>逆时针绘制经过路径，数量 - 1</li><li>路径区域最终经过的数量为0，就不裁剪（不可见）</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 顺时针</span>
  ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 逆时针</span>
  ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">clip</span><span class="token punctuation">(</span><span class="token string">&quot;nonzero&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/Canvas41-6344678c.png" alt=""></p><h4 id="_2-奇偶环绕" tabindex="-1"><a class="header-anchor" href="#_2-奇偶环绕" aria-hidden="true">#</a> 2）奇偶环绕</h4><ul><li>不分顺时针和逆时针，只要绘制路径经过区域，数量 + 1</li><li>最终奇数裁剪（可见），偶数不裁剪（不可见）</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 顺时针</span>
  ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 顺时针</span>
  ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">clip</span><span class="token punctuation">(</span><span class="token string">&quot;evenodd&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/Canvas42-a638d522.png" alt=""></p><h2 id="六-图像合成" tabindex="-1"><a class="header-anchor" href="#六-图像合成" aria-hidden="true">#</a> （六）图像合成</h2><ul><li>将前后图形合成一个图形</li><li>使用 <code>ctx.globalCompositeOperation</code> 属性设置合成机制</li><li>需要在前后两个图形 <mark>中间</mark> 设置</li></ul><div class="hint-container info"><p class="hint-container-title">相关信息</p><p>前后图形指的是代码绘制图形的先后顺序</p></div><h3 id="_1-路径-形状-合成" tabindex="-1"><a class="header-anchor" href="#_1-路径-形状-合成" aria-hidden="true">#</a> 1.路径（形状）合成</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 前(原)图形</span>
  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;#f00&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span>globalCompositeOperation <span class="token operator">=</span> <span class="token string">&quot;???&quot;</span><span class="token punctuation">;</span>

  <span class="token comment">// 后(新)图形</span>
  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;#0f0&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-以前面图形为主导" tabindex="-1"><a class="header-anchor" href="#_1-以前面图形为主导" aria-hidden="true">#</a> 1）以前面图形为主导</h4><table><thead><tr><th>属性</th><th>说明</th></tr></thead><tbody><tr><td>source-over</td><td>默认，前后图形都展示，重叠部分展示 <mark>后面</mark> 的图形</td></tr><tr><td>source-in</td><td>只展示后面的图形，展示 <mark>与前面图形重叠</mark> 的部分</td></tr><tr><td>source-out</td><td>只展示后面的图形，展示 <mark>与前面图形不重叠</mark> 的部分</td></tr><tr><td>source-atop</td><td>展示前面的图形，后面的图形只展示 <mark>与前面图形重叠</mark> 的部分</td></tr></tbody></table><p><img src="/assets/Canvas43-ab1f4249.png" alt=""></p><h4 id="_2-以后面图形为主导" tabindex="-1"><a class="header-anchor" href="#_2-以后面图形为主导" aria-hidden="true">#</a> 2）以后面图形为主导</h4><table><thead><tr><th>属性</th><th>说明</th></tr></thead><tbody><tr><td>destination-over</td><td>默认，前后图形都展示，重叠部分展示 <mark>前面</mark> 的图形</td></tr><tr><td>destination-in</td><td>只展示前面的图形，展示 <mark>与后面图形重叠</mark> 的部分</td></tr><tr><td>destination-out</td><td>只展示前面的图形，展示 <mark>与后面图形不重叠</mark> 的部分</td></tr><tr><td>destination-atop</td><td>展示后面的图形，前面的图形只展示 <mark>与后面图形重叠</mark> 的部分</td></tr></tbody></table><p><img src="/assets/Canvas44-1f98a40f.png" alt=""></p><h4 id="_3-以重叠部分为主导" tabindex="-1"><a class="header-anchor" href="#_3-以重叠部分为主导" aria-hidden="true">#</a> 3）以重叠部分为主导</h4><table><thead><tr><th>属性</th><th>说明</th></tr></thead><tbody><tr><td>copy</td><td>后面的图形覆盖前面的图形（前面的图形没了）</td></tr><tr><td>xor</td><td>展示前后两个图形非重叠的部分</td></tr></tbody></table><p><img src="/assets/Canvas45-42d271be.png" alt=""></p><h3 id="_2-颜色合成" tabindex="-1"><a class="header-anchor" href="#_2-颜色合成" aria-hidden="true">#</a> 2.颜色合成</h3><ul><li>关注的是颜色的混合</li><li>图形的形状没有变化</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> img1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  img1<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;../imgs/05.png&quot;</span><span class="token punctuation">;</span>
  img1<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>img1<span class="token punctuation">,</span> <span class="token number">200</span> <span class="token operator">-</span> img1<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">200</span> <span class="token operator">-</span> img1<span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 必须放在img1加载之后，或者img2加载之前，确保页面上有了img1之后才能设置合成机制</span>
    ctx<span class="token punctuation">.</span>globalCompositeOperation <span class="token operator">=</span> <span class="token string">&quot;multiply&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> img2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  img2<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;../imgs/04.png&quot;</span><span class="token punctuation">;</span>
  img2<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>img2<span class="token punctuation">,</span> <span class="token number">200</span> <span class="token operator">-</span> img2<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">200</span> <span class="token operator">-</span> img2<span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>属性</th><th>说明</th></tr></thead><tbody><tr><td>lighter</td><td>重叠部分的颜色相加</td></tr><tr><td>multiply</td><td>整体偏暗，同一个像素的颜色计算后的颜色值<br>越接近白色则显示原色，越接近黑色则显示黑色</td></tr><tr><td>screen</td><td>整体偏亮，同一个像素的颜色计算后的颜色值<br>越接近黑色则显示原色，越接近白色则显示白色</td></tr><tr><td>darken</td><td>整体偏暗，同一个像素的颜色，取暗色的色值（二者取一，无计算）</td></tr><tr><td>lighten</td><td>整体偏亮，同一个像素的颜色，取亮色的色值（二者取一，无计算）</td></tr></tbody></table><p><img src="/assets/Canvas46-9bfdb945.png" alt=""></p><h3 id="_3-刮刮乐效果" tabindex="-1"><a class="header-anchor" href="#_3-刮刮乐效果" aria-hidden="true">#</a> 3.刮刮乐效果</h3><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>IE=edge<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
      <span class="token selector">canvas</span> <span class="token punctuation">{</span>
        <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span>
        <span class="token property">margin-right</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
        <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token selector">img</span> <span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
        <span class="token property">background-color</span><span class="token punctuation">:</span> #fdd<span class="token punctuation">;</span>
        <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
        <span class="token property">line-height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> 66px<span class="token punctuation">;</span>
        <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
        <span class="token property">user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>../imgs/04.png<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
      <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">300</span><span class="token punctuation">;</span>
        canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
        document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;#ccc&quot;</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        ctx<span class="token punctuation">.</span>globalCompositeOperation <span class="token operator">=</span> <span class="token string">&quot;destination-out&quot;</span><span class="token punctuation">;</span>

        ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">&quot;#fff&quot;</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span>lineCap <span class="token operator">=</span> <span class="token string">&quot;round&quot;</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span>lineJoin <span class="token operator">=</span> <span class="token string">&quot;round&quot;</span><span class="token punctuation">;</span>

        canvas<span class="token punctuation">.</span><span class="token function-variable function">onmousedown</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>offsetX<span class="token punctuation">,</span> e<span class="token punctuation">.</span>offsetY<span class="token punctuation">)</span><span class="token punctuation">;</span>

          canvas<span class="token punctuation">.</span><span class="token function-variable function">onmousemove</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>offsetX<span class="token punctuation">,</span> e<span class="token punctuation">.</span>offsetY<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">;</span>

          canvas<span class="token punctuation">.</span>onmouseup <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function-variable function">onmouseout</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            canvas<span class="token punctuation">.</span>onmousemove <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            canvas<span class="token punctuation">.</span>onmouseout <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/Canvas29-7a442198.gif" alt=""></p><h2 id="七-颜色渐变" tabindex="-1"><a class="header-anchor" href="#七-颜色渐变" aria-hidden="true">#</a> （七）颜色渐变</h2><h3 id="_1-线性渐变" tabindex="-1"><a class="header-anchor" href="#_1-线性渐变" aria-hidden="true">#</a> 1.线性渐变</h3><h4 id="_1-ctx-createlineargradient-x0-y0-x1-y1" tabindex="-1"><a class="header-anchor" href="#_1-ctx-createlineargradient-x0-y0-x1-y1" aria-hidden="true">#</a> 1）ctx.createLinearGradient(x0, y0, x1, y1)</h4><ul><li>创建线性渐变对象，CanvasGradient对象</li><li>(x0, y0) 和 (x1, y1) 是两个点</li><li>会按照两点的连线方向渐变（横向、纵向、斜向）</li></ul><div class="hint-container warning"><p class="hint-container-title">注意</p><p>渐变中的两个点是基于坐标系的，需要考虑渐变区域与图形区域的关系</p></div><h4 id="_2-gradient-addcolorstop-percent-color" tabindex="-1"><a class="header-anchor" href="#_2-gradient-addcolorstop-percent-color" aria-hidden="true">#</a> 2）gradient.addColorStop(percent, color)</h4><ul><li>设置渐变过程中每一部分的颜色 <ul><li>填充渐变：<code>ctx.fillStyle = gradient</code></li><li>描边渐变：<code>ctx.strokeStyle = gradient</code></li></ul></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> gradient <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createLinearGradient</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&quot;#f00&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">&quot;#0f0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;#00f&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> gradient<span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> gradient <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createLinearGradient</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&quot;#f00&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">&quot;#0f0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;#00f&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> gradient<span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> gradient <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createLinearGradient</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&quot;#f00&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">&quot;#0f0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;#00f&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> gradient<span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><br><br><br><br><div class="highlight-line"> </div><br><div class="highlight-line"> </div><br><br><br><br><div class="highlight-line"> </div><br><div class="highlight-line"> </div><br><br><br><br><div class="highlight-line"> </div><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container info"><p class="hint-container-title">相关信息</p><ul><li>如果渐变区域与图形区域相同，则显示完整渐变效果</li><li>如果渐变区域比图形区域大，则图形显示对应区域的渐变效果</li><li>如果渐变区域比图形区域小，则图形范围的两侧就是渐变两侧的颜色</li></ul><p><img src="/assets/Canvas47-9767e693.png" alt=""></p></div><h3 id="_2-径向渐变" tabindex="-1"><a class="header-anchor" href="#_2-径向渐变" aria-hidden="true">#</a> 2.径向渐变</h3><h4 id="_1-ctx-createradialgradient-x1-y1-r1-x2-y2-r2" tabindex="-1"><a class="header-anchor" href="#_1-ctx-createradialgradient-x1-y1-r1-x2-y2-r2" aria-hidden="true">#</a> 1）ctx.createRadialGradient(x1, y1, r1, x2, y2, r2)</h4><ul><li>创建径向渐变对象</li><li>x1, y1, r1：表示渐变开始的圆</li><li>x2, y2, r2：表示渐变结束的圆</li></ul><div class="hint-container info"><p class="hint-container-title">相关信息</p><ul><li>一般都是一个大圆，一个小圆才会有效果</li><li>小圆一定要在大圆内，否则会出现意想不到的效果</li><li><mark>小圆以里，大圆以外</mark> 的范围使用渐变两端的颜色</li></ul></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> gradient <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createRadialGradient</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&quot;#f00&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;#ff0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> gradient<span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> gradient <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createRadialGradient</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">49</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&quot;#f00&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;#ff0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> gradient<span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/Canvas48-8aee16ce.png" alt=""></p><h3 id="_3-锥形渐变" tabindex="-1"><a class="header-anchor" href="#_3-锥形渐变" aria-hidden="true">#</a> 3.锥形渐变</h3><h4 id="_1-ctx-createconicgradient-angle-x-y" tabindex="-1"><a class="header-anchor" href="#_1-ctx-createconicgradient-angle-x-y" aria-hidden="true">#</a> 1）ctx.createConicGradient(angle, x, y)</h4><ul><li>创建锥形渐变对象，CanvasGradient对象</li><li>(x, y)：圆心点</li><li>angle：起始角度，默认0°角是三点钟方向 <ul><li><code>angle = 90°</code> 表示从六点钟方向开始旋转</li><li>angle传参时使用的是 <mark>角度对应的弧度值</mark></li></ul></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> gradient <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createConicGradient</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&quot;#f00&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0.25</span><span class="token punctuation">,</span> <span class="token string">&quot;#ff0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">&quot;#0f0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0.75</span><span class="token punctuation">,</span> <span class="token string">&quot;#0ff&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;#00f&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> gradient<span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;#fff&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/Canvas49-f4b0df56.png" alt=""></p><h2 id="八-图形阴影" tabindex="-1"><a class="header-anchor" href="#八-图形阴影" aria-hidden="true">#</a> （八）图形阴影</h2><h3 id="_1-设置模糊程度" tabindex="-1"><a class="header-anchor" href="#_1-设置模糊程度" aria-hidden="true">#</a> 1.设置模糊程度</h3><ul><li>ctx.shadowBlur</li><li>数字越大越模糊</li></ul><h3 id="_2-设置阴影颜色" tabindex="-1"><a class="header-anchor" href="#_2-设置阴影颜色" aria-hidden="true">#</a> 2.设置阴影颜色</h3><ul><li>ctx.shadowColor</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span>shadowColor <span class="token operator">=</span> <span class="token string">&quot;#ff0&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>shadowBlur <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;#f00&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-设置阴影的偏移量" tabindex="-1"><a class="header-anchor" href="#_3-设置阴影的偏移量" aria-hidden="true">#</a> 3.设置阴影的偏移量</h3><ul><li>ctx.shadowOffsetX</li><li>ctx.shadowOffsetY</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span>shadowColor <span class="token operator">=</span> <span class="token string">&quot;#666&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>shadowBlur <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>shadowOffsetX <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>shadowOffsetY <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> gradient <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createRadialGradient</span><span class="token punctuation">(</span><span class="token number">170</span><span class="token punctuation">,</span> <span class="token number">170</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&quot;#d00&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;#800&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> gradient<span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/Canvas50-13ce418a.png" alt=""></p><h2 id="九-滤镜" tabindex="-1"><a class="header-anchor" href="#九-滤镜" aria-hidden="true">#</a> （九）滤镜</h2><ul><li>对像素点的 rgba 值计算后改变像素的视觉效果</li><li>ctx.filter 属性，设置一个或多个滤镜</li></ul><h3 id="_1-设置模糊" tabindex="-1"><a class="header-anchor" href="#_1-设置模糊" aria-hidden="true">#</a> 1.设置模糊</h3><ul><li><code>ctx.filter = &quot;blur(10px)&quot;</code></li><li>值越大，模糊效果越明显</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">300</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">300</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span>filter <span class="token operator">=</span> <span class="token string">&quot;blur(4px)&quot;</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;../imgs/04.png&quot;</span><span class="token punctuation">;</span>
  img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-设置亮度" tabindex="-1"><a class="header-anchor" href="#_2-设置亮度" aria-hidden="true">#</a> 2.设置亮度</h3><ul><li><code>ctx.filter = &quot;brightness(%)&quot;</code></li><li>1不变</li><li><code>&lt;1</code> 变暗</li><li><code>&gt;1</code> 变亮，稍刺眼</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>ctx<span class="token punctuation">.</span>filter <span class="token operator">=</span> <span class="token string">&quot;brightness(1.5)&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_3-设置对比度" tabindex="-1"><a class="header-anchor" href="#_3-设置对比度" aria-hidden="true">#</a> 3.设置对比度</h3><ul><li><code>ctx.filter = &quot;contrast(%)&quot;</code></li><li>1不变</li><li><code>&lt;1</code> 颜色接近</li><li><code>&gt;1</code> 颜色鲜明、更深</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>ctx<span class="token punctuation">.</span>filter <span class="token operator">=</span> <span class="token string">&quot;contrast(1.5)&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_4-设置饱和度" tabindex="-1"><a class="header-anchor" href="#_4-设置饱和度" aria-hidden="true">#</a> 4.设置饱和度</h3><ul><li><code>ctx.filter = &quot;saturate(%)&quot;</code></li><li>1不变</li><li><code>&lt;1</code> 变灰，rgb颜色占比减少</li><li><code>&gt;1</code> 颜色鲜明，占比最多的颜色通道值增加，其他通道减少</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>ctx<span class="token punctuation">.</span>filter <span class="token operator">=</span> <span class="token string">&quot;saturate(1.5)&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_5-设置灰度" tabindex="-1"><a class="header-anchor" href="#_5-设置灰度" aria-hidden="true">#</a> 5.设置灰度</h3><ul><li><code>ctx.filter = &quot;grayscale(%)&quot;</code></li><li>0不变</li><li>1变灰</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>ctx<span class="token punctuation">.</span>filter <span class="token operator">=</span> <span class="token string">&quot;grayscale(1)&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_6-设置怀旧风格" tabindex="-1"><a class="header-anchor" href="#_6-设置怀旧风格" aria-hidden="true">#</a> 6.设置怀旧风格</h3><ul><li><code>ctx.filter = &quot;sepia(1)&quot;</code></li><li>0不变</li><li>1怀旧风格（深褐色）</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>ctx<span class="token punctuation">.</span>filter <span class="token operator">=</span> <span class="token string">&quot;sepia(1)&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_7-设置反色" tabindex="-1"><a class="header-anchor" href="#_7-设置反色" aria-hidden="true">#</a> 7.设置反色</h3><ul><li><code>ctx.filter = &quot;invert(1)&quot;</code></li><li>0不变</li><li>1颜色取反</li><li>0.5灰色</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>ctx<span class="token punctuation">.</span>filter <span class="token operator">=</span> <span class="token string">&quot;invert(1)&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_8-设置阴影" tabindex="-1"><a class="header-anchor" href="#_8-设置阴影" aria-hidden="true">#</a> 8.设置阴影</h3><ul><li><code>ctx.filter = &quot;drop-shadow(x, y, blur, color)&quot;</code></li><li>x, y, blur 都需要带px单位</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>ctx<span class="token punctuation">.</span>filter <span class="token operator">=</span> <span class="token string">&quot;drop-shadow(10px 10px 10px #acf)&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_9-设置色调" tabindex="-1"><a class="header-anchor" href="#_9-设置色调" aria-hidden="true">#</a> 9.设置色调</h3><ul><li><code>ctx.filter = &quot;hue-rotate(180deg)&quot;</code></li><li>各像素点的色值在色盘上旋转给定角度后，形成新的色值</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>ctx<span class="token punctuation">.</span>filter <span class="token operator">=</span> <span class="token string">&quot;hue-rotate(180deg)&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_10-使用多个滤镜" tabindex="-1"><a class="header-anchor" href="#_10-使用多个滤镜" aria-hidden="true">#</a> 10.使用多个滤镜</h3><ul><li><code>ctx.filter = &quot;hue-rotate(180deg) contrast(0.5)&quot;</code></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>ctx<span class="token punctuation">.</span>filter <span class="token operator">=</span> <span class="token string">&quot;hue-rotate(180deg) contrast(1.5)&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/assets/Canvas51-9af5cc92.png" alt=""></p><h3 id="_11-引用svg滤镜" tabindex="-1"><a class="header-anchor" href="#_11-引用svg滤镜" aria-hidden="true">#</a> 11.引用svg滤镜</h3><ul><li><code>ctx.filter = &quot;url(svgFilterID)&quot;</code></li></ul><h2 id="十-图像变换" tabindex="-1"><a class="header-anchor" href="#十-图像变换" aria-hidden="true">#</a> （十）图像变换</h2><ul><li>对图形进行移动、旋转、放缩、矩阵斜切</li></ul><h3 id="_1-图形移动" tabindex="-1"><a class="header-anchor" href="#_1-图形移动" aria-hidden="true">#</a> 1.图形移动</h3><ul><li>移动不是动画，只是视觉位置上的变化</li></ul><h4 id="_1-实现图形位置的移动" tabindex="-1"><a class="header-anchor" href="#_1-实现图形位置的移动" aria-hidden="true">#</a> 1）实现图形位置的移动</h4><ul><li>ctx.translate(x, y)</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/Canvas52-d65de6a6.png" alt=""></p><h4 id="_2-原理-1" tabindex="-1"><a class="header-anchor" href="#_2-原理-1" aria-hidden="true">#</a> 2）原理</h4><ul><li>实际移动的并不是指定的图形，而是坐标系</li><li>对于之前已经绘制过的图形没有影响</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 基于原坐标系绘制的图形</span>
  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 绘制坐标系</span>
  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">400</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">400</span><span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 新坐标系中绘制图形</span>
  ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/Canvas53-48a8b85c.png" alt=""></p><h3 id="_2-图形放缩" tabindex="-1"><a class="header-anchor" href="#_2-图形放缩" aria-hidden="true">#</a> 2.图形放缩</h3><ul><li>本质是对坐标系横纵坐标的放缩</li><li>原来长度是多少像素，放缩后还是多少像素，只是视觉效果变化了</li></ul><h4 id="_1-ctx-scale-xratio-yratio" tabindex="-1"><a class="header-anchor" href="#_1-ctx-scale-xratio-yratio" aria-hidden="true">#</a> 1）ctx.scale(xRatio, yRatio)</h4><ul><li>设置横纵坐标的放缩比例</li><li><code>0 &lt; ratio &lt; 1</code> 缩小</li><li><code>1 &lt; ratio</code> 放大</li><li>负数时，对应坐标轴的方向反转</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 横轴坐标放大2倍</span>
ctx<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 纵轴反转 =&gt; 构建数学坐标系</span>
ctx<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/Canvas54-a107b657.png" alt=""></p><h3 id="_3-图像旋转" tabindex="-1"><a class="header-anchor" href="#_3-图像旋转" aria-hidden="true">#</a> 3.图像旋转</h3><h4 id="_1-ctx-rotate-angle" tabindex="-1"><a class="header-anchor" href="#_1-ctx-rotate-angle" aria-hidden="true">#</a> 1）ctx.rotate(angle)</h4><ul><li>设置顺时针旋转的角度</li><li>旋转的还是坐标系，不是图形</li></ul><div class="hint-container warning"><p class="hint-container-title">注意</p><ul><li>逻辑上传递的是角度，语法上要求传递是 <mark>弧度</mark></li><li><code>弧度 = 角度 * Math.PI / 180</code></li><li>移动与旋转的设置顺序不同，最终的效果也不相同</li></ul></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">&quot;#f00&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">setLineDash</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 变化坐标系</span>
  ctx<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">125</span><span class="token punctuation">,</span> <span class="token number">125</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">45</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 坐标系中绘制图形</span>
  ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="data:image/png;base64,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" alt=""></p><h3 id="_4-矩阵变换" tabindex="-1"><a class="header-anchor" href="#_4-矩阵变换" aria-hidden="true">#</a> 4.矩阵变换</h3><ul><li>Canvas没有提供斜切方法，可以利用矩阵变换来实现</li><li>矩阵变换可以实现所有的图形变换（平移、放缩、旋转、斜切）</li></ul><h4 id="_1-矩阵变换机制" tabindex="-1"><a class="header-anchor" href="#_1-矩阵变换机制" aria-hidden="true">#</a> 1）矩阵变换机制</h4><ul><li>所谓的变换就是将原坐标按照一定的变换公式（逻辑）变换成一个新坐标 <ul><li><code>(x, y) -&gt; 矩阵 -&gt; (x&#39;, y&#39;)</code></li></ul></li><li>使用 <mark>齐次坐标系</mark> 来进行矩阵变换，可以简化平移计算</li><li>传递转换矩阵，实现图形变换 <ul><li>必须是三行三列的矩阵</li><li><code>ctx.transform(a, b, c, d, e, f)</code></li></ul></li></ul><div class="language-txt line-numbers-mode" data-ext="txt"><pre class="language-txt"><code>|x|	  |a c e|		|x&#39;|
|y|	* |b d f|	=	|y&#39;|
|1|	  |0 0 1|		|1 |

x&#39; = x * a + y * c + 1 * e
y&#39; = x * b + y * d + 1 * f
1 =  x * 0 + y * 0 + 1 * 1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-矩阵移动" tabindex="-1"><a class="header-anchor" href="#_2-矩阵移动" aria-hidden="true">#</a> 2）矩阵移动</h4><ul><li>在原有 (x, y) 的基础上，移动指定的数值</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * 横纵各移动100
 * 1 0 100
 * 0 1 100
 * 0 0 1
 */</span>
ctx<span class="token punctuation">.</span><span class="token function">transform</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZgAAAGaCAYAAAAy81VeAAAM6klEQVR4nO3dX2gd5nnH8edIVo+crNmgbi+Si6VsF/LY8Ba1S7LAFDzoCHND2yUudXD+LBlh68VgC6zYhDhdESsLXdnKyKCU0cIuvD+Y4btBSS5WUsohmJahixm2+xRidYls7PjsorMbK5YsHeknva/8+VzpzyvptW++PDrnORqMx+NxAcA2m9rtCwCwNwkMABECA0DEvrU+MRqNdvIeAOwxawamqmp+fn6n7sEqp06duuH9119/vaqqFhYW1j0H0ILRaLR+YNg9q8Nx7X1BAXrhMZgJrHzj1bp0+l9qfOnSbl8FoFkCM4GZT9xX7/zZl+rCAwu18rW/qatvvbXbVwJojsBMYN/9n6zpX/6luvrWj2vlr/+23v7N3653/vTP673/XNrtqwE0Q2AmMRjU8Pixn71/+XJd+qd/rQu/++n6yeeP1+V//27V1au7dz+ABgjMhIaPfaYG+/d/4OOXv/dG/eQPnq8LC5+qi//wnRq/8+4u3A5g9038LLLL33ujVr7y1brywx9t5332jPf++3/q3Re/XCt/9fUaHjtas08fr6l77t7tawHsmIknGHHZmPHycl189Zv19kOH63//+E/qyujN3b4SwI6wB7OjBlWDwYZOrrVoudZ+DEBrJp5g9r/4pdr3a7+6nXfZkwZ33VWzf/SH9Qv/8d36ub/7eu2779d3+0oAO2Kw1t+DGY1GXipmHePl5Xp7/qEaX7x4089Pf/zeGj77VA0f+1wN7rxjyz/PJj/QEy8VswWX/vnMTeMy89CDNfvcMzVzeKFqypP0gNuXwExiPK5L3/nHn70/M1PDzz5as889XdMH53bvXgANEZgJXPn+D+q9/zpfUwc+UsMnn6jh8S/U1IEDu30tgKYIzASujN6sO7/21frQo79Xg+Fwt68D0CSBmcDsF5/f7SsANM+j0ABECAwAEVt+LbKqny5dzjx4/7ZdCpv8QP+2/FpkV374o1r5i7/czjsBsAdMPMG8/4Uuvejl9ltrUjGxAL3wGAwAEQIDQITAABAhMABECAwAEQIDQITAABDhxS4bZZMf6J0JBoAIE0yjbPIDvTPBABAhMABECAwAEQIDQITAABAhMABECAwAEfZgGmWTH+idCQaACBNMo2zyA70zwQAQITAARAgMABECA0CEwAAQITAARAgMABH2YBplkx/onQkGgAgTTKNs8gO9M8EAECEwAEQIDAARAgNAhMAAECEwAEQIDAAR9mAaZZMf6J0JBoAIE0yjbPIDvTPBABAhMABECAwAEQIDQITAABAhMABECAwAEfZgGmWTH+idCQaACBNMo2zyA70zwQAQITAARAgMABECA0CEwAAQITAARAgMABEb2oNZ+carNfOJ+2rf/Z+sGgzWPzwe15Xv/6CujN6s2S8+vx13vC3Z5Ad6t6EJZupjH63lx5+oC4cfqYvf+naNl5c/cGa8vFwXv/XtunD4kVp+/IkafOyj235ZAPoxGI/H45t9YjQa1fz8fFVVjS9dqgsPLNTVt3780y/av7/GKys3fqPZ2RpfvFhVVVMHPlI//8brNRgOk3e/rdjkB3oyGo02NsEMhsMaHj92/f3Vcamq63Gpqho++YS4ANzmNvwg//DJY1UzM7c+ODNTw+Nf2MqdANgDNhyYqQMHaviZT9/y3PCzj9bUgQNbuhQA/dvU05Rnn3tmA2eenvgyAOwdmwrM9K/M1cxvPbDm52ceerCmD85t+VIA9G/Ti5brTTEbmXAAuD1sOjAzv/NwTd/7ix/4+PTH762ZwwvbcikA+rf5v2g5NVXDZ5+qd1/88g0fHj77VNWUV57ZLjb5gd5NVITh479fgw9/+Pr7g7vuquFjn9u2SwHQv81PMFU1uPOOGh77fF38+29WVdXw2NEa3HnHtl7sdrfWpGJiAXox8e+0Zp85XjU9XTU9XbNPH9/OOwGwB0w0wVRVTd1zd33okU9VDQY1dc/d23knAPaAiQNT9f9PS77Vy/ezJYuLi3X69Ok6d+5cVVWdOXOmjh49WidOnNjlmwGsb91fkd3q9/375n+jvvJvZzb0uMCpU6ec28S58+fP18GDB+vkyZPX41JVde7cuTp58mQdPHiwzp8/v2v3c84555xb71yVv2jZrCNHjtTS0tKan19aWqojR47s4I0ANkdgGrS4uLhuXK5ZWlqqxcXFHbgRwOYJTINOnz4dOQuwk9b9i5YvvPBCLSys//Iv1zbMH3744br2rQaDwQfevnbu2ve72Zn3f7+FhYUbPr7Wz13vfoPBoF577bUdud/qt6/93NX3W+vc++/38ssvr/lvupmXXnrp+tsb+X9xzjnnnEufe+WVV7Zvgnl/CNZ6eyPn1zqTutN23W8j5yf9GoAerfs05YWFhVs+Y2CjG+bObfzcmTNnbnjm2HoOHTp0w9e29O9wzjnnbu9zHoNp0NGjRyNnAXaSwDToxIkTNTd36z/cNjc3Z+ESaJbANOrs2bPrRmZubq7Onj27gzcC2Jx1n0U2Pz+/0/dhldUvFXPo0CEvFQM0bzQaCUwvNvrgGkALRqORX5EBkCEwAERs6eX6yVn9q7BrG7SrP+5XZkCrTDAARJhgGrXWpGJiAXphggEgQmAAiBAYACIEBoAIgQEgQmAAiBAYACLswTTKJj/QOxMMABEmmEbZ5Ad6Z4IBIEJgAIgQGAAiBAaACIEBIEJgAIgQGAAi7ME0yiY/0DsTDAARJphG2eQHemeCASBCYACIEBgAIgQGgAiBASBCYACIEBgAIuzBNMomP9A7EwwAESaYRtnkB3pnggEgQmAAiBAYACIEBoAIgQEgQmAAiBAYACLswTTKJj/QOxMMABEmmEbZ5Ad6Z4IBIEJgAIgQGAAiBAaACIEBIEJgAIgQGAAi7ME0yiY/0DsTDAARJphG2eQHemeCASBCYACIEBgAIgQGgAiBASBCYACIEBgAIuzBNMomP9A7EwwAESaYRtnkB3pnggEgQmAAiBAYACIEBoAIgQEgQmAAiBAYACLswTTKJj/QOxMMABEmmEbZ5Ad6Z4IBIEJgAIgQGAAiBAaACIEBIEJgAIgQGAAi7ME0yiY/0DsTDAARJphG2eQHemeCASBCYACIEBgAIgQGgAiBASBCYACIEBgAIuzBNMomP9A7EwwAESaYRtnkB3pnggEgQmAAiBAYACIEBoAIgQEgQmAAiBAYACLswTTKJj/QOxMMABEmmEbZ5Ad6Z4IBIEJgAIgQGAAiBAaACIEBIEJgAIgQGAAi7ME0yiY/0DsTDAARJphG2eQHemeCASBCYACIEBgAIgQGgAiBASBCYACIEBgAIuzBNMomP9A7EwwAESaYRtnkB3pnggEgQmAAiBAYACIEBoAIgQEgQmAAiBAYACLswTTKJj/QOxMMABEmmEbZ5Ad6Z4IBIEJgAIgQGAAiBAaACIEBIEJgAIgQGAAi7ME0yiY/0DsTDAARJphG2eQHemeCASBCYACIEBgAIgQGgAiBASBCYACIEBgAIuzBNMomP9A7EwwAESaYRtnkB3pnggEgQmAAiBAYACIEBoAIgQEgQmAAiBAYACLswTTKJj/QOxMMABEmmEbZ5Ad6Z4IBIEJgAIgQGAAiBAaACIEBIEJgAIgQGAAi7ME0yiY/0DsTDAARJphG2eQHemeCASBCYACIEBgAIgQGgAiBASBCYACIEBgAIuzBNMomP9A7EwwAESaYRtnkB3pnggEgQmAAiBAYACIEBoAIgQEgQmAAiBAYACLswTTKJj/QOxMMABEmmEbZ5Ad6Z4IBIEJgAIgQGAAiBAaACIEBIEJgAIgQGAAi7ME0yiY/0DsTDAARJphG2eQHemeCASBCYACIEBgAIgQGgAiBASBCYACIEBgAIuzBNMomP9A7EwwAESaYRtnkB3pnggEgQmAAiBAYACIEBoAIgQEgQmAAiBAYACLswTTKJj/QOxMMABEmmEbZ5Ad6Z4IBIEJgAIgQGAAiBAaACIEBIEJgAIgQGAAi7ME0yiY/0DsTDAARJphG2eQHemeCASBCYACIEBgAIgQGgAiBASBCYACIEBgAIuzBNMomP9A7EwwAESaYRtnkB3pnggEgQmAAiBAYACIEBoAIgQEgQmAAiBAYACLswTTKJj/QOxMMABEmmEbZ5Ad6Z4IBIEJgAIgQGAAiBAaACIEBIEJgAIgQGAAi7ME0yiY/0DsTDAARJphG2eQHemeCASBCYACIEBgAIgQGgAiBASBCYACIEBgAIuzBNMomP9A7EwwAESaYRtnkB3pnggEgQmAAiBAYACIEBoAIgQEgQmAAiBAYACLswTTKJj/QOxMMABEmmEbZ5Ad6Z4IBIEJgAIgQGAAiBAaACIEBIEJgAIgQGAAi7ME0yiY/0LvBeDwe3+wTo9Fop+8CwB6yZmAAYCs8BgNAhMAAECEwAET8H9Sg6A8f4CqyAAAAAElFTkSuQmCC" alt=""></p><h4 id="_3-矩阵放缩" tabindex="-1"><a class="header-anchor" href="#_3-矩阵放缩" aria-hidden="true">#</a> 3）矩阵放缩</h4><ul><li>在原有 (x, y) 的基础上，乘上指定的倍率</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * 横向放大至2，纵向缩小至0.5
 * 2 0   0
 * 0 0.5 0
 * 0 0   1
 */</span>
ctx<span class="token punctuation">.</span><span class="token function">transform</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/Canvas57-854b5745.png" alt=""></p><h4 id="_4-矩阵斜切" tabindex="-1"><a class="header-anchor" href="#_4-矩阵斜切" aria-hidden="true">#</a> 4）矩阵斜切</h4><ul><li>延x轴或y轴拉扯，使得与x轴或y轴形成一个夹角 <ul><li>延x轴斜切，会产生与y轴的夹角，最终x位置发生变化</li><li>延y轴斜切，会产生与x轴的夹角，最终y位置发生变化</li></ul></li></ul><p><img src="/assets/Canvas58-8bead33f.png" alt=""></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * 实现skewX(30°)
 * 1	tan(30°)  0
 * 0  1		      0
 * 0  0         1
 */</span>
ctx<span class="token punctuation">.</span><span class="token function">transform</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token function">tan</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">30</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/Canvas59-ad9a6365.png" alt=""></p><h4 id="_5-矩阵旋转" tabindex="-1"><a class="header-anchor" href="#_5-矩阵旋转" aria-hidden="true">#</a> 5）矩阵旋转</h4><ul><li>旋转会发生角度的变化</li><li>旋转都是基于 <mark>x轴正方向，顺时针旋转</mark></li><li>旋转角度是基于 <mark>原位置</mark> 的旋转角度，而不是基于x轴的旋转角度，所以还要考虑原位置与x轴夹角</li></ul><p><img src="/assets/Canvas60-5009cefc.png" alt=""></p><div class="hint-container info"><p class="hint-container-title">和角公式</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>sin(a+b) = sin(a) * cos(b) + cos(a) * sin(b)
cos(a+b) = cos(a) * cos(b) - sin(a) * sin(b)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * 旋转45°
 * cos(30°)   -sin(30°)   0
 * sin(30°)   cos(30°)    0
 * 0          0           1
 */</span>
ctx<span class="token punctuation">.</span><span class="token function">transform</span><span class="token punctuation">(</span>
  Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">45</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">45</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// a b</span>
  <span class="token operator">-</span>Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">45</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">45</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// c d</span>
  <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// e f</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/Canvas61-55428e58.png" alt=""></p><h2 id="十一-状态存储与重置" tabindex="-1"><a class="header-anchor" href="#十一-状态存储与重置" aria-hidden="true">#</a> （十一）状态存储与重置</h2><h3 id="_1-绘制状态-上下文" tabindex="-1"><a class="header-anchor" href="#_1-绘制状态-上下文" aria-hidden="true">#</a> 1.绘制状态/上下文</h3><ul><li>描边样式，填充样式</li><li>线条样式</li><li>文本样式</li><li>裁剪</li><li>合成</li><li>图像变换</li></ul><h3 id="_2-存储" tabindex="-1"><a class="header-anchor" href="#_2-存储" aria-hidden="true">#</a> 2.存储</h3><ul><li>每次调用会将之前设置的状态存储起来（存入栈中）</li><li>可以调用多次，将多个状态按照顺序 <mark>存入栈中</mark></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_3-重置" tabindex="-1"><a class="header-anchor" href="#_3-重置" aria-hidden="true">#</a> 3.重置</h3><ul><li>每次调用会重置状态</li><li>将当前状态 <mark>从栈中移除</mark>（删除），恢复到上一次的状态</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>ctx<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">注意</p><ul><li>save 和 restore 不是必须的</li><li>可以手动按照逻辑，恢复上一次的状态</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 填充一个绿色的矩形</span>
  ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;#0f0&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 填充一个蓝色的圆</span>
  ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;#00f&quot;</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 填充一个绿色的矩形</span>
  <span class="token comment">// ctx.fillStyle = &#39;#0f0&#39;; // 逻辑上恢复状态</span>
  ctx<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 通过restore方法恢复状态，移除蓝色圆save的状态，剩余绿色矩形save的状态</span>
  ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/Canvas62-95243235.png" alt=""></p></div><h2 id="十二-实战案例" tabindex="-1"><a class="header-anchor" href="#十二-实战案例" aria-hidden="true">#</a> （十二）实战案例</h2><h3 id="_1-动态时钟" tabindex="-1"><a class="header-anchor" href="#_1-动态时钟" aria-hidden="true">#</a> 1.动态时钟</h3><ul><li>表盘</li><li>刻度（大刻度、小刻度）</li><li>表针（时针、分针、秒针） <ul><li>表针需要不停的变动</li></ul></li><li>动画绘制</li><li>表针角度</li></ul><h3 id="_2-粒子烟花" tabindex="-1"><a class="header-anchor" href="#_2-粒子烟花" aria-hidden="true">#</a> 2.粒子烟花</h3><h4 id="_1-烟花升空" tabindex="-1"><a class="header-anchor" href="#_1-烟花升空" aria-hidden="true">#</a> 1）烟花升空</h4><ul><li>由多个小球组成一个烟花升空拖尾的效果</li><li>每一个小球的半径依次减小</li><li>每一个小球的透明度依次变化，上升过程中，透明度整体还会变化 <ul><li>第一瞬间10个小球的透明度分别是：1、0.99、0.98、......</li><li>第二瞬间10个小球的透明度分别是：0.5、0.49、0.48、......</li></ul></li></ul><h4 id="_2-烟花爆炸" tabindex="-1"><a class="header-anchor" href="#_2-烟花爆炸" aria-hidden="true">#</a> 2）烟花爆炸</h4><ul><li>烟花主体消失</li><li>绘制一组小颗粒</li><li>沿着圆弧扩散</li></ul><div class="hint-container info"><p class="hint-container-title">相关信息</p><ul><li>有的烟花处于升空状态，有的烟花处于爆炸状态，两个效果可以同时进行</li><li>所以需要每一次都重新绘制</li><li>涉及对象 <ul><li>烟花对象</li><li>小球对象，组成烟花主体</li><li>粒子对象，爆炸中的例子</li></ul></li></ul></div><ul><li>从升空到爆炸 <ul><li>每隔一段时间，升空一个烟花</li><li>当屏幕中达到3个烟花时，最开始烟花就可以爆炸了</li></ul></li><li>爆炸的时候，烟花主体消失（不再绘制）</li><li>绘制爆炸后产生的粒子（400, 500），每次重新绘制的时候，改变其位置</li></ul><h3 id="_3-贪吃蛇" tabindex="-1"><a class="header-anchor" href="#_3-贪吃蛇" aria-hidden="true">#</a> 3.贪吃蛇</h3><h4 id="_1-组成部分" tabindex="-1"><a class="header-anchor" href="#_1-组成部分" aria-hidden="true">#</a> 1）组成部分</h4><ul><li>棋盘</li><li>蛇（蛇头 + 身体）</li><li>食物</li></ul><h4 id="_2-提供2个画布" tabindex="-1"><a class="header-anchor" href="#_2-提供2个画布" aria-hidden="true">#</a> 2）提供2个画布</h4><ul><li>一个绘制棋牌（静态）</li><li>一个绘制蛇 + 食物（动态）</li></ul><h4 id="_3-绘制蛇" tabindex="-1"><a class="header-anchor" href="#_3-绘制蛇" aria-hidden="true">#</a> 3）绘制蛇</h4><ul><li>将蛇设计成一个对象</li><li>设计一个矩形对象，表示蛇的组成，表示食物</li></ul><h4 id="_4-蛇-头-的移动" tabindex="-1"><a class="header-anchor" href="#_4-蛇-头-的移动" aria-hidden="true">#</a> 4）蛇（头）的移动</h4><ul><li>注意方向</li><li>每绘制一个新位置，要将原来位置的图形删除掉</li></ul><h4 id="_5-生成食物" tabindex="-1"><a class="header-anchor" href="#_5-生成食物" aria-hidden="true">#</a> 5）生成食物</h4><ul><li>随机绘制一个矩形</li><li>确保在一个空白的位置（没有蛇的位置）</li><li>设计 <ul><li>定义一个对象 <ul><li>key表示每一个格子的坐标</li><li>value表示格子的占用状态，0空闲，1占用</li></ul></li><li>每次绘制矩形的时候，将其格子设置为1，清除矩形的时候，将其格子设置为0</li><li>生成食物时，随机一个格子位置，判断其状态，1就重新随机，0绘制食物</li></ul></li></ul><h4 id="_6-吃食物-身体变化-身体移动" tabindex="-1"><a class="header-anchor" href="#_6-吃食物-身体变化-身体移动" aria-hidden="true">#</a> 6）吃食物&amp;身体变化&amp;身体移动</h4><ul><li>当蛇头坐标与食物坐标相撞时，表示吃到食物</li><li>吃到食物后，蛇的身体会边长，视觉效果上看就是后面身体的部分都没有变化，只有原来蛇头的位置加了一块身体，所以只需要在body的头部增加一个矩形，并绘制即可</li><li>没有吃到食物，当蛇移动时，视觉效果上，最后一个位置的身体部分消失，在原来蛇头的位置增加了新的身体部分，其余部分没有变化，所以只需要将最后一个矩形移动到body的最前面并绘制即可</li></ul><h3 id="_4-画图板" tabindex="-1"><a class="header-anchor" href="#_4-画图板" aria-hidden="true">#</a> 4.画图板</h3><h4 id="_1-线条绘制" tabindex="-1"><a class="header-anchor" href="#_1-线条绘制" aria-hidden="true">#</a> 1）线条绘制</h4><ul><li>多个点的连线</li><li>鼠标按下是起始点</li><li>鼠标移动，产生过程点</li><li>鼠标抬起，绘制结束</li></ul><h4 id="_2-矩形绘制" tabindex="-1"><a class="header-anchor" href="#_2-矩形绘制" aria-hidden="true">#</a> 2）矩形绘制</h4><ul><li>起始点， 宽高</li><li>鼠标按下，获得起始点</li><li>鼠标移动，产生过程点</li><li>通过两点，可以计算宽高</li><li>矩形在绘制过程中，没有抬起鼠标，则还处于选择阶段，矩形没有确定，有一个拖拽的视觉效果</li><li>实际上是一个不断绘制的过程，此时存在一个问题 <ul><li>由于矩形会与其他图形产生覆盖，如果删除之前绘制的矩形，也会将之前图形覆盖的部分也删除</li><li>为了提高性能，考虑使用2个画布</li><li>在第一个画布中，绘制当前的这一个图形，提起鼠标后，图形确定，再将其绘制到第二个画布上</li></ul></li></ul><h4 id="_3-圆形绘制" tabindex="-1"><a class="header-anchor" href="#_3-圆形绘制" aria-hidden="true">#</a> 3）圆形绘制</h4><ul><li>圆心点，半径</li><li>鼠标按下，获得起始点</li><li>鼠标移动，产生过程点</li><li>起始点和过程点，计算半径和圆心点</li><li>可能是正圆，也可能是椭圆</li><li>圆的拖拽绘制与矩形相同</li></ul><h4 id="_4-填充" tabindex="-1"><a class="header-anchor" href="#_4-填充" aria-hidden="true">#</a> 4）填充</h4><ul><li>不是对某一个图形进行填充，而是对一块合围区域填充</li><li>合围区域可能是有多个图形部分合围而成</li><li>难点：如何确定这个合围区域？ <ul><li>可以通过像素操作来实现</li><li>以触发填充操作的那个点为基准，获得那个点的rgba值</li><li>然后向四周分散，一次找到四周所有的点，与这个rgba比较 <ul><li>完全相等，就实现颜色的变化，继续向四周扩散</li><li>不相等，说明已经到了一个边界，就不继续发散了</li></ul></li></ul></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 递归（范围有限）</span>
<span class="token comment">// 改变当前点的颜色</span>
<span class="token keyword">function</span> <span class="token function">change</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 获得要改变这个点的原始颜色 (如何根据坐标点，获得其imageData中的显色位置)</span>
  <span class="token keyword">const</span> i <span class="token operator">=</span> <span class="token function">point2Index</span><span class="token punctuation">(</span>imageData<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 判断这个原始颜色和基准颜色是否相同，相同就改，不相同就结束了</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>
    baseImageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> imageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span>
    baseImageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> imageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span>
    baseImageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">==</span> imageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span>
    baseImageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">==</span> imageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">]</span>
  <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 相等，这个位置颜色可以改变</span>
    imageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">255</span><span class="token punctuation">;</span>
    imageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    imageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    imageData<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">255</span><span class="token punctuation">;</span>

    <span class="token comment">// 继续发散，再检查其四周</span>
    <span class="token function">change</span><span class="token punctuation">(</span>x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">change</span><span class="token punctuation">(</span>x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">change</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">change</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// 不相等，到达边界</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">change</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-橡皮擦" tabindex="-1"><a class="header-anchor" href="#_5-橡皮擦" aria-hidden="true">#</a> 5）橡皮擦</h4><ul><li>与刮刮乐实现过程相似</li><li>本质还是画线条</li><li>只不过与原图形的合成关系发生了变化</li></ul><h4 id="_6-综上分析" tabindex="-1"><a class="header-anchor" href="#_6-综上分析" aria-hidden="true">#</a> 6）综上分析</h4><ul><li>目前需要2个画布 <ul><li>一个体现绘制过程</li><li>一个用来展示绘制结果</li></ul></li><li>需要图形对象 <ul><li>包括多种类型（线条、矩形、圆形、橡皮擦）</li></ul></li></ul></div><!----><footer class="page-meta"><!----><div class="meta-item git-info"><div class="update-time"><span class="label">上次编辑于: </span><!----></div><!----></div></footer><nav class="page-nav"><a href="/notes/DuYi/01Basic/14.html" class="nav-link prev" aria-label="十四、HTML5 详细版"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><!---->十四、HTML5 详细版</div></a><a href="/notes/DuYi/01Basic/001.html" class="nav-link next" aria-label="【待定】、CSS3 详细版"><div class="hint">下一页<span class="arrow end"></span></div><div class="link">【待定】、CSS3 详细版<!----></div></a></nav><div class="giscus-wrapper input-top" id="comment" style="display:block;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">MIT Licensed | Copyright © 2022-present <a href="/aboutMe">郁子IKUKO</a></div><!----></footer></div><!--]--><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app-2b833c71.js" defer></script>
  </body>
</html>

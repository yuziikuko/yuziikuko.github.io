import{_ as n}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as s,c as a,e as t}from"./app.ee48b614.js";const p={},e=t(`<h2 id="_1-computed-\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#_1-computed-\u51FD\u6570" aria-hidden="true">#</a> 1.computed \u51FD\u6570</h2><ul><li><p>\u4E0E Vue2.x \u4E2D computed \u914D\u7F6E\u529F\u80FD\u4E00\u81F4\u3002</p></li><li><p>\u5199\u6CD5\uFF1A</p></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>
<span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>

  <span class="token comment">// \u8BA1\u7B97\u5C5E\u6027\u2014\u2014\u7B80\u5199\u3010\u6CA1\u6709\u8003\u8651\u8BA1\u7B97\u5C5E\u6027\u88AB\u4FEE\u6539\u7684\u60C5\u51B5\u3011</span>
  person<span class="token punctuation">.</span>fullName <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> person<span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token string">&quot;-&quot;</span> <span class="token operator">+</span> person<span class="token punctuation">.</span>lastName<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// \u8BA1\u7B97\u5C5E\u6027\u2014\u2014\u5B8C\u6574\u5199\u6CD5\u3010\u8003\u8651\u8BA1\u7B97\u5C5E\u6027\u8BFB\u548C\u5199\u7684\u60C5\u51B5\u3011</span>
  person<span class="token punctuation">.</span>fullName <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> person<span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token string">&quot;-&quot;</span> <span class="token operator">+</span> person<span class="token punctuation">.</span>lastName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> nameArr <span class="token operator">=</span> val<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;-&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      person<span class="token punctuation">.</span>firstName <span class="token operator">=</span> nameArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      person<span class="token punctuation">.</span>lastName <span class="token operator">=</span> nameArr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-watch-\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#_2-watch-\u51FD\u6570" aria-hidden="true">#</a> 2.watch \u51FD\u6570</h2><ul><li><p>\u4E0E Vue2.x \u4E2D watch \u914D\u7F6E\u529F\u80FD\u4E00\u81F4\u3002</p></li><li><p>\u4E24\u4E2A\u5C0F\u201C\u5751\u201D\uFF1A</p><ul><li><p>\u76D1\u89C6 reactive \u5B9A\u4E49\u7684\u54CD\u5E94\u5F0F\u6570\u636E\u65F6\uFF1A</p><ul><li><p>oldValue \u65E0\u6CD5\u6B63\u786E\u83B7\u53D6\u3002</p></li><li><p>\u5F3A\u5236\u5F00\u542F\u4E86\u6DF1\u5EA6\u76D1\u89C6\uFF08deep \u914D\u7F6E\u5931\u6548\uFF09\u3002</p></li></ul></li><li><p>\u76D1\u89C6 reactive \u5B9A\u4E49\u7684\u54CD\u5E94\u5F0F\u6570\u636E\u4E2D\u67D0\u4E2A\u5C5E\u6027\uFF08<strong>\u5BF9\u8C61\u7C7B\u578B</strong>\uFF09\u65F6\uFF1A</p><ul><li>deep \u914D\u7F6E\u6709\u6548\u3002</li></ul></li></ul></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u60C5\u51B5\u4E00\uFF1A\u76D1\u89C6ref\u5B9A\u4E49\u7684\u54CD\u5E94\u5F0F\u6570\u636E</span>
<span class="token function">watch</span><span class="token punctuation">(</span>
  sum<span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span> oldValue</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;sum\u53D8\u4E86&quot;</span><span class="token punctuation">,</span> newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">immediate</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u60C5\u51B5\u4E8C\uFF1A\u76D1\u89C6\u591A\u4E2Aref\u5B9A\u4E49\u7684\u54CD\u5E94\u5F0F\u6570\u636E</span>
<span class="token function">watch</span><span class="token punctuation">(</span>
  <span class="token punctuation">[</span>sum<span class="token punctuation">,</span> msg<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span> oldValue</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;sum\u6216msg\u53D8\u4E86&quot;</span><span class="token punctuation">,</span> newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">immediate</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * \u60C5\u51B5\u4E09\uFF1A\u76D1\u89C6reactive\u5B9A\u4E49\u7684\u54CD\u5E94\u5F0F\u6570\u636E
 * 1.\u82E5watch\u76D1\u89C6\u7684\u662Freactive\u5B9A\u4E49\u7684\u54CD\u5E94\u5F0F\u6570\u636E\uFF0C\u5219\u65E0\u6CD5\u6B63\u786E\u83B7\u5F97oldValue\u3002
 * 2.\u82E5watch\u76D1\u89C6\u7684\u662Freactive\u5B9A\u4E49\u7684\u54CD\u5E94\u5F0F\u6570\u636E\uFF0C\u5219\u5F3A\u5236\u5F00\u542F\u4E86\u6DF1\u5EA6\u76D1\u89C6\u3002
 */</span>
<span class="token function">watch</span><span class="token punctuation">(</span>
  person<span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span> oldValue</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;person\u53D8\u5316\u4E86&quot;</span><span class="token punctuation">,</span> newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">immediate</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">deep</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span> <span class="token comment">// \u6B64\u5904\u7684deep\u914D\u7F6E\u4E0D\u518D\u594F\u6548</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u60C5\u51B5\u56DB\uFF1A\u76D1\u89C6reactive\u5B9A\u4E49\u7684\u54CD\u5E94\u5F0F\u6570\u636E\u4E2D\u7684\u67D0\u4E2A\u5C5E\u6027</span>
<span class="token function">watch</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> person<span class="token punctuation">.</span>age<span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span> oldValue</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;person\u7684age\u53D8\u5316\u4E86&quot;</span><span class="token punctuation">,</span> newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u7279\u6B8A\uFF1A\u8BE5\u5C5E\u6027\u662F\u4E00\u4E2A\u5BF9\u8C61\u7C7B\u578B\uFF0Cdeep\u914D\u7F6E\u6709\u6548\uFF0C\u4E14\u5FC5\u987B\u5F00\u542F\u6DF1\u5EA6\u76D1\u89C6</span>
<span class="token function">watch</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> person<span class="token punctuation">.</span>job<span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span> oldValue</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;person\u7684job\u53D8\u5316\u4E86&quot;</span><span class="token punctuation">,</span> newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">immediate</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">deep</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u60C5\u51B5\u4E94\uFF1A\u76D1\u89C6reactive\u5B9A\u4E49\u7684\u54CD\u5E94\u5F0F\u6570\u636E\u4E2D\u7684\u67D0\u4E9B\u5C5E\u6027</span>
<span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> person<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> person<span class="token punctuation">.</span>age<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span> oldValue</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;person\u7684name\u6216age\u53D8\u5316\u4E86&quot;</span><span class="token punctuation">,</span> newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-watcheffect-\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#_3-watcheffect-\u51FD\u6570" aria-hidden="true">#</a> 3.watchEffect \u51FD\u6570</h2><h3 id="_1-watch-\u7684\u5957\u8DEF" tabindex="-1"><a class="header-anchor" href="#_1-watch-\u7684\u5957\u8DEF" aria-hidden="true">#</a> 1\uFF09watch \u7684\u5957\u8DEF</h3><p>\u65E2\u8981\u6307\u660E\u76D1\u89C6\u7684\u5C5E\u6027\uFF0C\u4E5F\u8981\u6307\u660E\u76D1\u89C6\u7684\u56DE\u8C03\u3002</p><h3 id="_2-watcheffect-\u7684\u5957\u8DEF" tabindex="-1"><a class="header-anchor" href="#_2-watcheffect-\u7684\u5957\u8DEF" aria-hidden="true">#</a> 2\uFF09watchEffect \u7684\u5957\u8DEF</h3><p>\u4E0D\u7528\u6307\u660E\u76D1\u89C6\u54EA\u4E2A\u5C5E\u6027\uFF0C\u76D1\u89C6\u7684\u56DE\u8C03\u4E2D\u7528\u5230\u54EA\u4E2A\u5C5E\u6027\uFF0C\u90A3\u5C31\u76D1\u89C6\u54EA\u4E2A\u5C5E\u6027\u3002</p><h3 id="_3-watcheffect-\u6709\u70B9\u7C7B\u4F3C-computed" tabindex="-1"><a class="header-anchor" href="#_3-watcheffect-\u6709\u70B9\u7C7B\u4F3C-computed" aria-hidden="true">#</a> 3\uFF09watchEffect \u6709\u70B9\u7C7B\u4F3C computed</h3><ul><li><p>\u4F46 computed \u6CE8\u91CD\u7684\u662F\u8BA1\u7B97\u51FA\u6765\u7684\u503C\uFF08\u56DE\u8C03\u51FD\u6570\u7684\u8FD4\u56DE\u503C\uFF09\uFF0C\u6240\u4EE5\u5FC5\u987B\u5199\u8FD4\u56DE\u503C\u3002</p></li><li><p>\u800C watchEffect \u66F4\u6CE8\u91CD\u7684\u662F\u8FC7\u7A0B\uFF08\u56DE\u8C03\u51FD\u6570\u7684\u51FD\u6570\u4F53\uFF09\uFF0C\u6240\u4EE5\u4E0D\u7528\u5199\u8FD4\u56DE\u503C\u3002</p></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// watchEffect\u6240\u6307\u5B9A\u7684\u56DE\u8C03\u4E2D\u7528\u5230\u7684\u6570\u636E\u53EA\u8981\u53D1\u751F\u53D8\u5316\uFF0C\u5219\u76F4\u63A5\u91CD\u65B0\u6267\u884C\u56DE\u8C03\u3002</span>
<span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> x1 <span class="token operator">=</span> sum<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
  <span class="token keyword">const</span> x2 <span class="token operator">=</span> person<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;watchEffect\u914D\u7F6E\u7684\u56DE\u8C03\u6267\u884C\u4E86&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,14),o=[e];function c(l,u){return s(),a("div",null,o)}const k=n(p,[["render",c],["__file","08.html.vue"]]);export{k as default};

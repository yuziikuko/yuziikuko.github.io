import{_ as t}from"./plugin-vue_export-helper-c27b6911.js";import{r as p,o,c as l,a as n,b as s,d as c,e as a}from"./app-f95145fd.js";const i="/assets/JS相关面试题01-54437151.png",u="/assets/JS相关面试题02-4745af0a.png",r="/assets/JS相关面试题03-82994fef.png",d="/assets/JS相关面试题04-991d11e4.png",k="/assets/JS相关面试题05-f63bd4a9.png",v="/assets/JS相关面试题06-887b6813.png",m="/assets/JS相关面试题07-b8fb23a8.png",b={},h=a(`<h2 id="一-let、var、const-的区别" tabindex="-1"><a class="header-anchor" href="#一-let、var、const-的区别" aria-hidden="true">#</a> （一）let、var、const 的区别</h2><h3 id="_1-经典真题" tabindex="-1"><a class="header-anchor" href="#_1-经典真题" aria-hidden="true">#</a> 1.经典真题</h3><ul><li>let const var 的区别？什么是块级作用域？如何用？</li></ul><h3 id="_2-声明变量关键字汇总" tabindex="-1"><a class="header-anchor" href="#_2-声明变量关键字汇总" aria-hidden="true">#</a> 2.声明变量关键字汇总</h3><ul><li>在 JavaScript 中，一共存在 3 种声明变量的方式 <ul><li>var</li><li>let</li><li>const</li></ul></li><li>这是历史原因造成的 <ul><li>最初声明变量的关键字就是 var</li><li>但是为了解决作用域的问题，新增了 let 和 const 的方式</li></ul></li></ul><h3 id="_3-作用域" tabindex="-1"><a class="header-anchor" href="#_3-作用域" aria-hidden="true">#</a> 3.作用域</h3><ul><li>ES5 中的作用域有：全局作用域、函数作用域</li><li>ES6 中新增了块级作用域 <ul><li>块作用域由 <code>{ }</code> 包括</li><li>if 语句和 for 语句里面的 <code>{ }</code> 也属于块作用域</li></ul></li></ul><h3 id="_4-var-关键字" tabindex="-1"><a class="header-anchor" href="#_4-var-关键字" aria-hidden="true">#</a> 4.var 关键字</h3><h4 id="_1-没有块级作用域的概念" tabindex="-1"><a class="header-anchor" href="#_1-没有块级作用域的概念" aria-hidden="true">#</a> 1）没有块级作用域的概念</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// Global Scope</span>
<span class="token punctuation">{</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-有全局作用域、函数作用域的概念" tabindex="-1"><a class="header-anchor" href="#_2-有全局作用域、函数作用域的概念" aria-hidden="true">#</a> 2）有全局作用域、函数作用域的概念</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// Global Scope</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">checkScope</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Local Scope</span>
  <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//10</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//20</span>
<span class="token punctuation">}</span>
<span class="token function">checkScope</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError: b is not defined</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-不初始化值默认为-undefined" tabindex="-1"><a class="header-anchor" href="#_3-不初始化值默认为-undefined" aria-hidden="true">#</a> 3）不初始化值默认为 undefined</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// Global Scope</span>
<span class="token keyword">var</span> a<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-存在变量提升" tabindex="-1"><a class="header-anchor" href="#_4-存在变量提升" aria-hidden="true">#</a> 4）存在变量提升</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// Global Scope</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

<span class="token function">checkScope</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">checkScope</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Local Scope</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
  <span class="token keyword">var</span> a<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>变量提升是因为 js 需要经历编译和执行阶段</li><li>而 js 在编译阶段的时候，会搜集所有的变量声明并且提前声明变量</li></ul><h4 id="_5-全局作用域用-var-声明的变量会挂载到-window-对象下" tabindex="-1"><a class="header-anchor" href="#_5-全局作用域用-var-声明的变量会挂载到-window-对象下" aria-hidden="true">#</a> 5）全局作用域用 var 声明的变量会挂载到 window 对象下</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// Global Scope</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-同一作用域中允许重复声明" tabindex="-1"><a class="header-anchor" href="#_6-同一作用域中允许重复声明" aria-hidden="true">#</a> 6）同一作用域中允许重复声明</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// Global Scope</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 20</span>

<span class="token function">checkScope</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">checkScope</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Local Scope</span>
  <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 20</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-let-关键字" tabindex="-1"><a class="header-anchor" href="#_5-let-关键字" aria-hidden="true">#</a> 5.let 关键字</h3><h4 id="_1-有块级作用域的概念" tabindex="-1"><a class="header-anchor" href="#_1-有块级作用域的概念" aria-hidden="true">#</a> 1）有块级作用域的概念</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token comment">// Block Scope</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError: a is not defined</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-不存在变量提升" tabindex="-1"><a class="header-anchor" href="#_2-不存在变量提升" aria-hidden="true">#</a> 2）不存在变量提升</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token comment">// Block Scope</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError: Cannot access &#39;a&#39; before initialization</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-暂时性死区" tabindex="-1"><a class="header-anchor" href="#_3-暂时性死区" aria-hidden="true">#</a> 3）暂时性死区</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token comment">// Block Scope</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError: Cannot access &#39;a&#39; before initialization</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// TDZ开始</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError: Cannot access &#39;a&#39; before initialization</span>

  <span class="token keyword">let</span> a<span class="token punctuation">;</span> <span class="token comment">// TDZ结束</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>

  a <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 123</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,28),g={href:"https://link.segmentfault.com/?enc=K6pZVwgVNQb0IBQ9LTOuJg%3D%3D.p07UoPCGl5RslJ9ZnW9Nr36NFqs2pU%2FnSfWZUPIH3S1TUXzWdj22pH0lUMFVGVUwJkDpSHrYe8uKlYek%2FK4HBDYkJhc%2Fe2xiWo5V6teR%2BXY%3D",target:"_blank",rel:"noopener noreferrer"},f=n("p",null,"The variables are created when their containing Lexical Environment is instantiated but may not be accessed in any way until the variable’s LexicalBinding is evaluated.",-1),j=n("p",null,"当程序的控制流程在新的作用域（module、function 或 block 作用域）进行实例化时，在此作用域中用 let/const 声明的变量会先在作用域中被创建出来，但因此时还未进行词法绑定，所以是不能被访问的，如果访问就会抛出错误。因此，在这运行流程进入作用域创建变量，到变量可以被访问之间的这一段时间，就称之为暂时死区",-1),y=n("br",null,null,-1),q=n("p",null,"简单理解",-1),_=n("p",null,"ES6 规定，let/const 命令会使区块形成封闭的作用域。若在声明之前使用变量，就会报错",-1),x=n("p",null,"总之，在代码块内，使用 let/const 命令声明变量之前，该变量都是不可用的",-1),w=n("p",null,[s("这在语法上，称为 "),n("mark",null,"暂时性死区"),s("（Temporal Dead Zone，TDZ）")],-1),S=a(`<ul><li>上面不存在变量提升的例子中，其实也是暂时性死区</li><li>因为它有暂时性死区的概念，所以就不存在变量提升了</li></ul><h4 id="_4-同一块作用域中不允许重复声明" tabindex="-1"><a class="header-anchor" href="#_4-同一块作用域中不允许重复声明" aria-hidden="true">#</a> 4）同一块作用域中不允许重复声明</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token comment">// Block Scope</span>
  <span class="token keyword">let</span> <span class="token constant">A</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> <span class="token constant">A</span><span class="token punctuation">;</span> <span class="token comment">// SyntaxError: Identifier &#39;A&#39; has already been declared</span>
<span class="token punctuation">}</span>
<span class="token punctuation">{</span>
  <span class="token comment">// Block Scope</span>
  <span class="token keyword">var</span> <span class="token constant">A</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> <span class="token constant">A</span><span class="token punctuation">;</span> <span class="token comment">// SyntaxError: Identifier &#39;A&#39; has already been declared</span>
<span class="token punctuation">}</span>
<span class="token punctuation">{</span>
  <span class="token comment">// Block Scope</span>
  <span class="token keyword">let</span> <span class="token constant">A</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> <span class="token constant">A</span><span class="token punctuation">;</span> <span class="token comment">// SyntaxError: Identifier &#39;A&#39; has already been declared</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-const-关键字" tabindex="-1"><a class="header-anchor" href="#_6-const-关键字" aria-hidden="true">#</a> 6.const 关键字</h3><h4 id="_1-必须立即初始化-不能留到以后赋值" tabindex="-1"><a class="header-anchor" href="#_1-必须立即初始化-不能留到以后赋值" aria-hidden="true">#</a> 1）必须立即初始化，不能留到以后赋值</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// Block Scope</span>
<span class="token keyword">const</span> a<span class="token punctuation">;</span> <span class="token comment">// SyntaxError: Missing initializer in const declaration }</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-常量的值不能改变" tabindex="-1"><a class="header-anchor" href="#_2-常量的值不能改变" aria-hidden="true">#</a> 2）常量的值不能改变</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// Block Scope</span>
<span class="token punctuation">{</span>
  <span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  a <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">// TypeError: Assignment to constant variable</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>const 保证的并不是变量的值不得改动，而是变量指向的那个 <mark>内存地址</mark> 所保存的数据不得改动</li></ul><h3 id="_7-特点总结" tabindex="-1"><a class="header-anchor" href="#_7-特点总结" aria-hidden="true">#</a> 7.特点总结</h3><h4 id="_1-var-关键字" tabindex="-1"><a class="header-anchor" href="#_1-var-关键字" aria-hidden="true">#</a> 1）var 关键字</h4><ul><li>没有块级作用域的概念</li><li>有全局作用域、函数作用域的概念</li><li>不初始化值默认为 undefined</li><li>存在变量提升</li><li>全局作用域用 var 声明的变量会挂载到 window 对象下</li><li>同一作用域中允许重复声明</li></ul><h4 id="_2-let-关键字" tabindex="-1"><a class="header-anchor" href="#_2-let-关键字" aria-hidden="true">#</a> 2）let 关键字</h4><ul><li>有块级作用域的概念</li><li>不存在变量提升</li><li>暂时性死区</li><li>同一块作用域中不允许重复声明</li></ul><h4 id="_3-const-关键字" tabindex="-1"><a class="header-anchor" href="#_3-const-关键字" aria-hidden="true">#</a> 3）const 关键字</h4><ul><li>与 let 特性一样，仅有 2 个差别</li><li>区别 1：必须立即初始化，不能留到以后赋值</li><li>区别 2：常量的值不能改变</li></ul><h3 id="_8-真题解答" tabindex="-1"><a class="header-anchor" href="#_8-真题解答" aria-hidden="true">#</a> 8.真题解答</h3><h4 id="_1-let-const-var-的区别-什么是块级作用域-如何用" tabindex="-1"><a class="header-anchor" href="#_1-let-const-var-的区别-什么是块级作用域-如何用" aria-hidden="true">#</a> 1）let const var 的区别？什么是块级作用域？如何用？</h4><blockquote><ol><li>var 定义的变量，没有块的概念，可以跨块访问, 不能跨函数访问，有变量提升</li><li>let 定义的变量，只能在块作用域里访问，不能跨块访问，也不能跨函数访问，无变量提升，不可以重复声明</li><li>const 用来定义常量，使用时必须初始化(即必须赋值)，只能在块作用域里访问，而且不能修改，无变量提升，不可以重复声明</li></ol><br><p>最初在 JS 中作用域有：全局作用域、函数作用域。没有块作用域的概念</p><p>ES6 中新增了块级作用域。块作用域由 { } 包括，if 语句和 for 语句里面的 { } 也属于块作用域</p><p>在以前没有块作用域的时候，在 if 或者 for 循环中声明的变量会泄露成全局变量，其次就是 { } 中的内层变量可能会覆盖外层变量。块级作用域的出现解决了这些问题</p></blockquote><h2 id="二-值和引用" tabindex="-1"><a class="header-anchor" href="#二-值和引用" aria-hidden="true">#</a> （二）值和引用</h2><h3 id="_1-经典真题-1" tabindex="-1"><a class="header-anchor" href="#_1-经典真题-1" aria-hidden="true">#</a> 1.经典真题</h3><ul><li>JS 的基本数据类型有哪些？基本数据类型和引用数据类型的区别</li></ul><h3 id="_2-js-中的数据类型" tabindex="-1"><a class="header-anchor" href="#_2-js-中的数据类型" aria-hidden="true">#</a> 2.JS 中的数据类型</h3><ul><li>在 JavaScript 中，数据类型整体上来讲可以分为基本类型和引用数据类型</li></ul><h4 id="_1-基本数据类型" tabindex="-1"><a class="header-anchor" href="#_1-基本数据类型" aria-hidden="true">#</a> 1）基本数据类型</h4><ul><li>又被称为原始值或简单值</li><li>一共有 6 种 <ul><li>string</li><li>symbol</li><li>number</li><li>boolean</li><li>undefined</li><li>null</li></ul></li><li>其中 symbol 类型是在 ES6 里面新添加的基本数据类型</li></ul><h4 id="_2-引用数据类型" tabindex="-1"><a class="header-anchor" href="#_2-引用数据类型" aria-hidden="true">#</a> 2）引用数据类型</h4><ul><li>又被称为复杂值或引用值</li><li>只有 1 种</li><li>object <ul><li>包括数组、对象、函数</li></ul></li></ul><h3 id="_3-简单值-原始值" tabindex="-1"><a class="header-anchor" href="#_3-简单值-原始值" aria-hidden="true">#</a> 3.简单值（原始值）</h3><ul><li>是表示 JavaScript 中可用的数据或信息的最底层形式或最简单形式</li><li>简单类型的值被称为简单值，是因为它们是 <mark>不可细化</mark> 的 <ul><li>数字是数字</li><li>字符串是字符串</li><li>布尔值是 true 或 false</li><li>null 和 undefined 就是 null 和 undefined</li></ul></li><li>由于简单值的数据大小是固定的，所以简单值的数据是存储于 <mark>内存中的栈区</mark></li></ul><p><img src="`+i+`" alt=""></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&quot;Hello World&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> bol <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> myNull <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> undef <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// string</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// number</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> bol<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// boolean</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> myNull<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> undef<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-null-是-object-类型" tabindex="-1"><a class="header-anchor" href="#_1-null-是-object-类型" aria-hidden="true">#</a> 1）null 是 object 类型</h4><ul><li>这是历史原因所遗留下来的问题</li><li>来源于 JavaScript 从第一个版本开始时的一个 bug，并且这个 bug 无法被修复，因为修复会破坏现有的代码</li><li>因为不同的对象在底层都表现为二进制，在 JavaScript 中，如果二进制前三位都为 0 则会被判断为 object 类型，null 的二进制全部为 0，自然前三位也是 0，所以执行 typeof 值会返回 object</li></ul><blockquote><p>例外，打印 <code>null == undefined</code> 时，返回的是 true，这也是面试时经常会被问到的一个问题</p><p>这两个值都表示“无”的意思</p></blockquote><h4 id="_2-null-和-undefined" tabindex="-1"><a class="header-anchor" href="#_2-null-和-undefined" aria-hidden="true">#</a> 2）null 和 undefined</h4><ul><li>通常情况下， 访问某个不存在的或者没有赋值的变量时，就会得到一个 undefined 值 <ul><li>JavaScript 会自动将声明时没有进行初始化的变量设为 undefined</li></ul></li><li>而 null 值表示空，null 不能通过 JavaScript 来自动赋值 <ul><li>即：必须要手动给某个变量赋值为 null</li></ul></li></ul><blockquote><p>为什么 JavaScript 要设置两个表示&quot;无&quot;的值呢？</p><br><p>这其实也是因为历史原因</p><p>1995 年 JavaScript 诞生时，最初像 Java 一样，只设置了 null 作为表示&quot;无&quot;的值。根据 C 语言的传统，null 被设计成可以自动转为 0</p><p>但是，JavaScript 的设计者，觉得这样做还不够，主要有以下两个原因</p><ol><li>null 像在 Java 里一样，被当成一个对象。但是，JavaScript 的数据类型分成原始类型（primitive）和复合类型（complex）两大类，作者觉得表示“无”的值最好不是对象</li><li>JavaScript 的最初版本没有包括错误处理机制，发生数据类型不匹配时，往往是自动转换类型或者默默地失败。作者觉得，如果 null 自动转为 0，很不容易发现错误</li></ol><p>因此，作者又设计了一个 undefined，先有 null 后有 undefined，是为了填补之前的坑</p></blockquote><ul><li>null 是一个表示“无”的 <mark>对象（空对象指针）</mark> ，转为数值时为 0</li><li>典型用法 <ul><li>作为函数的参数，表示该函数的参数不是对象</li><li>作为对象原型链的终点</li></ul></li><li>undefined 是一个表示&quot;无&quot;的 <mark>原始值</mark>，转为数值时为 NaN</li><li>典型用法 <ul><li>变量被声明但没有赋值时，就等于 undefined</li><li>调用函数时，应该提供的参数没有提供，该参数等于 undefined</li><li>对象没有赋值的属性，该属性的值为 undefined</li><li>函数没有返回值时，默认返回 undefined</li></ul></li></ul><h3 id="_4-复杂值-引用值" tabindex="-1"><a class="header-anchor" href="#_4-复杂值-引用值" aria-hidden="true">#</a> 4.复杂值（引用值）</h3><ul><li>在 JavaScript 中，对象就是一个复杂值 <ul><li>因为对象可以向下拆分，拆分成多个简单值或者复杂值</li></ul></li><li>复杂值在内存中的 <mark>大小是未知的</mark><ul><li>因为复杂值可以包含任何值，而不是一个特定的已知值，所以复杂值的数据都是存储于 <mark>堆区</mark></li></ul></li></ul><p><img src="`+u+`" alt=""></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 简单值</span>
<span class="token keyword">var</span> a1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> a2 <span class="token operator">=</span> <span class="token string">&quot;this is str&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> a3 <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

<span class="token comment">// 复杂值</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">m</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-访问方式" tabindex="-1"><a class="header-anchor" href="#_5-访问方式" aria-hidden="true">#</a> 5.访问方式</h3><h4 id="_1-按值访问" tabindex="-1"><a class="header-anchor" href="#_1-按值访问" aria-hidden="true">#</a> 1）按值访问</h4><ul><li>简单值是作为不可细化的值进行存储和使用的</li><li>引用它们会转移其值（值传递）</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str2 <span class="token operator">=</span> str<span class="token punctuation">;</span>
str <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> str2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// null &quot;Hello&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-引用访问" tabindex="-1"><a class="header-anchor" href="#_2-引用访问" aria-hidden="true">#</a> 2）引用访问</h4><ul><li>复杂值是通过引用进行存储和操作的，而不是实际的值</li><li>创建一个包含复杂对象的变量时，其值是内存中的一个引用地址</li><li>引用一个复杂对象时，使用它的名称（即变量或对象属性）通过内存中的引用地址获取该对象值（地址传递）</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj2 <span class="token operator">=</span> obj<span class="token punctuation">;</span>
obj<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// zhangsan</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj2<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// zhangsan</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-比较方式" tabindex="-1"><a class="header-anchor" href="#_6-比较方式" aria-hidden="true">#</a> 6.比较方式</h3><ul><li>简单值采用值比较，而复杂值采用引用比较</li><li>复杂值只有在引用相同的对象（即有相同的地址）时才相等 <ul><li>即使是包含相同对象的两个变量也彼此不相等</li><li>因为它们并不指向同一个对象</li></ul></li></ul><h4 id="_1-示例-1" tabindex="-1"><a class="header-anchor" href="#_1-示例-1" aria-hidden="true">#</a> 1）示例 1</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> d <span class="token operator">=</span> c<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">===</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">===</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">===</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">==</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
d <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>d <span class="token operator">==</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>d <span class="token operator">===</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-示例-2" tabindex="-1"><a class="header-anchor" href="#_2-示例-2" aria-hidden="true">#</a> 2）示例 2</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj <span class="token operator">==</span> obj2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj <span class="token operator">===</span> obj2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token keyword">var</span> obj3 <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj4 <span class="token operator">=</span> obj3<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj3 <span class="token operator">==</span> obj4<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj3 <span class="token operator">===</span> obj4<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ture</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-动态属性" tabindex="-1"><a class="header-anchor" href="#_7-动态属性" aria-hidden="true">#</a> 7.动态属性</h3><ul><li>可以为复杂值添加、修改、删除属性和方法</li><li>但简单值不可以</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">;</span>
str<span class="token punctuation">.</span>abc <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span>abc<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span>abc <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>abc<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>复杂值支持动态对象属性 <ul><li>因为可以定义对象，然后创建引用，再更新对象，并且所有指向该对象的变量都会获得更新</li><li>一个新变量指向现有的复杂对象，并没有复制该对象</li><li>这就是复杂值有时被称为引用值的原因</li></ul></li><li>复杂值可以根据需求有任意多个引用，即使对象改变，它们也总是指向同一个对象</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj2 <span class="token operator">=</span> obj<span class="token punctuation">;</span>
<span class="token keyword">var</span> obj3 <span class="token operator">=</span> obj2<span class="token punctuation">;</span>
obj<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>name<span class="token punctuation">,</span> obj2<span class="token punctuation">.</span>name<span class="token punctuation">,</span> obj3<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// abc abc abc</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8-变量赋值" tabindex="-1"><a class="header-anchor" href="#_8-变量赋值" aria-hidden="true">#</a> 8.变量赋值</h3><ul><li>可以分为直接赋值和引用赋值</li></ul><h4 id="_1-直接赋值" tabindex="-1"><a class="header-anchor" href="#_1-直接赋值" aria-hidden="true">#</a> 1）直接赋值</h4><ul><li>将简单值赋值给变量</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span>
b <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-引用赋值" tabindex="-1"><a class="header-anchor" href="#_2-引用赋值" aria-hidden="true">#</a> 2）引用赋值</h4><ul><li>将一个复杂值的引用赋值给变量，这个引用指向堆区实际存在的数据</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">value</span> <span class="token operator">:</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>；
<span class="token keyword">var</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span>
b<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_9-真题解答" tabindex="-1"><a class="header-anchor" href="#_9-真题解答" aria-hidden="true">#</a> 9.真题解答</h3><h4 id="_1-js-的基本数据类型有哪些-基本数据类型和引用数据类型的区别" tabindex="-1"><a class="header-anchor" href="#_1-js-的基本数据类型有哪些-基本数据类型和引用数据类型的区别" aria-hidden="true">#</a> 1）JS 的基本数据类型有哪些？基本数据类型和引用数据类型的区别</h4><blockquote><p>在 JavaScript 中，数据类型整体上来讲可以分为两大类：基本类型和引用数据类型</p><ol><li>基本数据类型，一共有 6 种：</li></ol><p>string，symbol，number，boolean，undefined，null</p><p>其中 symbol 类型是在 ES6 里面新添加的基本数据类型</p><ol start="2"><li>引用数据类型，就只有 1 种：</li></ol><p>object</p><p>基本数据类型的值又被称之为原始值或简单值，而引用数据类型的值又被称之为复杂值或引用值</p><ol start="3"><li>两者的区别在于：</li></ol><p>原始值是表示 JavaScript 中可用的数据或信息的最底层形式或最简单形式。被称为原始值是因为它们不可细化</p><p>也就是说，数字是数字，字符是字符，布尔值是 true 或 false，null 和 undefined 就是 null 和 undefined。这些值本身很简单，不能够再进行拆分。由于原始值的数据大小是固定的，所以原始值的数据是存储于内存中的栈区里面的</p><p>在 JavaScript 中，对象就是一个引用值。因为对象可以向下拆分，拆分成多个简单值或者复杂值。引用值在内存中的大小是未知的，因为引用值可以包含任何值，而不是一个特定的已知值，所以引用值的数据都是存储于堆区里面</p><br><p>最后总结一下两者的区别：</p><ol><li>访问方式</li></ol><ul><li>原始值：访问到的是值</li><li>引用值：访问到的是引用地址</li></ul><ol start="2"><li>比较方式</li></ol><ul><li>原始值：比较的是值</li><li>引用值：比较的是地址</li></ul><ol start="3"><li>动态属性</li></ol><ul><li>原始值：无法添加动态属性</li><li>引用值：可以添加动态属性</li></ul><ol start="4"><li>变量赋值</li></ol><ul><li>原始值：赋值的是值</li><li>引用值：赋值的是地址</li></ul></blockquote><h2 id="三-包装类型" tabindex="-1"><a class="header-anchor" href="#三-包装类型" aria-hidden="true">#</a> （三）包装类型</h2><h3 id="_1-经典真题-2" tabindex="-1"><a class="header-anchor" href="#_1-经典真题-2" aria-hidden="true">#</a> 1.经典真题</h3><ul><li>是否了解 JavaScript 中的包装类型？</li></ul><h3 id="_2-包装类型" tabindex="-1"><a class="header-anchor" href="#_2-包装类型" aria-hidden="true">#</a> 2.包装类型</h3><h4 id="_1-背景" tabindex="-1"><a class="header-anchor" href="#_1-背景" aria-hidden="true">#</a> 1）背景</h4><ul><li>按照最新 ES 标准定义 <ul><li>基本数据类型（primitive value）包括 undefined、null、boolean、number、symbol、string</li><li>引用类型包括 Object、Array、Date、RegExp</li></ul></li><li>这两个类型其中一个很明显的区别 <ul><li>引用类型有自己内置的方法，也可以自定义其他方法用来操作数据</li><li>而基本数据类型不能像引用类型那样有自己的内置方法对数据进行更多的操作</li></ul></li></ul><h4 id="_2-原理" tabindex="-1"><a class="header-anchor" href="#_2-原理" aria-hidden="true">#</a> 2）原理</h4><ul><li>ES 为 3 个基本数据类型提供了对应的特殊引用类型（包装类型） <ul><li>Boolean、Number、String</li></ul></li><li>基本包装类型和其他引用类型一样，拥有内置的方法可以对数据进行额外操作</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span> <span class="token comment">// string 基本类型</span>
<span class="token keyword">var</span> s2 <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// h</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>string 是一个基本类型，却能调用 charAt 的方法</li><li>是因为在执行第二行代码时，后台会自动进行下面的步骤 <ul><li>自动创建 String 类型的一个实例 <ul><li>和基本类型的值不同，这个实例就是一个基本包装类型的对象</li></ul></li><li>调用实例（对象）上指定的方法</li><li>销毁这个实例</li></ul></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 平常写程序的过程</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span> <span class="token comment">// string 基本类型</span>
<span class="token keyword">var</span> s2 <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 执行到这一句时，后台会自动完成以下动作</span>
<span class="token punctuation">{</span>
  <span class="token comment">// 1.找到对应的包装对象类型，然后通过包装对象创建出一个和基本类型值相同的对象</span>
  <span class="token keyword">var</span> _str <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 2.然后这个对象就可以调用包装对象下的方法，并且返回结果给 s2</span>
  <span class="token keyword">var</span> s2 <span class="token operator">=</span> _str<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 3.之后这个临时创建的对象就被销毁了</span>
  _str <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// h</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>基本类型的值虽然没有方法可以调用，但是后台临时创建的包装对象上有内置方法可以调用 <ul><li>可以对字符串、数值、布尔值这三种基本数据类型的数据进行更多操作</li></ul></li><li>后台什么时候自动创建一个对应的基本包装类型的对象 <ul><li>取决于当前执行的代码是否是为了 <mark>获取值</mark></li></ul></li><li>即： <mark>读取一个基本类型的值/需要从内存中获取值</mark><ul><li>这个访问过程称为读取模式</li></ul></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> test <span class="token operator">=</span> <span class="token string">&quot;hhh&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>test<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 读取模式，后台自动创建基本包装类型对象</span>
<span class="token keyword">var</span> test2 <span class="token operator">=</span> test<span class="token punctuation">;</span> <span class="token comment">// 赋值给变量 test2，也需要读取 test 的值，同上</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-区别" tabindex="-1"><a class="header-anchor" href="#_3-区别" aria-hidden="true">#</a> 3）区别</h4><ul><li>基本包装类型的对象和引用类型的对象最大的一个区别 <ul><li><mark>对象的生存期</mark> 不同</li><li>导致基本包装类型无法自定义自己的方法</li></ul></li><li>对于引用类型的数据，在执行流离开当前作用域之前都会保存在内存中</li><li>对于自动创建的基本包装类型的对象，只存在于一行代码的执行瞬间，执行完毕就会立即被销毁</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">;</span>
str<span class="token punctuation">.</span>test <span class="token operator">=</span> <span class="token string">&quot;hhh&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span>test<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>上面第二行代码给自动创建的 String 实例对象添加了 test 属性</p><p>虽然此刻代码执行时是生效的，但是在这行代码执行完毕后该 String 实例就会立刻被销毁，String 实例的 test 属性也就不存在了</p><p>当执行第三行代码时，由于是读取模式，又重新创建了新的 String 实例，而这个新创建的 String 实例没有 test 属性，结果就是 undefined</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
str<span class="token punctuation">.</span>number <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">// 假设我们想给字符串添加一个属性 number ，后台会有如下步骤</span>
<span class="token punctuation">{</span>
  <span class="token comment">// 1.找到对应的包装对象类型，然后通过包装对象创建出一个和基本类型值相同的对象</span>
  <span class="token keyword">var</span> _str <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 2.通过这个对象调用包装对象下的方法 但结果并没有被任何东西保存</span>
  _str<span class="token punctuation">.</span>number <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token comment">// 3.这个对象又被销毁</span>
  _str <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// undefined  当执行到这一句的时候，因为基本类型本来没有属性，后台又会重新重复上面的步骤</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span>number<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">{</span>
  <span class="token comment">// 1.找到基本包装对象，然后又新开辟一个内存，创建一个值为 hello 对象</span>
  <span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 2.因为包装对象下面没有 number 这个属性，所以又会重新添加，因为没有值，所以值是未定义;然后弹出结果</span>
  str<span class="token punctuation">.</span>number <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
  <span class="token comment">// 3.这个对象又被销毁</span>
  str <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-添加属性和方法" tabindex="-1"><a class="header-anchor" href="#_4-添加属性和方法" aria-hidden="true">#</a> 4）添加属性和方法</h4><ul><li>在基本包装对象的原型下面添加，每个对象都有原型</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 给字符串添加方法  要写到对应的包装对象的原型下才行</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">last</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 执行到这一句，后台依然会偷偷的干这些事</span>
str<span class="token punctuation">.</span><span class="token function">last</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">{</span>
  <span class="token comment">// 找到基本包装对象，new一个和字符串值相同的对象，</span>
  <span class="token keyword">var</span> _str <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 通过这个对象找到了包装对象下的方法并调用</span>
  _str<span class="token punctuation">.</span><span class="token function">last</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//  这个对象被销毁</span>
  _str <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-真题解答" tabindex="-1"><a class="header-anchor" href="#_3-真题解答" aria-hidden="true">#</a> 3.真题解答</h3><h4 id="_1-是否了解-javascript-中的包装类型" tabindex="-1"><a class="header-anchor" href="#_1-是否了解-javascript-中的包装类型" aria-hidden="true">#</a> 1）是否了解 JavaScript 中的包装类型？</h4><blockquote><p>包装对象，就是当基本类型以对象的方式去使用时，JavaScript 会转换成对应的包装类型，相当于 new 一个对象，内容和基本类型的内容一样，然后当操作完成再去访问的时候，这个临时对象会被销毁，然后再访问时候就是 undefined</p><p>number、string、boolean 都有对应的包装类型</p><p>因为有了基本包装类型，所以 JavaScript 中的基本类型值可以被当作对象来访问</p><p>基本类型特征：</p><ol><li>每个包装类型都映射到同名的基本类型</li><li>在读取模式下访问基本类型值时，就会创建对应的基本包装类型的一个对象，从而方便了数据操作</li><li>操作基本类型值的语句一经执行完毕，就会立即销毁新创建的包装对象</li></ol></blockquote><h2 id="四-数据类型的转换" tabindex="-1"><a class="header-anchor" href="#四-数据类型的转换" aria-hidden="true">#</a> （四）数据类型的转换</h2><h3 id="_1-经典真题-3" tabindex="-1"><a class="header-anchor" href="#_1-经典真题-3" aria-hidden="true">#</a> 1.经典真题</h3><ul><li>JavaScript 中如何进行数据类型的转换？</li></ul><h3 id="_2-数据类型转换介绍" tabindex="-1"><a class="header-anchor" href="#_2-数据类型转换介绍" aria-hidden="true">#</a> 2.数据类型转换介绍</h3><ul><li>JavaScript 是一种动态类型语言</li><li>变量没有类型限制，可以随时赋予任意值</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> x <span class="token operator">=</span> y <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>变量 x 到底是数值还是字符串，取决于另一个变量 y 的值 <ul><li>y 为 true 时，x 是一个数值</li><li>y 为 false 时，x 是一个字符串</li><li>说明 x 的类型无法在编译阶段确定，必须等到运行时才能确定</li></ul></li><li>变量的数据类型是不确定的，但是各种运算符对数据类型是有要求的 <ul><li>如果运算符发现，运算数据的类型与预期不符，就会自动转换类型</li></ul></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;4&quot;</span> <span class="token operator">-</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_3-强制转换-显式转换" tabindex="-1"><a class="header-anchor" href="#_3-强制转换-显式转换" aria-hidden="true">#</a> 3.强制转换（显式转换）</h3><ul><li>主要指使用 <code>Number()</code> 、 <code>String()</code> 和 <code>Boolean()</code> 三个函数</li><li>手动将各种类型的值，分别转换成数字、字符串或者布尔值</li></ul><h4 id="_1-number" tabindex="-1"><a class="header-anchor" href="#_1-number" aria-hidden="true">#</a> 1）Number()</h4><ul><li>可以将任意类型的值转化成数值</li></ul><h5 id="a-参数是原始类型值" tabindex="-1"><a class="header-anchor" href="#a-参数是原始类型值" aria-hidden="true">#</a> a）参数是原始类型值</h5><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 数值：转换后还是原来的值</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token number">324</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 324</span>

<span class="token comment">// 字符串：如果可以被解析为数值，则转换为相应的数值</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">&quot;324&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 324</span>

<span class="token comment">// 字符串：如果不可以被解析为数值，返回 NaN</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">&quot;324abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>

<span class="token comment">// 空字符串转为0</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>

<span class="token comment">// 布尔值：true 转成 1，false 转成 0</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>

<span class="token comment">// undefined：转成 NaN</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>

<span class="token comment">// null：转成0</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>Number</code> 函数将字符串转为数值，要比 <code>parseInt</code> 函数严格很多</li><li>只要有一个字符无法转成数值，整个字符串就会被转为 <code>NaN</code></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">&quot;42 cats&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 42</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">&quot;42 cats&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>parseInt</code> 和 <code>Number</code> 函数都会自动过滤一个字符串前导和后缀的空格</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">&quot;\\t\\v\\r12.34\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 12</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">&quot;\\t\\v\\r12.34\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 12.34</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="b-参数是对象类型" tabindex="-1"><a class="header-anchor" href="#b-参数是对象类型" aria-hidden="true">#</a> b）参数是对象类型</h5><ul><li><code>Number</code> 方法的参数是对象时，将返回 <code>NaN</code></li><li>除非是包含单个数值的数组</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">Number</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>调用对象自身的 <code>valueOf</code> 方法 <ul><li>如果返回原始类型的值，则直接对该值使用 <code>Number</code> 函数，不再进行后续步骤</li></ul></li><li>如果 <code>valueOf</code> 方法返回的还是对象，则改为调用对象自身的 <code>toString</code> 方法 <ul><li>如果 <code>toString</code> 方法返回原始类型的值，则对该值使用 <code>Number</code> 函数，不再进行后续步骤</li></ul></li><li>如果 <code>toString</code> 方法返回的是对象，就报错</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">Number</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>

<span class="token comment">// 等同于</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> obj<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">Number</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token function">Number</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>首先调用 <code>obj.valueOf</code> 方法, 结果返回对象本身</p><p>于是，继续调用 <code>obj.toString</code> 方法，返回字符串 <code>[object Object]</code></p><p>对这个字符串使用 <code>Number</code> 函数，得到 <code>NaN</code></p></blockquote><ul><li>默认情况下，对象的 <code>valueOf</code> 方法返回对象本身</li><li>所以一般总是会调用 <code>toString</code> 方法</li><li>而 <code>toString</code> 方法返回对象的类型字符串（比如 <code>[object Object]</code> ）</li><li>所以会有下面的结果</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">Number</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>如果 <code>toString</code> 方法返回的不是原始类型的值，结果就会报错</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">valueOf</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">toString</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">Number</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// TypeError: Cannot convert object to primitive value</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>valueOf</code> 和 <code>toString</code> 方法，都是可以自定义的</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">Number</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">valueOf</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 2</span>

<span class="token function">Number</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">toString</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">3</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 3</span>

<span class="token function">Number</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">valueOf</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">toString</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">3</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-string" tabindex="-1"><a class="header-anchor" href="#_2-string" aria-hidden="true">#</a> 2）String()</h4><ul><li><code>String</code> 函数可以将任意类型的值转化成字符串</li></ul><h5 id="a-参数是原始类型值-1" tabindex="-1"><a class="header-anchor" href="#a-参数是原始类型值-1" aria-hidden="true">#</a> a）参数是原始类型值</h5><ul><li>数值：转为相应的字符串</li><li>字符串：转换后还是原来的值</li><li>布尔值：<code>true</code> 转为字符串 <code>&quot;true&quot;</code>，<code>false</code> 转为字符串 <code>&quot;false&quot;</code></li><li>undefined：转为字符串 <code>&quot;undefined&quot;</code></li><li>null：转为字符串 <code>&quot;null&quot;</code></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">String</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;123&quot;</span>
<span class="token function">String</span><span class="token punctuation">(</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;abc&quot;</span>
<span class="token function">String</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;true&quot;</span>
<span class="token function">String</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;undefined&quot;</span>
<span class="token function">String</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;null&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="b-参数是对象" tabindex="-1"><a class="header-anchor" href="#b-参数是对象" aria-hidden="true">#</a> b）参数是对象</h5><ul><li>如果是对象，返回一个类型字符串</li><li>如果是数组，返回该数组的字符串形式</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;[object Object]&quot;</span>
<span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;1,2,3&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>String</code> 方法背后的转换规则与 <code>Number</code> 方法基本相同 <ul><li>只是 <mark>互换了 <code>valueOf</code> 方法和 <code>toString</code> 方法的执行顺序</mark></li></ul></li><li>先调用对象自身的 <code>toString</code> 方法 <ul><li>如果返回原始类型的值，则对该值使用 <code>String</code> 函数，不再进行以下步骤</li></ul></li><li>如果 <code>toString</code> 方法返回的是对象，再调用原对象的 <code>valueOf</code> 方法 <ul><li>如果 <code>valueOf</code> 方法返回原始类型的值，则对该值使用 <code>String</code> 函数，不再进行以下步骤</li></ul></li><li>如果 <code>valueOf</code> 方法返回的是对象，就报错</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &quot;[object Object]&quot;</span>

<span class="token comment">// 等同于</span>
<span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &quot;[object Object]&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>先调用对象的 <code>toString</code> 方法，发现返回的是字符串 <code>[object Object]</code> ，就不再调用 <code>valueOf</code>方法了</p></blockquote><ul><li>如果 <code>toString</code> 和 <code>valueOf</code> 方法，返回的都是对象，就会报错</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">valueOf</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">toString</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">String</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// TypeError: Cannot convert object to primitive value</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>valueOf</code> 和 <code>toString</code> 方法，都是可以自定义的</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">toString</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">3</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &quot;3&quot;</span>

<span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">valueOf</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &quot;[object Object]&quot;</span>

<span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">valueOf</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">toString</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">3</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &quot;3&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-boolean" tabindex="-1"><a class="header-anchor" href="#_3-boolean" aria-hidden="true">#</a> 3）Boolean()</h4><ul><li><code>Boolean()</code> 函数可以将任意类型的值转为布尔值</li><li>除了以下值的转换结果为 <code>false</code> ，其他的值全部为 <code>true</code><ul><li><code>false</code></li><li><code>undefined</code></li><li><code>null</code></li><li><code>0</code>（包含 <code>-0</code> 和 <code>+0</code> ）</li><li><code>NaN</code></li><li><code>&#39;&#39;</code>（空字符串）</li></ul></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>所有对象（包括空对象）的转换结果都是 <code>true</code></li><li><code>false</code> 对应的布尔对象 <code>new Boolean(false)</code> 也是 <code>true</code></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>因为 JavaScript 语言设计的时候，出于性能的考虑，如果对象需要计算才能得到布尔值，对于 <code>obj1 &amp;&amp; obj2</code> 这样的场景，可能会需要较多的计算</p><p>为了保证性能，就统一规定，对象的布尔值为 <code>true</code></p></blockquote><h3 id="_4-自动转换-隐式转换" tabindex="-1"><a class="header-anchor" href="#_4-自动转换-隐式转换" aria-hidden="true">#</a> 4.自动转换（隐式转换）</h3><ul><li>以强制转换为基础</li><li>转换是自动完成的，用户不可见</li></ul><h4 id="_1-转换规则" tabindex="-1"><a class="header-anchor" href="#_1-转换规则" aria-hidden="true">#</a> 1）转换规则</h4><h5 id="a-不同类型的数据互相运算" tabindex="-1"><a class="header-anchor" href="#a-不同类型的数据互相运算" aria-hidden="true">#</a> a）不同类型的数据互相运算</h5><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token number">123</span> <span class="token operator">+</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">;</span> <span class="token comment">// &quot;123abc&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="b-对非布尔值类型的数据求布尔值" tabindex="-1"><a class="header-anchor" href="#b-对非布尔值类型的数据求布尔值" aria-hidden="true">#</a> b）对非布尔值类型的数据求布尔值</h5><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token comment">// &quot;hello&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="c-对非数值类型的值使用一元运算符-即-和" tabindex="-1"><a class="header-anchor" href="#c-对非数值类型的值使用一元运算符-即-和" aria-hidden="true">#</a> c）对非数值类型的值使用一元运算符（即 <code>+</code> 和 <code>-</code> ）</h5><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">+</span><span class="token punctuation">{</span> <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token string">&quot;bar&quot;</span> <span class="token punctuation">}</span> <span class="token operator">-</span> <span class="token comment">// NaN</span>
  <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>预期什么类型的值，就调用该类型的转换函数 <ul><li>如：某个位置预期为字符串，就调用 <code>String()</code> 函数进行转换</li><li>如果该位置既可以是字符串，也可能是数值，那么默认转为 <mark>数值</mark></li></ul></li></ul><div class="hint-container warning"><p class="hint-container-title">自动转换具有不确定性，而且不易除错</p><p>建议在预期为布尔值、数值、字符串的地方，全部使用 <code>Boolean()</code> 、 <code>Number()</code> 和 <code>String()</code> 函数进行显式转换</p></div><h4 id="_2-自动转换为布尔值" tabindex="-1"><a class="header-anchor" href="#_2-自动转换为布尔值" aria-hidden="true">#</a> 2）自动转换为布尔值</h4><ul><li>JavaScript 遇到预期为布尔值的地方（如：<code>if</code> 语句的条件部分），会将非布尔值的参数自动转换为布尔值</li><li>系统内部会自动调用 <code>Boolean()</code> 函数</li><li>仅有以下值转换为 false <ul><li><code>undefined</code></li><li><code>null</code></li><li><code>+0</code>或<code>-0</code></li><li><code>NaN</code></li><li><code>&#39;&#39;</code>（空字符串）</li><li><code>false</code></li></ul></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">undefined</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token number">NaN</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;true&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>将一个表达式转为布尔值</li><li>内部调用的也是 <code>Boolean()</code> 函数</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 写法一</span>
expression <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

<span class="token comment">// 写法二</span>
<span class="token operator">!</span><span class="token operator">!</span>expression<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-自动转换为字符串" tabindex="-1"><a class="header-anchor" href="#_3-自动转换为字符串" aria-hidden="true">#</a> 3）自动转换为字符串</h4><ul><li>JavaScript 遇到预期为字符串的地方，会将非字符串的值自动转为字符串</li><li>先将复合类型的值转为原始类型的值，再将原始类型的值转为字符串</li><li>字符串的自动转换，主要发生在 <mark>字符串的加法运算</mark> 时</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token string">&quot;5&quot;</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// &#39;51&#39;</span>
<span class="token string">&quot;5&quot;</span> <span class="token operator">+</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// &quot;5true&quot;</span>
<span class="token string">&quot;5&quot;</span> <span class="token operator">+</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// &quot;5false&quot;</span>
<span class="token string">&quot;5&quot;</span> <span class="token operator">+</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// &quot;5[object Object]&quot;</span>
<span class="token string">&quot;5&quot;</span> <span class="token operator">+</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// &quot;5&quot;</span>
<span class="token string">&quot;5&quot;</span> <span class="token operator">+</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// &quot;5function (){}&quot;</span>
<span class="token string">&quot;5&quot;</span> <span class="token operator">+</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span> <span class="token comment">// &quot;5undefined&quot;</span>
<span class="token string">&quot;5&quot;</span> <span class="token operator">+</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// &quot;5null&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>这种自动转换很容易出错</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

obj<span class="token punctuation">.</span>width <span class="token operator">+</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">// &quot;10020&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-自动转换为数值" tabindex="-1"><a class="header-anchor" href="#_4-自动转换为数值" aria-hidden="true">#</a> 4）自动转换为数值</h4><ul><li>JavaScript 遇到预期为数值的地方，会将参数值自动转换为数值</li><li>系统内部会自动调用 <code>Number()</code> 函数</li><li>除了加法运算符（+）有可能把运算子表达式转为字符串，其他运算符都会把运算子自动转成数值</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token string">&quot;5&quot;</span> <span class="token operator">-</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
<span class="token string">&quot;5&quot;</span> <span class="token operator">*</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 10</span>
<span class="token boolean">true</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
<span class="token boolean">false</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// -1</span>
<span class="token string">&quot;1&quot;</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
<span class="token string">&quot;5&quot;</span> <span class="token operator">*</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
<span class="token boolean">false</span> <span class="token operator">/</span> <span class="token string">&quot;5&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
<span class="token string">&quot;abc&quot;</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>
<span class="token keyword">null</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
<span class="token keyword">undefined</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container danger"><p class="hint-container-title">警告</p><p><code>null</code> 转为数值时为 <code>0</code> ，而 <code>undefined</code> 转为数值时为 <code>NaN</code></p></div><ul><li>一元运算符也会转成数值</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">+</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>
<span class="token operator">-</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>
<span class="token operator">+</span><span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
<span class="token operator">-</span><span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-真题解答" tabindex="-1"><a class="header-anchor" href="#_5-真题解答" aria-hidden="true">#</a> 5.真题解答</h3><h4 id="_1-javascript-中如何进行数据类型的转换" tabindex="-1"><a class="header-anchor" href="#_1-javascript-中如何进行数据类型的转换" aria-hidden="true">#</a> 1）JavaScript 中如何进行数据类型的转换？</h4><blockquote><p>类型转换可以分为两种，隐性转换和显性转换</p><ol><li>隐性转换</li></ol><p>当不同数据类型之间进行相互运算，或者当对非布尔类型的数据求布尔值的时候，会发生隐性转换</p><p>预期为数字的时候：算术运算时，结果和运算的数都是数字，数据会转换为数字来进行计算</p><table><thead><tr><th>类型</th><th>转换前</th><th>转换后</th></tr></thead><tbody><tr><td>number</td><td>4</td><td>4</td></tr><tr><td>string</td><td>&quot;1&quot;</td><td>1</td></tr><tr><td>string</td><td>&quot;abc&quot;</td><td>NaN</td></tr><tr><td>string</td><td>&quot;&quot;</td><td>0</td></tr><tr><td>boolean</td><td>true</td><td>1</td></tr><tr><td>boolean</td><td>false</td><td>0</td></tr><tr><td>undefined</td><td>undefined</td><td>NaN</td></tr><tr><td>null</td><td>null</td><td>0</td></tr></tbody></table><p>预期为字符串的时候：有一个操作数为字符串时，使用 <code>+</code> 符号做相加运算时，会自动转换为字符串</p><p>预期为布尔的时候：前面在介绍布尔类型时所提到的 9 个值会转为 false，其余转为 true</p><ol start="2"><li>显性转换</li></ol><p>所谓显性转换，是指程序员强制将一种类型转换为另外一种类型，往往会使用到一些转换方法</p><p>常见的转换方法如下：</p><ul><li>转换为数值类型：<code>Number()</code>，<code>parseInt()</code>，<code>parseFloat()</code></li><li>转换为布尔类型：<code>Boolean()</code></li><li>转换为字符串类型：<code>toString()</code>，<code>String()</code></li></ul><p>当然，除了使用上面的转换方法，我们也可以通过一些快捷方式来进行数据类型的显性转换，如下：</p><ul><li>转换字符串：直接和一个空字符串拼接，例如：<code>a = &quot;&quot; + 数据</code></li><li>转换布尔：!!数据类型，例如：<code>!!&quot;Hello&quot;</code></li><li>转换数值：数据*1 或 /1，例如：<code>&quot;Hello * 1&quot;</code></li></ul></blockquote><h2 id="五-运算符" tabindex="-1"><a class="header-anchor" href="#五-运算符" aria-hidden="true">#</a> （五）运算符</h2><h3 id="_1-经典真题-4" tabindex="-1"><a class="header-anchor" href="#_1-经典真题-4" aria-hidden="true">#</a> 1.经典真题</h3><ul><li>下面代码中，a 在什么情况下会执行输出语句打印 1？</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token operator">?</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> a <span class="token operator">==</span> <span class="token number">2</span> <span class="token operator">&amp;&amp;</span> a <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-算术运算符" tabindex="-1"><a class="header-anchor" href="#_2-算术运算符" aria-hidden="true">#</a> 2.算术运算符</h3><ul><li>JavaScript 共提供 10 个算术运算符，用来完成基本的算术运算</li></ul><table><thead><tr><th>分类</th><th>举例</th></tr></thead><tbody><tr><td>加法运算符</td><td><code>x + y</code></td></tr><tr><td>减法运算符</td><td><code>x - y</code></td></tr><tr><td>乘法运算符</td><td><code>x * y</code></td></tr><tr><td>除法运算符</td><td><code>x / y</code></td></tr><tr><td>指数运算符</td><td><code>x ** y</code></td></tr><tr><td>余数运算符</td><td><code>x % y</code></td></tr><tr><td>自增运算符</td><td><code>++x</code> 或者 <code>x++</code></td></tr><tr><td>自减运算符</td><td><code>--x</code> 或者 <code>x--</code></td></tr><tr><td>数值运算符</td><td><code>+x</code></td></tr><tr><td>负数值运算符</td><td><code>-x</code></td></tr></tbody></table><h3 id="_3-算术运算符-加法运算符" tabindex="-1"><a class="header-anchor" href="#_3-算术运算符-加法运算符" aria-hidden="true">#</a> 3.算术运算符：加法运算符</h3><h4 id="_1-基本规则" tabindex="-1"><a class="header-anchor" href="#_1-基本规则" aria-hidden="true">#</a> 1）基本规则</h4><ul><li>求两个数值的和</li><li>JavaScript 允许非数值相加</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 布尔值都会自动转成数值，然后再相加。</span>
<span class="token boolean">true</span> <span class="token operator">+</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
<span class="token number">1</span> <span class="token operator">+</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>如果两个字符串相加，加法运算符会变成连接运算符</li><li>返回一个新的字符串，将两个原字符串连接在一起</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token string">&#39;a&#39;</span> <span class="token operator">+</span> <span class="token string">&#39;bc&#39;</span>； <span class="token comment">// &quot;abc&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>如果字符串和非字符串相加，非字符串会转成字符串，再连接在一起</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token number">1</span> <span class="token operator">+</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">;</span> <span class="token comment">// &quot;1a&quot;</span>
<span class="token boolean">false</span> <span class="token operator">+</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">;</span> <span class="token comment">// &quot;falsea&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>加法运算符是在 <mark>运行时</mark> 决定，是执行相加还是执行连接 <ul><li>运算子的不同，导致了不同的语法行为</li><li>这种现象称为“重载”（overload）</li></ul></li><li>由于加法运算符存在重载，可能执行两种运算</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token string">&quot;3&quot;</span> <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">// &quot;345&quot;</span>
<span class="token number">3</span> <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">+</span> <span class="token string">&quot;5&quot;</span><span class="token punctuation">;</span> <span class="token comment">// &quot;75&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>其他算术运算符（如：减法、除法和乘法）都不会发生重载</li><li>规则是：所有运算子一律转为数值，再进行相应的数学运算</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token number">1</span> <span class="token operator">-</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">;</span> <span class="token comment">// -1</span>
<span class="token number">1</span> <span class="token operator">*</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
<span class="token number">1</span> <span class="token operator">/</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 0.5</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-对象相加" tabindex="-1"><a class="header-anchor" href="#_2-对象相加" aria-hidden="true">#</a> 2）对象相加</h4><ul><li>必须先转成原始类型的值，然后再相加</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">p</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
obj <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// &quot;[object Object]2&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>可以自己定义 <code>valueOf</code> 方法或 <code>toString</code> 方法，得到想要的结果</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">valueOf</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

obj <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">toString</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

obj <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// &quot;hello2&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>如果 <code>Date</code> 对象的实例相加，会优先执行 <code>toString</code> 方法</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span><span class="token function-variable function">valueOf</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span><span class="token function-variable function">toString</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

obj <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// &quot;hello2&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-算术运算符-余数运算符" tabindex="-1"><a class="header-anchor" href="#_4-算术运算符-余数运算符" aria-hidden="true">#</a> 4.算术运算符：余数运算符</h3><ul><li>余数运算符（<code>%</code>）返回前一个运算子被后一个运算子除，所得的余数</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token number">12</span> <span class="token operator">%</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>运算结果的正负号由第一个运算子的正负号决定</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">-</span><span class="token number">1</span> <span class="token operator">%</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// -1</span>
<span class="token number">1</span> <span class="token operator">%</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>为了得到负数的正确余数值，可以先使用绝对值函数</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 错误的写法</span>
<span class="token keyword">function</span> <span class="token function">isOdd</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> n <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">isOdd</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token function">isOdd</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

<span class="token comment">// 正确的写法</span>
<span class="token keyword">function</span> <span class="token function">isOdd</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>n <span class="token operator">%</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">isOdd</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token function">isOdd</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>可以用于浮点数的运算</li><li>由于浮点数不是精确的值，无法得到完全准确的结果</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token number">6.5</span> <span class="token operator">%</span> <span class="token number">2.1</span><span class="token punctuation">;</span> <span class="token comment">// 0.19999999999999973</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_5-算术运算符-自增和自减运算符" tabindex="-1"><a class="header-anchor" href="#_5-算术运算符-自增和自减运算符" aria-hidden="true">#</a> 5.算术运算符：自增和自减运算符</h3><h4 id="_1-基础使用" tabindex="-1"><a class="header-anchor" href="#_1-基础使用" aria-hidden="true">#</a> 1）基础使用</h4><ul><li>是一元运算符</li><li>作用是将运算子首先转为数值，然后加上 1 或者减去 1</li><li>会修改原始变量</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token operator">++</span>x<span class="token punctuation">;</span> <span class="token comment">// 2</span>
x<span class="token punctuation">;</span> <span class="token comment">// 2</span>

<span class="token operator">--</span>x<span class="token punctuation">;</span> <span class="token comment">// 1</span>
x<span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>运算之后，变量的值发生变化，这种效应叫做运算的副作用（side effect）</li><li><mark>自增和自减运算符是仅有的两个具有副作用的运算符</mark>，其他运算符都不会改变变量的值</li></ul><h4 id="_2-运算顺序" tabindex="-1"><a class="header-anchor" href="#_2-运算顺序" aria-hidden="true">#</a> 2）运算顺序</h4><ul><li>自增和自减运算符放在变量之后，会先返回变量操作前的值，再进行自增/自减操作</li><li>放在变量之前，会先进行自增/自减操作，再返回变量操作后的值</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

x<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
<span class="token operator">++</span>y<span class="token punctuation">;</span> <span class="token comment">// 2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-算术运算符-数值运算符-负数值运算符" tabindex="-1"><a class="header-anchor" href="#_6-算术运算符-数值运算符-负数值运算符" aria-hidden="true">#</a> 6.算术运算符：数值运算符，负数值运算符</h3><h4 id="_1-数值运算符" tabindex="-1"><a class="header-anchor" href="#_1-数值运算符" aria-hidden="true">#</a> 1）数值运算符（<code>+</code>）</h4><ul><li>同样使用加号，但它是一元运算符（只需要一个操作数） <ul><li>而加法运算符是二元运算符（需要两个操作数）</li></ul></li><li>可以将任何值转为数值（与 <code>Number</code> 函数的作用相同）</li><li>返回一个新的值，不会改变原始变量的值</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">+</span><span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
<span class="token operator">+</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
<span class="token operator">+</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-负数值运算符" tabindex="-1"><a class="header-anchor" href="#_2-负数值运算符" aria-hidden="true">#</a> 2）负数值运算符（<code>-</code>）</h4><ul><li>将一个值转为数值，只不过得到的值正负相反</li><li>连用两个负数值运算符，等同于数值运算符</li><li>返回一个新的值，不会改变原始变量的值</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token operator">-</span>x<span class="token punctuation">;</span> <span class="token comment">// -1</span>
<span class="token operator">-</span><span class="token punctuation">(</span><span class="token operator">-</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-算术运算符-指数运算符" tabindex="-1"><a class="header-anchor" href="#_7-算术运算符-指数运算符" aria-hidden="true">#</a> 7.算术运算符：指数运算符</h3><ul><li>指数运算符（<code>**</code>）完成指数运算，前一个运算子是底数，后一个运算子是指数</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token number">2</span> <span class="token operator">**</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">// 16</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>指数运算符是右结合，而不是左结合</li><li>即：多个指数运算符连用时，先进行最右边的计算</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 相当于 2 ** (3 ** 2)</span>
<span class="token number">2</span> <span class="token operator">**</span> <span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 512</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8-算术运算符-赋值运算符" tabindex="-1"><a class="header-anchor" href="#_8-算术运算符-赋值运算符" aria-hidden="true">#</a> 8.算术运算符：赋值运算符</h3><ul><li>赋值运算符（Assignment Operators）用于给变量赋值</li><li>最常见的赋值运算符是等号（<code>=</code>）</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 将 1 赋值给变量 x</span>
<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token comment">// 将变量 y 的值赋值给变量 x</span>
<span class="token keyword">var</span> x <span class="token operator">=</span> y<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>赋值运算符还可以与其他运算符结合，形成变体</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 等同于 x = x + y</span>
x <span class="token operator">+=</span> y<span class="token punctuation">;</span>

<span class="token comment">// 等同于 x = x - y</span>
x <span class="token operator">-=</span> y<span class="token punctuation">;</span>

<span class="token comment">// 等同于 x = x * y</span>
x <span class="token operator">*=</span> y<span class="token punctuation">;</span>

<span class="token comment">// 等同于 x = x / y</span>
x <span class="token operator">/=</span> y<span class="token punctuation">;</span>

<span class="token comment">// 等同于 x = x % y</span>
x <span class="token operator">%=</span> y<span class="token punctuation">;</span>

<span class="token comment">// 等同于 x = x ** y</span>
x <span class="token operator">**=</span> y<span class="token punctuation">;</span>

<span class="token comment">// 等同于 x = x &gt;&gt; y</span>
x <span class="token operator">&gt;&gt;=</span> y<span class="token punctuation">;</span>

<span class="token comment">// 等同于 x = x &lt;&lt; y</span>
x <span class="token operator">&lt;&lt;=</span> y<span class="token punctuation">;</span>

<span class="token comment">// 等同于 x = x &gt;&gt;&gt; y</span>
x <span class="token operator">&gt;&gt;&gt;=</span> y<span class="token punctuation">;</span>

<span class="token comment">// 等同于 x = x &amp; y</span>
x <span class="token operator">&amp;=</span> y<span class="token punctuation">;</span>

<span class="token comment">// 等同于 x = x | y</span>
x <span class="token operator">|=</span> y<span class="token punctuation">;</span>

<span class="token comment">// 等同于 x = x ^ y</span>
x <span class="token operator">^=</span> y<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>先进行指定运算，然后将得到值返回给左边的变量</li></ul><h3 id="_9-比较运算符" tabindex="-1"><a class="header-anchor" href="#_9-比较运算符" aria-hidden="true">#</a> 9.比较运算符</h3><ul><li>用于比较两个值的大小</li><li>返回一个布尔值，表示是否满足指定的条件</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token number">2</span> <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>比较运算符可以比较各种类型的值，不仅仅是数值</li><li>JavaScript 一共提供了 8 个比较运算符</li></ul><table><thead><tr><th>运算符</th><th>含义</th></tr></thead><tbody><tr><td><code>&gt;</code></td><td>大于运算符</td></tr><tr><td><code>&lt;</code></td><td>小于运算符</td></tr><tr><td><code>&lt;=</code></td><td>小于或等于运算符</td></tr><tr><td><code>&gt;=</code></td><td>大于或等于运算符</td></tr><tr><td><code>==</code></td><td>相等运算符</td></tr><tr><td><code>===</code></td><td>严格相等运算符</td></tr><tr><td><code>!=</code></td><td>不相等运算符</td></tr><tr><td><code>!==</code></td><td>严格不相等运算符</td></tr></tbody></table><ul><li>分成两类：相等比较和非相等比较</li><li>对于非相等的比较，算法是先看两个运算子是否都是字符串 <ul><li>如果是，就按照字典顺序比较（实际上是比较 Unicode 码点）</li><li>否则，将两个运算子都转成数值，再比较数值的大小</li></ul></li></ul><h3 id="_10-比较运算符-非相等运算符" tabindex="-1"><a class="header-anchor" href="#_10-比较运算符-非相等运算符" aria-hidden="true">#</a> 10.比较运算符：非相等运算符</h3><h4 id="_1-字符串的比较" tabindex="-1"><a class="header-anchor" href="#_1-字符串的比较" aria-hidden="true">#</a> 1）字符串的比较</h4><ul><li>字符串按照字典顺序进行比较</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token string">&quot;cat&quot;</span> <span class="token operator">&gt;</span> <span class="token string">&quot;dog&quot;</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token string">&quot;cat&quot;</span> <span class="token operator">&gt;</span> <span class="token string">&quot;catalog&quot;</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>JavaScript 引擎内部首先比较首字符的 Unicode 码点</li><li>如果相等，再比较第二个字符的 Unicode 码点</li><li>以此类推</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token string">&quot;cat&quot;</span> <span class="token operator">&gt;</span> <span class="token string">&quot;Cat&quot;</span><span class="token punctuation">;</span> <span class="token comment">// true&#39;</span>

<span class="token string">&quot;大&quot;</span> <span class="token operator">&gt;</span> <span class="token string">&quot;小&quot;</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-非字符串的比较" tabindex="-1"><a class="header-anchor" href="#_2-非字符串的比较" aria-hidden="true">#</a> 2）非字符串的比较</h4><ul><li>如果两个运算子中至少有一个不是字符串，需要分成以下两种情况</li></ul><h5 id="a-原始类型值" tabindex="-1"><a class="header-anchor" href="#a-原始类型值" aria-hidden="true">#</a> a）原始类型值</h5><ul><li>如果两个运算子都是原始类型的值，则是先转成数值再比较</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token number">5</span> <span class="token operator">&gt;</span> <span class="token string">&quot;4&quot;</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token comment">// 等同于 5 &gt; Number(&#39;4&#39;)</span>
<span class="token comment">// 即 5 &gt; 4</span>

<span class="token boolean">true</span> <span class="token operator">&gt;</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token comment">// 等同于 Number(true) &gt; Number(false)</span>
<span class="token comment">// 即 1 &gt; 0</span>

<span class="token number">2</span> <span class="token operator">&gt;</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token comment">// 等同于 2 &gt; Number(true)</span>
<span class="token comment">// 即 2 &gt; 1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>与 <code>NaN</code> 的比较</li><li>任何值（包括 <code>NaN</code> 本身）与 <code>NaN</code> 使用非相等运算符进行比较，返回的都是 <code>false</code></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token number">1</span> <span class="token operator">&gt;</span> <span class="token number">NaN</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token number">1</span> <span class="token operator">&lt;=</span> <span class="token number">NaN</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token string">&quot;1&quot;</span> <span class="token operator">&gt;</span> <span class="token number">NaN</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token string">&quot;1&quot;</span> <span class="token operator">&lt;=</span> <span class="token number">NaN</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token number">NaN</span> <span class="token operator">&gt;</span> <span class="token number">NaN</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token number">NaN</span> <span class="token operator">&lt;=</span> <span class="token number">NaN</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="b-对象" tabindex="-1"><a class="header-anchor" href="#b-对象" aria-hidden="true">#</a> b）对象</h5><ul><li>如果运算子是对象，会转为原始类型的值，再进行比较</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
x <span class="token operator">&gt;</span> <span class="token string">&quot;11&quot;</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token comment">// 等同于 [2].valueOf().toString() &gt; &#39;11&#39;</span>
<span class="token comment">// 即 &#39;2&#39; &gt; &#39;11&#39;</span>

x<span class="token punctuation">.</span><span class="token function-variable function">valueOf</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
x <span class="token operator">&gt;</span> <span class="token string">&quot;11&quot;</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token comment">// 等同于 [2].valueOf() &gt; &#39;11&#39;</span>
<span class="token comment">// 即 &#39;1&#39; &gt; &#39;11&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>两个对象之间的比较也是如此</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token comment">// 等同于 [2].valueOf().toString() &gt; [1].valueOf().toString()</span>
<span class="token comment">// 即 &#39;2&#39; &gt; &#39;1&#39;</span>

<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token comment">// 等同于 [2].valueOf().toString() &gt; [11].valueOf().toString()</span>
<span class="token comment">// 即 &#39;2&#39; &gt; &#39;11&#39;</span>

<span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span> <span class="token operator">&gt;=</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token comment">// 等同于 { x: 2 }.valueOf().toString() &gt;= { x: 1 }.valueOf().toString()</span>
<span class="token comment">// 即 &#39;[object Object]&#39; &gt;= &#39;[object Object]&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_11-比较运算符-严格相等运算符" tabindex="-1"><a class="header-anchor" href="#_11-比较运算符-严格相等运算符" aria-hidden="true">#</a> 11.比较运算符：严格相等运算符</h3><ul><li>JavaScript 提供两种相等运算符：<code>==</code> 和 <code>===</code></li><li>相等运算符（<code>==</code>）比较两个值是否相等 <ul><li>严格相等运算符（<code>===</code>）比较它们是否为“同一个值”</li></ul></li><li>如果两个值不是同一类型，严格相等运算符（<code>===</code>）直接返回 <code>false</code><ul><li>而相等运算符（<code>==</code>）会将它们转换成同一个类型，再用严格相等运算符进行比较</li></ul></li></ul><h4 id="_1-不同类型的值" tabindex="-1"><a class="header-anchor" href="#_1-不同类型的值" aria-hidden="true">#</a> 1）不同类型的值</h4><ul><li>如果两个值的类型不同，直接返回 <code>false</code></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token number">1</span> <span class="token operator">===</span> <span class="token string">&quot;1&quot;</span>； <span class="token comment">// false</span>
<span class="token boolean">true</span> <span class="token operator">===</span> <span class="token string">&quot;true&quot;</span>； <span class="token comment">// false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-同一类的原始类型值" tabindex="-1"><a class="header-anchor" href="#_2-同一类的原始类型值" aria-hidden="true">#</a> 2）同一类的原始类型值</h4><ul><li>同一类型的原始类型的值（数值、字符串、布尔值）比较时</li><li>值相同就返回 <code>true</code> ，值不同就返回 <code>false</code></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token number">1</span> <span class="token operator">===</span> <span class="token number">0x1</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><code>NaN</code> 与任何值都不相等（包括自身）</li><li>正 <code>0</code> 等于负 <code>0</code></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token number">NaN</span> <span class="token operator">===</span> <span class="token number">NaN</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token operator">+</span><span class="token number">0</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-复合类型值" tabindex="-1"><a class="header-anchor" href="#_3-复合类型值" aria-hidden="true">#</a> 3）复合类型值</h4><ul><li>两个复合类型（对象、数组、函数）的数据比较时，不是比较它们的值是否相等</li><li>而是比较它们是否指向同一个地址</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">===</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">===</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>如果两个变量引用同一个对象，则它们相等</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> v1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> v2 <span class="token operator">=</span> v1<span class="token punctuation">;</span>
v1 <span class="token operator">===</span> v2<span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">注意</p><p>对于两个对象的比较，严格相等运算符比较的是地址，而大于或小于运算符比较的是值</p></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

obj1 <span class="token operator">&gt;</span> obj2<span class="token punctuation">;</span> <span class="token comment">// false</span>
obj1 <span class="token operator">&lt;</span> obj2<span class="token punctuation">;</span> <span class="token comment">// false</span>
obj1 <span class="token operator">===</span> obj2<span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-undefined-和-null" tabindex="-1"><a class="header-anchor" href="#_4-undefined-和-null" aria-hidden="true">#</a> 4）undefined 和 null</h4><ul><li><code>undefined</code> 和 <code>null</code> 与自身严格相等</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">undefined</span> <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token keyword">null</span> <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>由于变量声明后默认值是<code>undefined</code>，因此两个只声明未赋值的变量是相等的</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> v1<span class="token punctuation">;</span>
<span class="token keyword">var</span> v2<span class="token punctuation">;</span>
v1 <span class="token operator">===</span> v2<span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_12-比较运算符-严格不相等运算符" tabindex="-1"><a class="header-anchor" href="#_12-比较运算符-严格不相等运算符" aria-hidden="true">#</a> 12.比较运算符：严格不相等运算符</h3><ul><li>严格不相等运算符（<code>!==</code>）的算法是先求严格相等运算符的结果，然后返回相反值</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token number">1</span> <span class="token operator">!==</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token comment">// 等同于</span>
<span class="token operator">!</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">===</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_13-比较运算符-相等运算符" tabindex="-1"><a class="header-anchor" href="#_13-比较运算符-相等运算符" aria-hidden="true">#</a> 13.比较运算符：相等运算符</h3><ul><li>相等运算符用来比较相同类型的数据时，与严格相等运算符完全一样</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token number">1</span> <span class="token operator">==</span> <span class="token number">1.0</span><span class="token punctuation">;</span>
<span class="token comment">// 等同于</span>
<span class="token number">1</span> <span class="token operator">===</span> <span class="token number">1.0</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>比较不同类型的数据时先将数据进行类型转换，然后再用严格相等运算符比较</li></ul><h4 id="_1-原始类型值" tabindex="-1"><a class="header-anchor" href="#_1-原始类型值" aria-hidden="true">#</a> 1）原始类型值</h4><ul><li>原始类型的值会转换成数值再进行比较</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token number">1</span> <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token comment">// 等同于 1 === Number(true)</span>

<span class="token number">0</span> <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token comment">// 等同于 0 === Number(false)</span>

<span class="token number">2</span> <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token comment">// 等同于 2 === Number(true)</span>

<span class="token number">2</span> <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token comment">// 等同于 2 === Number(false)</span>

<span class="token string">&quot;true&quot;</span> <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token comment">// 等同于 Number(&#39;true&#39;) === Number(true)</span>
<span class="token comment">// 等同于 NaN === 1</span>

<span class="token string">&quot;&quot;</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token comment">// 等同于 Number(&#39;&#39;) === 0</span>
<span class="token comment">// 等同于 0 === 0</span>

<span class="token string">&quot;&quot;</span> <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token comment">// 等同于 Number(&#39;&#39;) === Number(false)</span>
<span class="token comment">// 等同于 0 === 0</span>

<span class="token string">&quot;1&quot;</span> <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token comment">// 等同于 Number(&#39;1&#39;) === Number(true)</span>
<span class="token comment">// 等同于 1 === 1</span>

<span class="token string">&quot;\\n  123  \\t&quot;</span> <span class="token operator">==</span> <span class="token number">123</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token comment">// 因为字符串转为数字时，省略前置和后置的空格</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-对象与原始类型值比较" tabindex="-1"><a class="header-anchor" href="#_2-对象与原始类型值比较" aria-hidden="true">#</a> 2）对象与原始类型值比较</h4><ul><li>对象转换成原始类型的值，再进行比较</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 数组与数值的比较</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token comment">// 数组与字符串的比较</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">&quot;1,2&quot;</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token comment">// 对象与布尔值的比较</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">valueOf</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;执行 valueOf()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">toString</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;执行 toString()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

obj <span class="token operator">==</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 执行 valueOf()</span>
<span class="token comment">// 执行 toString()</span>
<span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-undefined-和-null" tabindex="-1"><a class="header-anchor" href="#_3-undefined-和-null" aria-hidden="true">#</a> 3）undefined 和 null</h4><ul><li><code>undefined</code> 和 <code>null</code> 只有与自身比较，或者互相比较时，才会返回 <code>true</code></li><li>与其他类型的值比较时，结果都为 <code>false</code></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">undefined</span> <span class="token operator">==</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token keyword">null</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token keyword">undefined</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token boolean">false</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token boolean">false</span> <span class="token operator">==</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

<span class="token number">0</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token number">0</span> <span class="token operator">==</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-相等运算符的缺点" tabindex="-1"><a class="header-anchor" href="#_4-相等运算符的缺点" aria-hidden="true">#</a> 4）相等运算符的缺点</h4><ul><li>相等运算符隐藏的类型转换，会带来一些违反直觉的结果</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token number">0</span> <span class="token operator">==</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token number">0</span> <span class="token operator">==</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token number">2</span> <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token number">2</span> <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

<span class="token boolean">false</span> <span class="token operator">==</span> <span class="token string">&quot;false&quot;</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token boolean">false</span> <span class="token operator">==</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token boolean">false</span> <span class="token operator">==</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token boolean">false</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token keyword">null</span> <span class="token operator">==</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token string">&quot; \\t\\r\\n &quot;</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>这些表达式都不同于直觉，很容易出错</li><li>建议不要使用相等运算符（<code>==</code>），最好只使用严格相等运算符（<code>===</code>）</li></ul><h3 id="_14-比较运算符-不相等运算符" tabindex="-1"><a class="header-anchor" href="#_14-比较运算符-不相等运算符" aria-hidden="true">#</a> 14.比较运算符：不相等运算符</h3><ul><li>不相等运算符（<code>!=</code>）的算法是先求相等运算符的结果，然后返回相反值</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token number">1</span> <span class="token operator">!=</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

<span class="token comment">// 等同于</span>
<span class="token operator">!</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">==</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_15-布尔运算符-逻辑运算符" tabindex="-1"><a class="header-anchor" href="#_15-布尔运算符-逻辑运算符" aria-hidden="true">#</a> 15.布尔运算符（逻辑运算符）</h3><ul><li>用于将表达式转为布尔值，一共包含四个运算符</li></ul><table><thead><tr><th>运算符</th><th>符号</th></tr></thead><tbody><tr><td>取反运算符</td><td><code>!</code></td></tr><tr><td>且（并）运算符</td><td><code>&amp;&amp;</code></td></tr><tr><td>或运算符</td><td><code>||</code></td></tr><tr><td>三元运算符</td><td><code>?:</code></td></tr></tbody></table><h3 id="_16-布尔运算符-取反运算符" tabindex="-1"><a class="header-anchor" href="#_16-布尔运算符-取反运算符" aria-hidden="true">#</a> 16.布尔运算符：取反运算符</h3><ul><li>取反运算符（!）是一个感叹号，用于将布尔值变为相反值</li><li>即：<code>true</code> 变成 <code>false</code> ，<code>false</code> 变成 <code>true</code></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">!</span><span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token operator">!</span><span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>对于非布尔值，取反运算符会将其转为布尔值</li><li>以下六个值取反后为 <code>true</code> ，其他值都为 <code>false</code><ul><li><code>undefined</code></li><li><code>null</code></li><li><code>false</code></li><li><code>0</code></li><li><code>NaN</code></li><li>空字符串（<code>&#39;&#39;</code>）</li></ul></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">!</span><span class="token keyword">undefined</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token operator">!</span><span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token operator">!</span><span class="token number">NaN</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token operator">!</span><span class="token string">&quot;&quot;</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token operator">!</span><span class="token number">54</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token operator">!</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token operator">!</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token operator">!</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>如果对一个值连续做两次取反运算，等于将其转为对应的布尔值</li><li>与 <code>Boolean</code> 函数的作用相同</li><li>这是一种常用的类型转换的写法</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">!</span><span class="token operator">!</span>x<span class="token punctuation">;</span>
<span class="token comment">// 等同于</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_17-布尔运算符-且运算符" tabindex="-1"><a class="header-anchor" href="#_17-布尔运算符-且运算符" aria-hidden="true">#</a> 17.布尔运算符：且运算符</h3><ul><li>且运算符（<code>&amp;&amp;</code>）往往用于多个表达式的求值</li><li>如果第一个运算子的布尔值为 <code>true</code> ，则返回 <mark>第二个运算子的值</mark>（注意是值，不是布尔值）</li><li>如果第一个运算子的布尔值为 <code>false</code>，则直接返回 <mark>第一个运算子的值</mark>，且不再对第二个运算子求值</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token string">&quot;t&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span> <span class="token comment">// &quot;&quot;</span>
<span class="token string">&quot;t&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token string">&quot;f&quot;</span><span class="token punctuation">;</span> <span class="token comment">// &quot;f&quot;</span>
<span class="token string">&quot;t&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
<span class="token string">&quot;&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token string">&quot;f&quot;</span><span class="token punctuation">;</span> <span class="token comment">// &quot;&quot;</span>
<span class="token string">&quot;&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span> <span class="token comment">// &quot;&quot;</span>

<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token number">1</span> <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>x <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
x<span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>这种跳过第二个运算子的机制，被称为“短路”</li><li>有时可以取代 <code>if</code> 结构</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 等价于</span>
i <span class="token operator">&amp;&amp;</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>且运算符可以多个连用，这时返回 <mark>第一个布尔值为 <code>false</code> 的表达式的值</mark></li><li>如果所有表达式的布尔值都为 <code>true</code>，则返回 <mark>最后一个表达式的值</mark></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token boolean">true</span> <span class="token operator">&amp;&amp;</span> <span class="token string">&quot;foo&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token string">&quot;&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token number">4</span> <span class="token operator">&amp;&amp;</span> <span class="token string">&quot;foo&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// &#39;&#39;</span>

<span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token number">2</span> <span class="token operator">&amp;&amp;</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_18-布尔运算符-或运算符" tabindex="-1"><a class="header-anchor" href="#_18-布尔运算符-或运算符" aria-hidden="true">#</a> 18.布尔运算符：或运算符</h3><ul><li>或运算符（<code>||</code>）也用于多个表达式的求值</li><li>如果第一个运算子的布尔值为 <code>true</code> ，则返回 <mark>第一个运算子的值</mark> ，且不再对第二个运算子求值</li><li>如果第一个运算子的布尔值为 <code>false</code> ，则返回 <mark>第二个运算子的值</mark></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token string">&quot;t&quot;</span> <span class="token operator">||</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span> <span class="token comment">// &quot;t&quot;</span>
<span class="token string">&quot;t&quot;</span> <span class="token operator">||</span> <span class="token string">&quot;f&quot;</span><span class="token punctuation">;</span> <span class="token comment">// &quot;t&quot;</span>
<span class="token string">&quot;&quot;</span> <span class="token operator">||</span> <span class="token string">&quot;f&quot;</span><span class="token punctuation">;</span> <span class="token comment">// &quot;f&quot;</span>
<span class="token string">&quot;&quot;</span> <span class="token operator">||</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span> <span class="token comment">// &quot;&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>短路规则对这个运算符也适用</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token boolean">true</span> <span class="token operator">||</span> <span class="token punctuation">(</span>x <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
x<span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>这种只通过第一个表达式的值，控制是否运行第二个表达式的机制，就称为“短路”（short-cut）</li><li>或运算符可以多个连用，这时返回 <mark>第一个布尔值为 <code>true</code> 的表达式的值</mark></li><li>如果所有表达式都为 <code>false</code> ，则返回 <mark>最后一个表达式的值</mark></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token boolean">false</span> <span class="token operator">||</span> <span class="token number">0</span> <span class="token operator">||</span> <span class="token string">&quot;&quot;</span> <span class="token operator">||</span> <span class="token number">4</span> <span class="token operator">||</span> <span class="token string">&quot;foo&quot;</span> <span class="token operator">||</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// 4</span>

<span class="token boolean">false</span> <span class="token operator">||</span> <span class="token number">0</span> <span class="token operator">||</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span> <span class="token comment">// &#39;&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>或运算符常用于为一个变量设置默认值</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">saveText</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  text <span class="token operator">=</span> text <span class="token operator">||</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>

<span class="token comment">// 或者写成</span>
<span class="token function">saveText</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>text <span class="token operator">||</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_19-布尔运算符-三元条件运算符" tabindex="-1"><a class="header-anchor" href="#_19-布尔运算符-三元条件运算符" aria-hidden="true">#</a> 19.布尔运算符：三元条件运算符</h3><ul><li>三元条件运算符（?:）由问号（?）和冒号（:）组成，分隔三个表达式</li><li>是唯一一个需要三个运算子的运算符</li><li>如果第一个表达式的布尔值为 <code>true</code> ，则返回第二个表达式的值，否则返回第三个表达式的值</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token string">&quot;t&quot;</span> <span class="token operator">?</span> <span class="token string">&quot;hello&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;world&quot;</span><span class="token punctuation">;</span> <span class="token comment">// &quot;hello&quot;</span>
<span class="token number">0</span> <span class="token operator">?</span> <span class="token string">&quot;hello&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;world&quot;</span><span class="token punctuation">;</span> <span class="token comment">// &quot;world&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>三元条件表达式与 <code>if...else</code> 语句具有同样表达效果</li><li><code>if...else</code> 是语句，没有返回值</li><li>三元条件表达式是表达式，具有返回值</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">true</span> <span class="token operator">?</span> <span class="token string">&quot;T&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;F&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// T</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_20-位运算符" tabindex="-1"><a class="header-anchor" href="#_20-位运算符" aria-hidden="true">#</a> 20.位运算符</h3><ul><li>按位运算符是将操作数换算成 32 位的二进制整数，然后按每一位来进行运算</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>5 的 32 位为：
00000000000000000000000000000101

100 的 32 位为：
00000000000000000000000001100100

15 的 32 位为：
00000000000000000000000000001111
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_21-位运算符-按位非" tabindex="-1"><a class="header-anchor" href="#_21-位运算符-按位非" aria-hidden="true">#</a> 21.位运算符：按位非</h3><ul><li>按位非运算符 <code>~</code> 会把数字转为 32 位二进制整数，然后反转每一位</li><li>所有的 1 变为 0，所有的 0 变为 1</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>5 的 32 位为：
00000000000000000000000000000101

~5 的 32 位为：
11111111111111111111111111111010
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>转换出来就为 -6</li><li>按位非，实质上是对操作数求负，然后减去 1</li></ul><h3 id="_22-位运算符-按位与" tabindex="-1"><a class="header-anchor" href="#_22-位运算符-按位与" aria-hidden="true">#</a> 22.位运算符：按位与</h3><ul><li>按位或运算符 <code>&amp;</code> 会把两个数字转为 32 位二进制整数，并对两个数的每一位执行按位与运算</li><li>全 1 为 1</li></ul><table><thead><tr><th>第一个数字</th><th>第二个数字</th><th>结果</th></tr></thead><tbody><tr><td>1</td><td>1</td><td>1</td></tr><tr><td>1</td><td>0</td><td>0</td></tr><tr><td>0</td><td>1</td><td>0</td></tr><tr><td>0</td><td>0</td><td>0</td></tr></tbody></table><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">12</span> <span class="token operator">&amp;</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 8</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>12 的 32 位二进制表示为：1100</li><li>10 的 32 位二进制表示为：1010</li><li>按位与的结果为：1000</li></ul><h3 id="_23-位运算符-按位或" tabindex="-1"><a class="header-anchor" href="#_23-位运算符-按位或" aria-hidden="true">#</a> 23.位运算符：按位或</h3><ul><li>按位或运算符 <code>|</code> 会把两个数字转为 32 位二进制整数，并对两个数的每一位执行按位或运算</li><li>全 0 为 0</li></ul><table><thead><tr><th>第一个数字</th><th>第二个数字</th><th>结果</th></tr></thead><tbody><tr><td>1</td><td>1</td><td>1</td></tr><tr><td>1</td><td>0</td><td>1</td></tr><tr><td>0</td><td>1</td><td>1</td></tr><tr><td>0</td><td>0</td><td>0</td></tr></tbody></table><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">12</span> <span class="token operator">|</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 14</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>12 的 32 位二进制表示为：1100</li><li>10 的 32 位二进制表示为：1010</li><li>按位或的结果为：1110</li></ul><h3 id="_24-位运算符-按位异或" tabindex="-1"><a class="header-anchor" href="#_24-位运算符-按位异或" aria-hidden="true">#</a> 24.位运算符：按位异或</h3><ul><li>按位或运算符 <code>^</code> 会把两个数字转为 32 位二进制整数，并对两个数的每一位执行按位异或运算</li><li>异 1 同 0</li></ul><table><thead><tr><th>第一个数字</th><th>第二个数字</th><th>结果</th></tr></thead><tbody><tr><td>1</td><td>1</td><td>0</td></tr><tr><td>1</td><td>0</td><td>1</td></tr><tr><td>0</td><td>1</td><td>1</td></tr><tr><td>0</td><td>0</td><td>0</td></tr></tbody></table><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">12</span> <span class="token operator">^</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 6</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>12 的 32 位二进制表示为：1100</li><li>10 的 32 位二进制表示为：1010</li><li>按位异或的结果为：0110</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// Hello 被转换为了 NaN</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">true</span> <span class="token operator">^</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">false</span> <span class="token operator">^</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">true</span> <span class="token operator">^</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span> <span class="token operator">^</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">false</span> <span class="token operator">^</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">true</span> <span class="token operator">^</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>如果是非整数值，两个操作数中只有一个为真，就返回 1</li><li>如果两个操作数都是真，或者都是假，就返回 0</li></ul><h3 id="_25-位运算符-按位移位" tabindex="-1"><a class="header-anchor" href="#_25-位运算符-按位移位" aria-hidden="true">#</a> 25.位运算符：按位移位</h3><ul><li>按位移位运算符 <code>&lt;&lt;</code> 和 <code>&gt;&gt;</code> 会将所有位向左或者向右移动指定的数量</li><li>实际上就是高效率地将数字乘以或者除以 2 的指定数的次方</li><li><code>&lt;&lt;</code>：乘以 2 的指定数次方</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">&lt;&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 8</span>
<span class="token comment">// 2 乘以 2 的 2 次方</span>
<span class="token comment">// 00000010 转换为 00001000</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>&gt;&gt;</code>：除以 2 的指定数次方</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">16</span> <span class="token operator">&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 8</span>
<span class="token comment">// 16 除以 2 的 1 次方</span>
<span class="token comment">// 00010000转换为00001000</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_26-其他运算符" tabindex="-1"><a class="header-anchor" href="#_26-其他运算符" aria-hidden="true">#</a> 26.其他运算符</h3><h4 id="_1-void-运算符" tabindex="-1"><a class="header-anchor" href="#_1-void-运算符" aria-hidden="true">#</a> 1）void 运算符</h4><ul><li>执行一个表达式，然后不返回任何值，或者说返回 undefined</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">void</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
<span class="token comment">// void (0); // undefined</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>推荐括号写法</li><li>void 运算符的优先性很高，如果不使用括号，容易造成错误的结果</li><li>如：“void 4 + 7” 实际上等同于 “(void 4) + 7”</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token punctuation">(</span>x <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
x<span class="token punctuation">;</span> <span class="token comment">// 5</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>这个运算符的主要用途是浏览器的书签工具（Bookmarklet），以及在超级链接中插入代码防止网页跳转</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Hello World&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- &lt;a href=&quot;http://example.com&quot; onclick=&quot;f(); return false;&quot;&gt;点击&lt;/a&gt; --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript: void(f())<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>点击<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>用户点击链接提交表单，但是不产生页面跳转</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript: void(document.form.submit())<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>提交<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_2-逗号运算符" tabindex="-1"><a class="header-anchor" href="#_2-逗号运算符" aria-hidden="true">#</a> 2）逗号运算符</h4><ul><li>对两个表达式求值，并返回后一个表达式的值</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">;</span> <span class="token comment">// &quot;b&quot;</span>

<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token operator">++</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
x<span class="token punctuation">;</span> <span class="token comment">// 1</span>
y<span class="token punctuation">;</span> <span class="token comment">// 10</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>逗号运算符的一个用途是，在返回一个值之前，进行一些辅助操作</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> value <span class="token operator">=</span> <span class="token punctuation">(</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Hi!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hi!</span>

value<span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_27-运算顺序" tabindex="-1"><a class="header-anchor" href="#_27-运算顺序" aria-hidden="true">#</a> 27.运算顺序</h3><h4 id="_1-优先级" tabindex="-1"><a class="header-anchor" href="#_1-优先级" aria-hidden="true">#</a> 1）优先级</h4><ul><li>各种运算符的优先级别（Operator Precedence）是不一样的</li><li>优先级高的运算符先执行，优先级低的运算符后执行</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token number">4</span> <span class="token operator">+</span> <span class="token number">5</span> <span class="token operator">*</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">// 34</span>
<span class="token comment">// 4 + (5 * 6); // 34</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>乘法运算符（ <code>*</code> ）的优先性高于加法运算符（ <code>+</code> ）</li><li>先执行乘法，再执行加法</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> y <span class="token operator">=</span> arr<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token operator">||</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">?</span> x <span class="token operator">:</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// var y = ((arr.length &lt;= 0) || (arr[0] === undefined)) ? x : arr[0];</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>根据语言规格，这五个运算符的优先级从高到低依次为 <ul><li>小于等于（ &lt;= )</li><li>严格相等（ === ）</li><li>或（ || ）</li><li>三元（ ?: ）</li><li>等号（ = ）</li></ul></li><li>记住所有运算符的优先级，是非常难的，也是没有必要的</li></ul><h4 id="_2-圆括号的作用" tabindex="-1"><a class="header-anchor" href="#_2-圆括号的作用" aria-hidden="true">#</a> 2）圆括号的作用</h4><ul><li>用来提高运算的优先级</li><li>因为它的优先级是最高的，即圆括号中的表达式会第一个运算</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token number">4</span> <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">// 54</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>圆括号不是运算符，而是一种语法结构</li><li>一共有两种用法 <ul><li>把表达式放在圆括号之中，提升运算的优先级</li><li>跟在函数的后面，作用是调用函数</li></ul></li><li>因为圆括号不是运算符，所以不具有求值作用，只改变运算的优先级</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment">// (x) = 2;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>如果整个表达式都放在圆括号之中，那么不会有任何效果</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// (expression);</span>
<span class="token comment">// 等同于</span>
expression<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>函数放在圆括号中，会返回函数本身</li><li>如果圆括号紧跟在函数的后面，就表示调用函数</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// (f); // function f(){return 1;}</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>圆括号中只能放置表达式</li><li>如果将语句放在圆括号之中，就会报错</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment">// SyntaxError: Unexpected token var</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-左结合和右结合" tabindex="-1"><a class="header-anchor" href="#_3-左结合和右结合" aria-hidden="true">#</a> 3）左结合和右结合</h4><ul><li>对于优先级别相同的运算符，同时出现时就会有计算顺序的问题</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 方式一</span>
<span class="token punctuation">(</span>a <span class="token constant">OP</span> b<span class="token punctuation">)</span> <span class="token constant">OP</span> c

<span class="token comment">// 方式二</span>
a <span class="token constant">OP</span> <span class="token punctuation">(</span>b <span class="token constant">OP</span> c<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>方式一是将左侧两个运算数结合在一起 <ul><li>采用这种解释方式的运算符，称为“左结合”（left-to-right associativity）运算符</li></ul></li><li>方式二是将右侧两个运算数结合在一起 <ul><li>这样的运算符称为“右结合”运算符（right-to-left associativity）</li></ul></li><li>JavaScript 语言的大多数运算符是“左结合”</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>x <span class="token operator">+</span> y <span class="token operator">+</span> z<span class="token punctuation">;</span> <span class="token comment">// 引擎解释如下</span>
<span class="token comment">// (x + y) + z;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>少数运算符是“右结合”</li><li>最主要的是赋值运算符（ = ）和三元条件运算符（ ?: ）</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>w <span class="token operator">=</span> x <span class="token operator">=</span> y <span class="token operator">=</span> z<span class="token punctuation">;</span>
q <span class="token operator">=</span> a <span class="token operator">?</span> b <span class="token operator">:</span> c <span class="token operator">?</span> d <span class="token operator">:</span> e <span class="token operator">?</span> f <span class="token operator">:</span> g<span class="token punctuation">;</span>

<span class="token comment">// 引擎解释如下</span>
<span class="token comment">// w = (x = (y = z));</span>
<span class="token comment">// q = a ? b : (c ? d : (e ? f : g));</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>指数运算符（ <code>**</code> ）也是右结合</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token number">2</span> <span class="token operator">**</span> <span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 相当于 2 ** (3 ** 2)</span>
<span class="token comment">// 512</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_28-真题解答" tabindex="-1"><a class="header-anchor" href="#_28-真题解答" aria-hidden="true">#</a> 28.真题解答</h3><h4 id="_1-下面代码中-a-在什么情况下会执行输出语句打印-1" tabindex="-1"><a class="header-anchor" href="#_1-下面代码中-a-在什么情况下会执行输出语句打印-1" aria-hidden="true">#</a> 1）下面代码中，a 在什么情况下会执行输出语句打印 1？</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token operator">?</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> a <span class="token operator">==</span> <span class="token number">2</span> <span class="token operator">&amp;&amp;</span> a <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>方法一：利用 toString() 方法</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">i</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a<span class="token punctuation">.</span>i<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> a <span class="token operator">==</span> <span class="token number">2</span> <span class="token operator">&amp;&amp;</span> a <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>方法二：利用 valueOf() 方法</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">i</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a<span class="token punctuation">.</span>i<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> a <span class="token operator">==</span> <span class="token number">2</span> <span class="token operator">&amp;&amp;</span> a <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h2 id="六-原型和原型链" tabindex="-1"><a class="header-anchor" href="#六-原型和原型链" aria-hidden="true">#</a> （六）原型和原型链</h2><h3 id="_1-经典真题-5" tabindex="-1"><a class="header-anchor" href="#_1-经典真题-5" aria-hidden="true">#</a> 1.经典真题</h3><ul><li>说一说你对 JavaScript 中原型与原型链的理解？（美团 2019 年）</li><li>对一个构造函数实例化后，它的原型链指向什么？</li></ul><h3 id="_2-原型与原型链介绍" tabindex="-1"><a class="header-anchor" href="#_2-原型与原型链介绍" aria-hidden="true">#</a> 2.原型与原型链介绍</h3><ul><li>在 Brendan Eich 设计 JavaScript 时，借鉴了 Self 和 Smalltalk 这两门基于原型的语言</li><li>之所以选择基于原型的对象系统，是因为作者一开始就没有打算在 JavaScript 中加入类的概念</li><li>设计初衷就是为非专业的开发人员（例如网页设计者）提供一个方便的工具</li><li>由于大部分网页设计者都没有任何的编程背景，所以在设计 JavaScript 时也是尽可能使其简单、易学</li><li>所以 JavaScript 中的原型以及原型链成为了这门语言最大的一个特点</li><li>JavaScript 是一门基于原型的语言，<mark>对象是通过原型对象产生的</mark></li></ul><h3 id="_2-克隆对象" tabindex="-1"><a class="header-anchor" href="#_2-克隆对象" aria-hidden="true">#</a> 2.克隆对象</h3><ul><li>ES5 中提供了 Object.create 方法，可以用来克隆对象</li></ul><h4 id="_1-原型对象" tabindex="-1"><a class="header-anchor" href="#_1-原型对象" aria-hidden="true">#</a> 1）原型对象</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">arms</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token literal-property property">legs</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token function">walk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;walking&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> zhangsan <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>zhangsan<span class="token punctuation">.</span>arms<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>zhangsan<span class="token punctuation">.</span>legs<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
zhangsan<span class="token punctuation">.</span><span class="token function">walk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// walking</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>zhangsan<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> person<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>通过 Object.create 方法对 person 对象进行克隆，克隆出来一个名为 zhangsan 的对象</p><p>所以 person 对象就是 zhangsan 这个对象的原型对象</p><p>person 对象上面的属性和方法，zhangsan 这个对象上面都有</p></blockquote><ul><li>通过 <code>__proto__</code> 属性可以访问到一个对象的原型对象</li></ul><h4 id="_2-新属性" tabindex="-1"><a class="header-anchor" href="#_2-新属性" aria-hidden="true">#</a> 2）新属性</h4><ul><li>可以传入第 2 个参数，是一个 JSON 对象</li><li>该对象可以书写新对象的新属性以及属性特性</li><li>通过这种方式，基于对象创建的新对象，可以 <mark>继承</mark> 祖辈对象的属性和方法</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">arms</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token literal-property property">legs</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token function">walk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;walking&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> zhangsan <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">born</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&quot;chengdu&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> zhangxiaosan <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>zhangsan<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&quot;zhangxiaosan&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>zhangxiaosan<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// zhangxiaosan</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>zhangxiaosan<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>zhangxiaosan<span class="token punctuation">.</span>born<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// chengdu</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>zhangxiaosan<span class="token punctuation">.</span>arms<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>zhangxiaosan<span class="token punctuation">.</span>legs<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
zhangxiaosan<span class="token punctuation">.</span><span class="token function">walk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// walking</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>zhangsan<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span>zhangxiaosan<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span>zhangxiaosan<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>zhangsan 这个对象是从 person 这个对象克隆而来的，而 zhangxiaosan 这个对象又是从 zhangsan 这个对象克隆而来，以此 <mark>形成了一条原型链</mark></p><p>无论是 person 对象，还是 zhangsan 对象上面的属性和方法，zhangxiaosan 这个对象都能继承到</p></blockquote><p><img src="`+r+`" alt=""></p><ul><li>这就是 JavaScript 中最原始的创建对象的方式</li><li>一个对象是通过克隆另外一个对象所得到的</li><li>通过克隆可以创造一个一模一样的对象</li><li>被克隆的对象是新对象的原型对象</li></ul><h3 id="_3-构造函数模拟类" tabindex="-1"><a class="header-anchor" href="#_3-构造函数模拟类" aria-hidden="true">#</a> 3.构造函数模拟类</h3><blockquote><p>随着 JavaScript 语言的发展，这样创建对象的方式还是太过于麻烦了</p><p>开发者还是期望 JavaScript 能够像 Java、C# 等标准面向对象语言一样，通过类来批量的生成对象</p><p>于是出现了通过构造函数来模拟类的形式</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Computer</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> price</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 属性写在类里面</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>price <span class="token operator">=</span> price<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 方法挂在原型对象上面</span>
<span class="token class-name">Computer</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">showSth</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">这是一台</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">电脑</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> apple <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Computer</span><span class="token punctuation">(</span><span class="token string">&quot;苹果&quot;</span><span class="token punctuation">,</span> <span class="token number">12000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>apple<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 苹果</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>apple<span class="token punctuation">.</span>price<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 12000</span>
apple<span class="token punctuation">.</span><span class="token function">showSth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 这是一台苹果电脑</span>

<span class="token keyword">const</span> huawei <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Computer</span><span class="token punctuation">(</span><span class="token string">&quot;华为&quot;</span><span class="token punctuation">,</span> <span class="token number">7000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>huawei<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 华为</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>huawei<span class="token punctuation">.</span>price<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 7000</span>
huawei<span class="token punctuation">.</span><span class="token function">showSth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 这是一台华为电脑</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Computer 函数称为构造函数，为了区分普通函数和构造函数，一般构造函数的函数名会 <mark>首字母大写</mark></li><li>构造函数一般配合 new 关键字使用 <ul><li>每 new 一次，就会生成一个新的对象</li><li>在构造函数中的 this 就指向这个新生成的对象</li></ul></li><li>Computer 构造函数的实例方法并没有书写在构造函数里面，而是写在了 Computer.prototype 上 <ul><li>实际上就是 Computer 实例对象的原型对象</li></ul></li></ul><p><img src="`+d+`" alt=""></p><h4 id="_1-重要的三角关系" tabindex="-1"><a class="header-anchor" href="#_1-重要的三角关系" aria-hidden="true">#</a> 1）重要的三角关系</h4><ul><li>JavaScript 中每个对象都有一个原型对象 <ul><li>可以通过 <code>__proto__</code> 属性来访问到对象的原型对象</li></ul></li><li>构造函数的 <code>prototype</code> 属性指向一个对象 <ul><li>这个对象是该构造函数实例化出来的对象的原型对象</li></ul></li><li>原型对象的 <code>constructor</code> 属性也指向其构造函数</li><li>实例对象的 <code>constructor</code> 属性访问的是原型对象上的属性</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Computer</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> price</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 属性写在类里面</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>price <span class="token operator">=</span> price<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 方法挂在原型对象上面</span>
<span class="token class-name">Computer</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">showSth</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">这是一台</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">电脑</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> apple <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Computer</span><span class="token punctuation">(</span><span class="token string">&quot;苹果&quot;</span><span class="token punctuation">,</span> <span class="token number">12000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>apple<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Computer</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>apple<span class="token punctuation">.</span><span class="token class-name">__proto__</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> Computer<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Computer</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> price</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 属性写在类里面</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>price <span class="token operator">=</span> price<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 方法挂在原型对象上面</span>
<span class="token class-name">Computer</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">showSth</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">这是一台</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">电脑</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> apple <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Computer</span><span class="token punctuation">(</span><span class="token string">&quot;苹果&quot;</span><span class="token punctuation">,</span> <span class="token number">12000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>apple<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Computer</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>apple<span class="token punctuation">.</span><span class="token class-name">__proto__</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> Computer<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token comment">// 数组的三角关系</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token comment">// 其实所有的构造函数的原型对象都相同</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Computer<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> Array<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Computer<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> Date<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Computer<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> Number<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Computer<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> Function<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Computer<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> Object<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Computer<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>所有的构造函数，无论是自定义的还是内置的，它们的原型对象都是同一个对象</p></blockquote><h4 id="_2-原型对象的原型链" tabindex="-1"><a class="header-anchor" href="#_2-原型对象的原型链" aria-hidden="true">#</a> 2）原型对象的原型链</h4><p><img src="`+k+`" alt=""></p><ul><li>在 JavaScript 中，每一个对象，都有一个原型对象</li><li>而原型对象上面也有一个自己的原型对象，一层一层向上找，最终会到达 <mark>null</mark></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Computer</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> price</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 属性写在类里面</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>price <span class="token operator">=</span> price<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 方法挂在原型对象上面</span>
<span class="token class-name">Computer</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">showSth</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">这是一台</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">电脑</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> apple <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Computer</span><span class="token punctuation">(</span><span class="token string">&quot;苹果&quot;</span><span class="token punctuation">,</span> <span class="token number">12000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>apple<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [Object: null prototype] {}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>apple<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// null</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>apple<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+v+`" alt=""></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 自定义构造函数函数</span>
<span class="token keyword">function</span> <span class="token function">Computer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Computer<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// null</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Computer<span class="token punctuation">.</span><span class="token class-name">__proto__</span><span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> Computer<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
  Computer<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span><span class="token class-name">__proto__</span><span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> Computer<span class="token punctuation">.</span>__proto__
<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-真题解答" tabindex="-1"><a class="header-anchor" href="#_4-真题解答" aria-hidden="true">#</a> 4.真题解答</h3><h4 id="_1-说一说你对-javascript-中原型与原型链的理解-美团-2019-年" tabindex="-1"><a class="header-anchor" href="#_1-说一说你对-javascript-中原型与原型链的理解-美团-2019-年" aria-hidden="true">#</a> 1）说一说你对 JavaScript 中原型与原型链的理解？（美团 2019 年）</h4><blockquote><ul><li>每个对象都有一个 <code>__proto__</code> 属性，该属性指向自己的原型对象</li><li>每个构造函数都有一个 prototype 属性，该属性指向实例对象的原型对象</li><li>原型对象里的 constructor 指向构造函数本身</li></ul><br><p>每个对象都有自己的原型对象，而原型对象本身，也有自己的原型对象，从而形成了一条原型链条</p><br><p>当试图访问一个对象的属性时，它不仅仅在该对象上搜寻，还会搜寻该对象的原型，以及该对象的原型的原型，依次层层向上搜索，直到找到一个名字匹配的属性或到达原型链的末尾</p></blockquote><h4 id="_2-对一个构造函数实例化后-它的原型链指向什么" tabindex="-1"><a class="header-anchor" href="#_2-对一个构造函数实例化后-它的原型链指向什么" aria-hidden="true">#</a> 2）对一个构造函数实例化后，它的原型链指向什么？</h4><blockquote><p>指向该构造函数实例化出来对象的原型对象</p><p>对于构造函数来讲，可以通过 prototype 访问到该对象</p><p>对于实例对象来讲，可以通过隐式属性 <code>__proto__</code> 来访问到</p></blockquote><h2 id="七-执行栈和执行上下文" tabindex="-1"><a class="header-anchor" href="#七-执行栈和执行上下文" aria-hidden="true">#</a> （七）执行栈和执行上下文</h2><h3 id="_1-经典真题-6" tabindex="-1"><a class="header-anchor" href="#_1-经典真题-6" aria-hidden="true">#</a> 1.经典真题</h3><ul><li>谈谈你对 JavaScript 执行上下文栈理解</li></ul><h3 id="_2-执行上下文介绍" tabindex="-1"><a class="header-anchor" href="#_2-执行上下文介绍" aria-hidden="true">#</a> 2.执行上下文介绍</h3><ul><li>Execution Context，代码（全局代码、函数代码）执行前进行的准备工作，也称为执行上下文环境</li><li>运行 JavaScript 代码，当代码执行进入一个环境时，就会为该环境创建一个执行上下文 <ul><li>会在运行代码前做一些准备工作</li><li>如：确定作用域，创建局部变量对象等</li></ul></li></ul><h4 id="_1-javascript-中的执行环境" tabindex="-1"><a class="header-anchor" href="#_1-javascript-中的执行环境" aria-hidden="true">#</a> 1）JavaScript 中的执行环境</h4><ul><li>全局环境 =&gt; 全局执行上下文</li><li>函数环境 =&gt; 函数执行上下文</li><li>eval 函数环境（已不推荐使用） =&gt; eval 函数执行上下文</li></ul><h4 id="_2-顺序" tabindex="-1"><a class="header-anchor" href="#_2-顺序" aria-hidden="true">#</a> 2）顺序</h4><ul><li>JavaScript 运行时首先会进入全局环境，对应会生成全局上下文</li><li>程序代码中基本都会存在函数，调用函数就会进入函数执行环境，对应就会生成该函数的执行上下文 <ul><li>声明多个函数，对应会生成多个函数执行上下文</li></ul></li><li>在 JavaScript 中，通过 <mark>栈的存取方式</mark> 来管理执行上下文 <ul><li>称为执行栈，或函数调用栈（Call Stack）</li></ul></li></ul><h4 id="_3-栈数据结构" tabindex="-1"><a class="header-anchor" href="#_3-栈数据结构" aria-hidden="true">#</a> 3）栈数据结构</h4><ul><li>栈遵循“先进后出，后进先出”的规则，LIFO（Last In First Out）规则</li><li>栈中放入/取出的操作，也可称为入栈/出栈</li><li>栈数据结构的特点 <ul><li>后进先出，先进后出</li><li>出口在顶部，且仅有一个</li></ul></li></ul><h3 id="_3-执行栈-函数调用栈" tabindex="-1"><a class="header-anchor" href="#_3-执行栈-函数调用栈" aria-hidden="true">#</a> 3.执行栈（函数调用栈）</h3><ul><li>程序执行进入一个执行环境时，它的执行上下文就会被创建，并被推入执行栈中（入栈）</li><li>程序执行完成时，它的执行上下文就会被销毁，并从栈顶被推出（出栈），控制权交由下一个执行上下文</li><li>因为 JavaScript 在执行代码时最先进入全局环境 <ul><li><mark>处于栈底的永远是全局环境的执行上下文</mark></li><li><mark>处于栈顶的是当前正在执行函数的执行上下文</mark></li></ul></li><li>当函数调用完成后，就会从栈顶被推出 <ul><li>理想的情况下，闭包会阻止该操作</li></ul></li><li>全局环境只有一个，对应的全局执行上下文也只有一个 <ul><li>只有当页面被关闭之后它才会从执行栈中被推出，否则一直存在于栈底</li></ul></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;I am bar&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+m+`" alt=""></p><h3 id="_4-执行上下文的数量限制-堆栈溢出" tabindex="-1"><a class="header-anchor" href="#_4-执行上下文的数量限制-堆栈溢出" aria-hidden="true">#</a> 4.执行上下文的数量限制（堆栈溢出）</h3><ul><li>执行上下文可存在多个 <ul><li>虽然没有明确的数量限制，但如果超出栈分配的空间，会造成堆栈溢出</li></ul></li><li>常见于递归调用，没有终止条件造成死循环的场景</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 递归调用自身</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 报错： Uncaught RangeError: Maximum call stack size exceeded</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-执行上下文的生命周期" tabindex="-1"><a class="header-anchor" href="#_5-执行上下文的生命周期" aria-hidden="true">#</a> 5.执行上下文的生命周期</h3><ul><li>有两个阶段 <ul><li>创建阶段（进入执行上下文） <ul><li>函数被调用时，进入函数环境，为其创建一个执行上下文</li></ul></li><li>执行阶段（代码执行） <ul><li>执行函数中的代码时</li></ul></li></ul></li></ul><h4 id="_1-创建阶段" tabindex="-1"><a class="header-anchor" href="#_1-创建阶段" aria-hidden="true">#</a> 1）创建阶段</h4><ul><li>创建变量对象（VO，Variable Object） <ul><li>确定函数的形参并赋值</li><li>函数环境会初始化创建 Arguments 对象并赋值</li><li>确定普通字面量形式的函数声明并赋值</li><li>变量声明，函数表达式声明，<mark>未赋值</mark></li></ul></li><li>确定 this 指向 <ul><li>由调用者确定</li></ul></li><li>确定作用域 <ul><li>词法环境决定</li><li>哪里声明定义，就在哪里确定</li></ul></li></ul><h4 id="_2-变量对象" tabindex="-1"><a class="header-anchor" href="#_2-变量对象" aria-hidden="true">#</a> 2）变量对象</h4><ul><li>当处于执行上下文的建立阶段时，可以将整个上下文环境看作是一个对象</li><li>该对象拥有 3 个属性 <ul><li>变量对象</li><li>作用域链</li><li>this 指向</li></ul></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>executionContextObj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// 变量对象，里面包含 Arguments 对象，形式参数，函数和局部变量</span>
  <span class="token literal-property property">variableObject</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 作用域链，包含内部上下文所有变量对象的列表</span>
  <span class="token literal-property property">scopeChain</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 上下文中 this 的指向对象</span>
  <span class="token keyword">this</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>在函数的建立阶段，首先会建立 Arguments 对象</li><li>然后确定形式参数，检查当前上下文中的函数声明 <ul><li>每找到一个函数声明，就在 variableObject 下面用函数名建立一个属性</li><li>属性值就指向该函数在内存中的地址的一个引用</li></ul></li><li>如果上述函数名已经存在于 variableObject（简称 VO）中 <ul><li>对应的属性值会被新的引用给覆盖</li></ul></li><li>最后确定当前上下文中的局部变量 <ul><li>如果遇到和函数名同名的变量，则会忽略该变量</li></ul></li></ul><h4 id="_3-执行阶段" tabindex="-1"><a class="header-anchor" href="#_3-执行阶段" aria-hidden="true">#</a> 3）执行阶段</h4><ul><li>变量对象赋值 <ul><li>变量赋值</li><li>函数表达式赋值</li></ul></li><li>调用函数</li><li>顺序执行其它代码</li></ul><h4 id="_4-生命周期" tabindex="-1"><a class="header-anchor" href="#_4-生命周期" aria-hidden="true">#</a> 4）生命周期</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> <span class="token function-variable function">b</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">privateB</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>建立阶段的变量对象 <ul><li>除了 Arguments、函数的声明、形式参数被赋予了具体的属性值外</li><li>其它的变量属性默认的都是 undefined</li><li>并且普通形式声明的函数的提升在变量的上面</li></ul></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>fooExecutionContext <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">variableObject</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 确定 Arguments 对象</span>
    <span class="token literal-property property">arguments</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token number">0</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
      <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 确定形式参数</span>
    <span class="token literal-property property">i</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token comment">// 确定函数引用</span>
    <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token string">&quot;pointer to function c()&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// 局部变量 初始值为 undefined</span>
    <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
    <span class="token comment">// 局部变量 初始值为 undefined</span>
    <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">scopeChain</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">this</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>一旦建立阶段结束，引擎就会进入代码执行阶段 <ul><li>只有在代码执行阶段，局部变量才会被赋予具体的值</li><li>这其实也就解释了变量提升的原理</li></ul></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>fooExecutionContext <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">variableObject</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">arguments</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token number">0</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
      <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">i</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token string">&quot;pointer to function c()&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// a 变量被赋值为 Hello</span>
    <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// b 变量被赋值为 privateB() 函数</span>
    <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token string">&quot;pointer to function privateB()&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">scopeChain</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">this</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-iife-函数中的生命周期" tabindex="-1"><a class="header-anchor" href="#_5-iife-函数中的生命周期" aria-hidden="true">#</a> 5）IIFE 函数中的生命周期</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> foo<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> bar<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> <span class="token function-variable function">bar</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;World&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;good&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">,</span> <span class="token keyword">typeof</span> foo<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>该函数在建立阶段的变量对象 <ul><li>首先确定 Arguments 对象</li><li>然后是形式参数（本例中不存在形式参数）</li><li>接下来开始确定函数的引用 <ul><li>找到 foo 函数后，创建 foo 标识符来指向 foo 函数</li><li>之后同名的 foo 变量不会再被创建，会直接被忽略</li></ul></li><li>然后创建 bar 变量，初始值为 undefined</li></ul></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>fooExecutionContext <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">variableObject</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">arguments</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token string">&quot;pointer to function foo()&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">bar</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">scopeChain</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">this</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>建立阶段完成之后，进入代码执行阶段，开始一句一句的执行代码</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// function</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> bar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
  <span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span> <span class="token comment">// foo 被重新赋值 变成了一个字符串</span>
  <span class="token keyword">var</span> <span class="token function-variable function">bar</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;World&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;good&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">,</span> <span class="token keyword">typeof</span> foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Hello string</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-真题解答" tabindex="-1"><a class="header-anchor" href="#_6-真题解答" aria-hidden="true">#</a> 6.真题解答</h3><h4 id="_1-谈谈你对-javascript-执行上下文栈理解" tabindex="-1"><a class="header-anchor" href="#_1-谈谈你对-javascript-执行上下文栈理解" aria-hidden="true">#</a> 1）谈谈你对 JavaScript 执行上下文栈理解</h4><blockquote><ol><li>什么是执行上下文？</li></ol><p>简而言之，执行上下文是评估和执行 JavaScript 代码的环境的抽象概念。每当 Javascript 代码在运行的时候，它都是在执行上下文中运行</p><ol start="2"><li>执行上下文的类型</li></ol><p>JavaScript 中有三种执行上下文类型</p><ul><li>全局执行上下文：这是默认或者说基础的上下文，任何不在函数内部的代码都在全局上下文中。它会执行两件事，创建一个全局的 window 对象（浏览器的情况下），并且设置 this 的值等于这个全局对象。一个程序中只会有一个全局执行上下文</li><li>函数执行上下文：每当一个函数被调用时, 都会为该函数创建一个新的上下文。每个函数都有它自己的执行上下文，不过是在函数被调用时创建的。函数上下文可以有任意多个。每当一个新的执行上下文被创建，它会按定义的顺序（将在后文讨论）执行一系列步骤。</li><li>Eval 函数执行上下文：执行在 eval 函数内部的代码也会有它属于自己的执行上下文</li></ul><ol start="3"><li>调用栈</li></ol><p>调用栈是解析器（如浏览器中的的 JavaScript 解析器）的一种机制，可以在脚本调用多个函数时，跟踪每个函数在完成执行时应该返回控制的点（如什么函数正在执行，什么函数被这个函数调用，下一个调用的函数是谁）</p><ul><li>当脚本要调用一个函数时，解析器把该函数添加到栈中并且执行这个函数</li><li>任何被这个函数调用的函数会进一步添加到调用栈中，并且运行到它们被上个程序调用的位置</li><li>当函数运行结束后，解释器将它从堆栈中取出，并在主代码列表中继续执行代码</li><li>如果栈占用的空间比分配给它的空间还大，那么则会导致“栈溢出”错误</li></ul></blockquote><h2 id="八-作用域和作用域链" tabindex="-1"><a class="header-anchor" href="#八-作用域和作用域链" aria-hidden="true">#</a> （八）作用域和作用域链</h2><h3 id="_1-经典真题-7" tabindex="-1"><a class="header-anchor" href="#_1-经典真题-7" aria-hidden="true">#</a> 1.经典真题</h3><ul><li>谈谈你对作用域和作用域链的理解？</li></ul><h3 id="_2-作用域-scope" tabindex="-1"><a class="header-anchor" href="#_2-作用域-scope" aria-hidden="true">#</a> 2.作用域（Scope）</h3><ul><li>作用域是在运行时代码中的某些特定部分中变量、函数和对象的可访问性</li><li>即：作用域决定了代码区块中变量和其他资源的可见性</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">outFun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> inVariable <span class="token operator">=</span> <span class="token string">&quot;内层变量2&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">outFun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>inVariable<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Uncaught ReferenceError: inVariable is not defined</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>变量 inVariable 在全局作用域没有声明，所以在全局作用域下取值会报错</p></blockquote><ul><li>作用域就是一个独立的地盘，让变量不会外泄、暴露出去</li><li>作用域最大的用处就是 <mark>隔离变量</mark> ，不同作用域下同名变量不会有冲突</li><li>ES6 之前 JavaScript 只有全局作用域和函数作用域</li><li>ES6 提供了块级作用域，可通过 let 和 const 体现</li></ul><h3 id="_3-全局作用域" tabindex="-1"><a class="header-anchor" href="#_3-全局作用域" aria-hidden="true">#</a> 3.全局作用域</h3><ul><li>在代码中任何地方都能访问到的对象拥有全局作用域</li></ul><h4 id="_1-拥有全局作用域的情况" tabindex="-1"><a class="header-anchor" href="#_1-拥有全局作用域的情况" aria-hidden="true">#</a> 1）拥有全局作用域的情况</h4><ul><li>最外层函数和在最外层函数外面定义的变量拥有全局作用域</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> outVariable <span class="token operator">=</span> <span class="token string">&quot;我是最外层变量&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 最外层变量</span>
<span class="token keyword">function</span> <span class="token function">outFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 最外层函数</span>
  <span class="token keyword">var</span> inVariable <span class="token operator">=</span> <span class="token string">&quot;内层变量&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">innerFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 内层函数</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>inVariable<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">innerFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>outVariable<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 我是最外层变量</span>
<span class="token function">outFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 内层变量</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>inVariable<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// inVariable is not defined</span>
<span class="token function">innerFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// innerFun is not defined</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>所有未定义直接赋值的变量自动声明为拥有全局作用域</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">outFun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  variable <span class="token operator">=</span> <span class="token string">&quot;未定义直接赋值的变量&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> inVariable2 <span class="token operator">=</span> <span class="token string">&quot;内层变量2&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">outFun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 要先执行这个函数，否则根本不知道里面是啥</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>variable<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 未定义直接赋值的变量</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>inVariable2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// inVariable2 is not defined</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>所有 window 对象的属性拥有全局作用域</li><li>如：window.name、window.location、window.top 等等</li></ul><h4 id="_2-全局作用域弊端" tabindex="-1"><a class="header-anchor" href="#_2-全局作用域弊端" aria-hidden="true">#</a> 2）全局作用域弊端</h4><ul><li>会污染全局命名空间，容易引起命名冲突</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 张三写的代码中</span>
<span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 李四写的代码中</span>
<span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>因此 jQuery、Zepto 等库的源码，所有的代码都会放在 <code>(function(){....})()</code> 中</li><li>放在里面的所有变量，都不会被外泄和暴露，不会污染到全局，不会对其他的库或者 JS 脚本造成影响</li><li>这是函数作用域的一个体现</li></ul><h3 id="_4-函数作用域" tabindex="-1"><a class="header-anchor" href="#_4-函数作用域" aria-hidden="true">#</a> 4.函数作用域</h3><ul><li>指声明在函数内部的变量</li><li>和全局作用域相反，局部作用域一般只在 <mark>固定的代码片段内可访问到</mark></li><li>最常见的如：函数内部</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> stuName <span class="token operator">=</span> <span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">innerSay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stuName<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">innerSay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stuName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 脚本错误</span>
<span class="token function">innerSay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 脚本错误</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,519);function N(O,J){const e=p("ExternalLinkIcon");return o(),l("div",null,[h,n("blockquote",null,[n("p",null,[s("ES6 标准中对 let/const 声明中的解释 "),n("a",g,[s("第 13 章"),c(e)]),s("，有如下一段文字：")]),f,j,y,q,_,x,w]),S])}const B=t(b,[["render",N],["__file","05.html.vue"]]);export{B as default};
